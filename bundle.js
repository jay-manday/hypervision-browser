(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function broadcast(e,r){return function(){var e=require(161),r=document.createElement("div"),t=document.createElement("div");t.setAttribute("style","margin-bottom: 12px");var n=document.createElement("video");n.setAttribute("id","preview"),n.setAttribute("controls","controls"),n.setAttribute("autoplay","autoplay"),e(t,["\n        ",n,"\n      "]);var o=document.createElement("div");o.setAttribute("style","margin-bottom: 12px");var i=document.createElement("button");i.onclick=arguments[0],e(i,["\n          Start broadcast\n        "]),e(o,["\n        ",i,"\n      "]);var a=document.createElement("div");return e(a,["\n        Key: ",arguments[1],"\n      "]),e(r,["\n      ",t,"\n\n      ",o,"\n\n      ",a,"\n    "]),r}(function(){getUserMedia(function(e,t){if(e)return console.log("😵 getUserMedia error",e);var n=document.getElementById("preview");n.muted=!0,n.srcObject=t;var o=recorder(t,{mimeType:mimeType,videoBitsPerSecond:2e5,audioBitsPerSecond:32e3}),i=hypercore(ram);i.on("ready",function(){var e=i.key.toString("hex"),t=i.discoveryKey.toString("hex");r("broadcast:key:set",e);var n=signalhub(t,config.signalhub);swarm(n).on("peer",function(e,r){pump(e,i.replicate({live:!0,encrypt:!1}),e)})}),pump(o,cluster()).on("data",function(e){console.log("⚡️ appending to broadcast:",e),i.append(e)})})},e.broadcast.key?e.broadcast.key:"waiting...")}var html=require(25),signalhub=require(114),swarm=require(155),getUserMedia=require(48),recorder=require(63),hypercore=require(52),ram=require(93),pump=require(91),cluster=require(145),mimeType=require(5)(window.MediaRecorder.isTypeSupported),config=require(2);module.exports=broadcast;

},{"114":114,"145":145,"155":155,"161":161,"2":2,"25":25,"48":48,"5":5,"52":52,"63":63,"91":91,"93":93}],2:[function(require,module,exports){
module.exports={signalhub:["wss://signalhubws-bpyimaismm.now.sh"]};

},{}],3:[function(require,module,exports){
function home(e,t){return function(){var e=require(161),t=document.createElement("div"),r=document.createElement("h1");e(r,["hypervision-browser"]);var n=document.createElement("h3"),o=document.createElement("a");o.setAttribute("href","/broadcast"),e(o,["broadcast"]),e(n,[o]);var c=document.createElement("h3"),a=document.createElement("a");a.setAttribute("href","/watch"),e(a,["watch"]),e(c,[a]);var m=document.createElement("br"),u=document.createElement("br"),i=document.createElement("h3"),s=document.createElement("a");return s.setAttribute("href","https://github.com/louiscenter/hypervision-browser/"),e(s,["** instructions **"]),e(i,[s]),e(t,["\n      ",r,"\n      ",n,"\n      ",c,"\n      ",m,u,"\n      ",i,"\n    "]),t}()}var html=require(25);module.exports=home;

},{"161":161,"25":25}],4:[function(require,module,exports){
var choo=require(26),app=choo();app.use(function(a,e){a.broadcast={},a.broadcast.key="",e.on("broadcast:key:set",function(o){a.broadcast.key=o,e.emit("render")})}),app.route("/",require(3)),app.route("/broadcast",require(1)),app.route("/watch",require(162)),document.body.appendChild(app.start());

},{"1":1,"162":162,"26":26,"3":3}],5:[function(require,module,exports){
function getMimeType(e){return MIME_TYPES.map(function(n){return e(n)?n:null}).filter(function(e){return null!==e})[0]}var MIME_TYPES=["video/webm;codecs=vp9,opus","video/webm;codecs=vp8,opus"];module.exports=getMimeType;

},{}],6:[function(require,module,exports){
function crc16(r){for(var c=0,o=0,e=0;e<8;e++)r=(r-(o=255&r))/256,c=65535&(c<<8^TABLE[255&(c>>8^o)]);return c}var TABLE=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];module.exports=crc16;

},{}],7:[function(require,module,exports){
function LRU(i,t){if(!(this instanceof LRU))return new LRU(i,t);for(t||(t={}),this.collisions=factorOfTwo(t.collisions||t.bucketSize||4),this.buckets=factorOf(i,this.collisions)/this.collisions;this.buckets>65536;)this.buckets>>=1,this.collisions<<=1;this.size=this.buckets*this.collisions,this.wrap=!t.indexedValues,this.cache=new Array(this.size),this.hash=65536===this.buckets?hash:maskedHash(this.buckets-1),this.evict=t.evict||null}function move(i,t,s,e){for(;s>t;)i[s]=i[--s];i[t]=e}function Node(i,t){this.index=i,this.value=t}function factorOf(i,t){for(i=factorOfTwo(i);i&t-1;)i<<=1;return i}function factorOfTwo(i){if(i&&!(i&i-1))return i;for(var t=1;t<i;)t<<=1;return t}function maskedHash(i){return function(t){return hash(t)&i}}var hash=require(6);module.exports=LRU,LRU.prototype.set=function(i,t){for(var s=this.collisions*this.hash(i),e=s+this.collisions,h=s,c=null;h<e;){if(!(c=this.cache[h]))return c=this.cache[h]=this.wrap?new Node(i,t):t,void move(this.cache,s,h,c);if(c.index===i)return this.wrap?c.value=t:this.cache[h]=t,void move(this.cache,s,h,c);h++}this.wrap?(this.evict&&this.evict(c.index,c.value),c.index=i,c.value=t):(this.evict&&this.evict(c.index,c),this.cache[h-1]=t),move(this.cache,s,h-1,c)},LRU.prototype.get=function(i){for(var t=this.collisions*this.hash(i),s=t+this.collisions,e=t;e<s;){var h=this.cache[e++];if(!h)return null;if(h.index===i)return move(this.cache,t,e-1,h),this.wrap?h.value:h}return null};

},{"6":6}],8:[function(require,module,exports){
function batcher(l){function r(h){a&&callAll(a,h),n=!1,a=t;var i=u;if(u=null,t=null,!i||!i.length){if(!a||!a.length)return void(a=null);i||(i=[])}n=!0,l(i,r)}var n=!1,u=null,t=null,a=null;return function(h,i){n?(u||(u=[],t=[]),pushAll(u,h),i&&t.push(i)):(i&&(a=[i]),n=!0,l(Array.isArray(h)?h:[h],r))}}function pushAll(l,r){Array.isArray(r)?pushArray(l,r):l.push(r)}function pushArray(l,r){for(var n=0;n<r.length;n++)l.push(r[n])}function callAll(l,r){for(var n=0;n<l.length;n++)l[n](r)}module.exports=batcher;

},{}],9:[function(require,module,exports){
"use strict";function placeHoldersCount(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===o[r-2]?2:"="===o[r-1]?1:0}function byteLength(o){return 3*o.length/4-placeHoldersCount(o)}function toByteArray(o){var r,e,t,u,n,p=o.length;u=placeHoldersCount(o),n=new Arr(3*p/4-u),e=u>0?p-4:p;var a=0;for(r=0;r<e;r+=4)t=revLookup[o.charCodeAt(r)]<<18|revLookup[o.charCodeAt(r+1)]<<12|revLookup[o.charCodeAt(r+2)]<<6|revLookup[o.charCodeAt(r+3)],n[a++]=t>>16&255,n[a++]=t>>8&255,n[a++]=255&t;return 2===u?(t=revLookup[o.charCodeAt(r)]<<2|revLookup[o.charCodeAt(r+1)]>>4,n[a++]=255&t):1===u&&(t=revLookup[o.charCodeAt(r)]<<10|revLookup[o.charCodeAt(r+1)]<<4|revLookup[o.charCodeAt(r+2)]>>2,n[a++]=t>>8&255,n[a++]=255&t),n}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t=[],u=r;u<e;u+=3)t.push(tripletToBase64((o[u]<<16)+(o[u+1]<<8)+o[u+2]));return t.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,u="",n=[],p=16383,a=0,l=e-t;a<l;a+=p)n.push(encodeChunk(o,a,a+p>l?l:a+p));return 1===t?(u+=lookup[(r=o[e-1])>>2],u+=lookup[r<<4&63],u+="=="):2===t&&(u+=lookup[(r=(o[e-2]<<8)+o[e-1])>>10],u+=lookup[r>>4&63],u+=lookup[r<<2&63],u+="="),n.push(u),n.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;

},{}],10:[function(require,module,exports){
function browser(e){return new Uint8Array(atob(e).split("").map(charCodeAt))}function node(e){return new(require(22).Buffer)(e,"base64")}function charCodeAt(e){return e.charCodeAt(0)}module.exports="function"==typeof atob?browser:node;

},{"22":22}],11:[function(require,module,exports){
(function (Buffer){
function State(t,e,n){this.inputOffset=0,this.inputLength=t.length,this.input=t,this.outputOffset=n,this.output=e}function encode(t,e,n){n||(n=0),e||(e=new Buffer(encodingLength(t)));var o=new State(t,e,n);return rle(o),encode.bytes=o.outputOffset-n,e}function encodingLength(t){var e=new State(t,null,0);return rle(e),e.outputOffset}function decode(t,e){e||(e=0);for(var n=new Buffer(decodingLength(t,e)),o=0;e<t.length;){var u=varint.decode(t,e),i=1&u,f=i?(u-(3&u))/4:u/2;e+=varint.decode.bytes,i?n.fill(2&u?255:0,o,o+f):(t.copy(n,o,e,e+f),e+=f),o+=f}return decode.bytes=t.length-e,n}function decodingLength(t,e){e||(e=0);for(var n=0;e<t.length;){var o=varint.decode(t,e);e+=varint.decode.bytes;var u=1&o,i=u?(o-(3&o))/4:o/2;n+=i,u||(e+=i)}if(e>t.length)throw new Error("Invalid RLE bitfield");return n}function rle(t){for(var e=0,n=0,o=t.input;t.inputLength>0&&!o[t.inputLength-1];)t.inputLength--;for(var u=0;u<t.inputLength;u++)o[u]!==n?(e&&encodeUpdate(t,u,e,n),0===o[u]||255===o[u]?(n=o[u],e=1):e=0):e++;e&&encodeUpdate(t,t.inputLength,e,n),encodeFinal(t)}function encodeHead(t,e){var n=e-t.inputOffset;varint.encode(2*n,t.output,t.outputOffset),t.outputOffset+=varint.encode.bytes,t.input.copy(t.output,t.outputOffset,t.inputOffset,e),t.outputOffset+=n}function encodeFinal(t){var e=t.inputLength-t.inputOffset;e&&(t.output?encodeHead(t,t.inputLength):t.outputOffset+=e+varint.encodingLength(2*e),t.inputOffset=t.inputLength)}function encodeUpdate(t,e,n,o){var u=e-n-t.inputOffset,i=u?varint.encodingLength(2*u)+u:0,f=4*n+(o?2:0)+1,d=i+varint.encodingLength(f);if(!(d>=varint.encodingLength(2*(e-t.inputOffset))+e-t.inputOffset)){if(!t.output)return t.outputOffset+=d,void(t.inputOffset=e);u&&encodeHead(t,e-n),varint.encode(f,t.output,t.outputOffset),t.outputOffset+=varint.encode.bytes,t.inputOffset=e}}var varint=require(14);exports.encode=encode,exports.encode.bytes=0,exports.encodingLength=encodingLength,exports.decode=decode,exports.decode.bytes=0,exports.decodingLength=decodingLength;

}).call(this,require(22).Buffer)
},{"14":14,"22":22}],12:[function(require,module,exports){
function read(e,r){var a,d=0,t=0,o=r=r||0,n=e.length;do{if(o>=n)return read.bytes=0,void(read.bytesRead=0);a=e[o++],d+=t<28?(a&REST)<<t:(a&REST)*Math.pow(2,t),t+=7}while(a>=MSB);return read.bytes=o-r,d}module.exports=read;var MSB=128,REST=127;

},{}],13:[function(require,module,exports){
function encode(e,o,r){o=o||[];for(var S=r=r||0;e>=INT;)o[r++]=255&e|MSB,e/=128;for(;e&MSBALL;)o[r++]=255&e|MSB,e>>>=7;return o[r]=0|e,encode.bytes=r-S+1,o}module.exports=encode;var MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);

},{}],14:[function(require,module,exports){
module.exports={encode:require(13),decode:require(12),encodingLength:require(15)};

},{"12":12,"13":13,"15":15}],15:[function(require,module,exports){
var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63);module.exports=function(N){return N<N1?1:N<N2?2:N<N3?3:N<N4?4:N<N5?5:N<N6?6:N<N7?7:N<N8?8:N<N9?9:10};

},{}],16:[function(require,module,exports){
function Blake2b(A,I,C,g,i){if(!(this instanceof Blake2b))return new Blake2b(A,I,C,g,i);if(!mod)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");A||(A=32),freeList.length||(freeList.push(head),head+=216),this.digestLength=A,this.finalized=!1,this.pointer=freeList.pop(),memory.fill(0,0,64),memory[0]=this.digestLength,memory[1]=I?I.length:0,memory[2]=1,memory[3]=1,C&&memory.set(C,32),g&&memory.set(g,48),mod.blake2b_init(this.pointer,this.digestLength),I&&(this.update(I),memory.fill(0,head,head+I.length),memory[this.pointer+200]=128)}function noop(){}function hexSlice(A,I,C){for(var g="",i=0;i<C;i++)g+=toHex(A[I+i]);return g}function toHex(A){return A<16?"0"+A.toString(16):A.toString(16)}function setup(A){mod=A.instance.exports,memory=new Uint8Array(A.instance.exports.memory.buffer)}var rdy,assert=require(68),toUint8Array=require(10),buf=toUint8Array("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL"),head=64,mod=null,memory=null,freeList=[];module.exports=Blake2b;var BYTES_MIN=module.exports.BYTES_MIN=16,BYTES_MAX=module.exports.BYTES_MAX=64,BYTES=module.exports.BYTES=32,KEYBYTES_MIN=module.exports.KEYBYTES_MIN=16,KEYBYTES_MAX=module.exports.KEYBYTES_MAX=64,KEYBYTES=module.exports.KEYBYTES=32,SALTBYTES=module.exports.SALTBYTES=16,PERSONALBYTES=module.exports.PERSONALBYTES=16;Blake2b.prototype.ready=Blake2b.ready,Blake2b.prototype.update=function(A){return memory.set(A,head),mod.blake2b_update(this.pointer,head,head+A.length),this},Blake2b.prototype.digest=function(A){if(this.finalized=!0,freeList.push(this.pointer),mod.blake2b_final(this.pointer),!A||"binary"===A)return memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("hex"===A)return hexSlice(memory,this.pointer+128,this.digestLength);for(var I=0;I<this.digestLength;I++)A[I]=memory[this.pointer+128+I];return A},Blake2b.prototype.final=Blake2b.prototype.digest,Blake2b.WASM=buf,Blake2b.SUPPORTED="undefined"!=typeof WebAssembly,Blake2b.ready=function(A){return A||(A=noop),Blake2b.SUPPORTED?(rdy||(rdy=WebAssembly.instantiate(buf).then(setup)),rdy.then(A,A)):A(new Error("WebAssembly not supported"))};

},{"10":10,"68":68}],17:[function(require,module,exports){
function ADD64AA(e,r,t){var o=e[r]+e[t],a=e[r+1]+e[t+1];o>=4294967296&&a++,e[r]=o,e[r+1]=a}function ADD64AC(e,r,t,o){var a=e[r]+t;t<0&&(a+=4294967296);var n=e[r+1]+o;a>=4294967296&&n++,e[r]=a,e[r+1]=n}function B2B_GET32(e,r){return e[r]^e[r+1]<<8^e[r+2]<<16^e[r+3]<<24}function B2B_G(e,r,t,o,a,n){var A=m[a],B=m[a+1],i=m[n],l=m[n+1];ADD64AA(v,e,r),ADD64AC(v,e,A,B);var S=v[o]^v[e],s=v[o+1]^v[e+1];v[o]=s,v[o+1]=S,ADD64AA(v,t,o),v[r]=(S=v[r]^v[t])>>>24^(s=v[r+1]^v[t+1])<<8,v[r+1]=s>>>24^S<<8,ADD64AA(v,e,r),ADD64AC(v,e,i,l),v[o]=(S=v[o]^v[e])>>>16^(s=v[o+1]^v[e+1])<<16,v[o+1]=s>>>16^S<<16,ADD64AA(v,t,o),v[r]=(s=v[r+1]^v[t+1])>>>31^(S=v[r]^v[t])<<1,v[r+1]=S>>>31^s<<1}function blake2bCompress(e,r){var t=0;for(t=0;t<16;t++)v[t]=e.h[t],v[t+16]=BLAKE2B_IV32[t];for(v[24]=v[24]^e.t,v[25]=v[25]^e.t/4294967296,r&&(v[28]=~v[28],v[29]=~v[29]),t=0;t<32;t++)m[t]=B2B_GET32(e.b,4*t);for(t=0;t<12;t++)B2B_G(0,8,16,24,SIGMA82[16*t+0],SIGMA82[16*t+1]),B2B_G(2,10,18,26,SIGMA82[16*t+2],SIGMA82[16*t+3]),B2B_G(4,12,20,28,SIGMA82[16*t+4],SIGMA82[16*t+5]),B2B_G(6,14,22,30,SIGMA82[16*t+6],SIGMA82[16*t+7]),B2B_G(0,10,20,30,SIGMA82[16*t+8],SIGMA82[16*t+9]),B2B_G(2,12,22,24,SIGMA82[16*t+10],SIGMA82[16*t+11]),B2B_G(4,14,16,26,SIGMA82[16*t+12],SIGMA82[16*t+13]),B2B_G(6,8,18,28,SIGMA82[16*t+14],SIGMA82[16*t+15]);for(t=0;t<16;t++)e.h[t]=e.h[t]^v[t]^v[t+16]}function Blake2b(e,r,t,o){parameter_block.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,parameter_block[0]=e,r&&(parameter_block[1]=r.length),parameter_block[2]=1,parameter_block[3]=1,t&&parameter_block.set(t,32),o&&parameter_block.set(o,48);for(var a=0;a<16;a++)this.h[a]=BLAKE2B_IV32[a]^B2B_GET32(parameter_block,4*a);r&&(blake2bUpdate(this,r),this.c=128)}function blake2bUpdate(e,r){for(var t=0;t<r.length;t++)128===e.c&&(e.t+=e.c,blake2bCompress(e,!1),e.c=0),e.b[e.c++]=r[t]}function blake2bFinal(e,r){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;blake2bCompress(e,!0);for(var t=0;t<e.outlen;t++)r[t]=e.h[t>>2]>>8*(3&t);return r}function hexSlice(e){for(var r="",t=0;t<e.length;t++)r+=toHex(e[t]);return r}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}var assert=require(68),b2wasm=require(16),BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],SIGMA82=new Uint8Array(SIGMA8.map(function(e){return 2*e})),v=new Uint32Array(32),m=new Uint32Array(32),parameter_block=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);Blake2b.prototype.update=function(e){return blake2bUpdate(this,e),this},Blake2b.prototype.digest=function(e){var r=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);return blake2bFinal(this,r),"hex"===e?hexSlice(r):r},Blake2b.prototype.final=Blake2b.prototype.digest,Blake2b.ready=function(e){b2wasm.ready(function(){e()})};var Proto=Blake2b;module.exports=function(e,r,t,o,a){return new Proto(e,r,t,o)},module.exports.ready=function(e){b2wasm.ready(function(){e()})},module.exports.WASM_SUPPORTED=b2wasm.SUPPORTED,module.exports.WASM_LOADED=!1;var BYTES_MIN=module.exports.BYTES_MIN=16,BYTES_MAX=module.exports.BYTES_MAX=64,BYTES=module.exports.BYTES=32,KEYBYTES_MIN=module.exports.KEYBYTES_MIN=16,KEYBYTES_MAX=module.exports.KEYBYTES_MAX=64,KEYBYTES=module.exports.KEYBYTES=32,SALTBYTES=module.exports.SALTBYTES=16,PERSONALBYTES=module.exports.PERSONALBYTES=16;b2wasm.ready(function(e){e||(module.exports.WASM_LOADED=!0,Proto=b2wasm)});

},{"16":16,"68":68}],18:[function(require,module,exports){

},{}],19:[function(require,module,exports){

},{}],20:[function(require,module,exports){
(function (Buffer){
function allocUnsafe(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative');return Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e)}module.exports=allocUnsafe;

}).call(this,require(22).Buffer)
},{"22":22}],21:[function(require,module,exports){
(function (Buffer){
"use strict";module.exports=function(r,e){if(!Buffer.isBuffer(r)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(r===e)return!0;if("function"==typeof r.equals)return r.equals(e);if(r.length!==e.length)return!1;for(var f=0;f<r.length;f++)if(r[f]!==e[f])return!1;return!0};

}).call(this,{"isBuffer":require(60)})
},{"60":60}],22:[function(require,module,exports){
"use strict";function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function createBuffer(e){if(e>K_MAX_LENGTH)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=Buffer.prototype,t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return isArrayBuffer(e)?fromArrayBuffer(e,t,r):"string"==typeof e?fromString(e,t):fromObject(e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var r=0|byteLength(e,t),n=createBuffer(r),f=n.write(e,t);return f!==r&&(n=n.slice(0,f)),n}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(r||0))throw new RangeError("'length' is out of bounds");var n;return(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r)).__proto__=Buffer.prototype,n}function fromObject(e){if(Buffer.isBuffer(e)){var t=0|checked(e.length),r=createBuffer(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(e){if(isArrayBufferView(e)||"length"in e)return"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e);if("Buffer"===e.type&&Array.isArray(e.data))return fromArrayLike(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(isArrayBufferView(e)||isArrayBuffer(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,f){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),numberIsNaN(r=+r)&&(r=f?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(f)return-1;r=e.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,f);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,f){function i(e,t){return 1===u?e[t]:e.readUInt16BE(t*u)}var o,u=1,s=e.length,a=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;u=2,s/=2,a/=2,r/=2}if(f){var h=-1;for(o=r;o<s;o++)if(i(e,o)===i(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===a)return h*u}else-1!==h&&(o-=o-h),h=-1}else for(r+a>s&&(r=s-a),o=r;o>=0;o--){for(var c=!0,l=0;l<a;l++)if(i(e,o+l)!==i(t,l)){c=!1;break}if(c)return o}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var f=e.length-r;n?(n=Number(n))>f&&(n=f):n=f;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(numberIsNaN(u))return o;e[r+o]=u}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return base64.fromByteArray(0===t&&r===e.length?e:e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],f=t;f<r;){var i,o,u,s,a=e[f],h=null,c=a>239?4:a>223?3:a>191?2:1;if(f+c<=r)switch(c){case 1:a<128&&(h=a);break;case 2:128==(192&(i=e[f+1]))&&(s=(31&a)<<6|63&i)>127&&(h=s);break;case 3:o=e[f+2],128==(192&(i=e[f+1]))&&128==(192&o)&&(s=(15&a)<<12|(63&i)<<6|63&o)>2047&&(s<55296||s>57343)&&(h=s);break;case 4:o=e[f+2],u=e[f+3],128==(192&(i=e[f+1]))&&128==(192&o)&&128==(192&u)&&(s=(15&a)<<18|(63&i)<<12|(63&o)<<6|63&u)>65535&&s<1114112&&(h=s)}null===h?(h=65533,c=1):h>65535&&(n.push((h-=65536)>>>10&1023|55296),h=56320|1023&h),n.push(h),f+=c}return decodeCodePointsArray(n)}function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(127&e[f]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(e[f]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=t;i<r;++i)f+=toHex(e[i]);return f}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,f,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function checkIEEE754(e,t,r,n,f,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(e,t,r,n,52,8),r+8}function base64clean(e){if((e=e.trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,f=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!f){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),f=r;continue}r=65536+(f-55296<<10|r-56320)}else f&&(t-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,f=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,f.push(r%256),f.push(n);return f}function base64ToBytes(e){return base64.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var f=0;f<n&&!(f+r>=t.length||f>=e.length);++f)t[f+r]=e[f];return f}function isArrayBuffer(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function isArrayBufferView(e){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(e)}function numberIsNaN(e){return e!=e}var base64=require(9),ieee754=require(58);exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(e,t,r){return alloc(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer},Buffer.compare=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,f=0,i=Math.min(r,n);f<i;++f)if(e[f]!==t[f]){r=e[f],n=t[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),f=0;for(r=0;r<e.length;++r){var i=e[r];if(!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=exports.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,f){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),t<0||r>e.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&t>=r)return 0;if(n>=f)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,f>>>=0,this===e)return 0;for(var i=f-n,o=r-t,u=Math.min(i,o),s=this.slice(n,f),a=e.slice(t,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=Buffer.prototype,n},Buffer.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n},Buffer.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],f=1;t>0&&(f*=256);)n+=this[e+--t]*f;return n},Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n>=(f*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=t,f=1,i=this[e+--n];n>0&&(f*=256);)i+=this[e+--n]*f;return i>=(f*=128)&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var f=1,i=0;for(this[t]=255&e;++i<r&&(f*=256);)this[t+i]=e/f&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var f=r-1,i=1;for(this[t+f]=255&e;--f>=0&&(i*=256);)this[t+f]=e/i&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=0,o=1,u=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var f,i=n-r;if(this===e&&r<t&&t<n)for(f=i-1;f>=0;--f)e[f+t]=this[f+r];else if(i<1e3)for(f=0;f<i;++f)e[f+t]=this[f+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var f=e.charCodeAt(0);f<256&&(e=f)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=Buffer.isBuffer(e)?e:new Buffer(e,n),u=o.length;for(i=0;i<r-t;++i)this[i+t]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;

},{"58":58,"9":9}],23:[function(require,module,exports){
(function (Buffer){
function Buffers(e){if(!(this instanceof Buffers))return new Buffers(e);this.buffers=e||[],this.length=this.buffers.reduce(function(e,t){return e+t.length},0)}module.exports=Buffers,Buffers.prototype.push=function(){for(var e=0;e<arguments.length;e++)if(!Buffer.isBuffer(arguments[e]))throw new TypeError("Tried to push a non-buffer");for(e=0;e<arguments.length;e++){var t=arguments[e];this.buffers.push(t),this.length+=t.length}return this.length},Buffers.prototype.unshift=function(){for(var e=0;e<arguments.length;e++)if(!Buffer.isBuffer(arguments[e]))throw new TypeError("Tried to unshift a non-buffer");for(e=0;e<arguments.length;e++){var t=arguments[e];this.buffers.unshift(t),this.length+=t.length}return this.length},Buffers.prototype.copy=function(e,t,f,r){return this.slice(f,r).copy(e,t,0,r-f)},Buffers.prototype.splice=function(e,t){var f=this.buffers,r=e>=0?e:this.length-e,n=[].slice.call(arguments,2);void 0===t?t=this.length-r:t>this.length-r&&(t=this.length-r);for(e=0;e<n.length;e++)this.length+=n[e].length;for(var s=new Buffers,h=0,i=0;i<f.length&&h+f[i].length<r;i++)h+=f[i].length;if(r-h>0){var o=r-h;if(o+t<f[i].length){s.push(f[i].slice(o,o+t));var u=f[i],l=new Buffer(o);for(e=0;e<o;e++)l[e]=u[e];var g=new Buffer(u.length-o-t);for(e=o+t;e<u.length;e++)g[e-t-o]=u[e];if(n.length>0){var p=n.slice();p.unshift(l),p.push(g),f.splice.apply(f,[i,1].concat(p)),i+=p.length,n=[]}else f.splice(i,1,l,g),i+=2}else s.push(f[i].slice(o)),f[i]=f[i].slice(0,o),i++}for(n.length>0&&(f.splice.apply(f,[i,0].concat(n)),i+=n.length);s.length<t;){var c=f[i],a=c.length,B=Math.min(a,t-s.length);B===a?(s.push(c),f.splice(i,1)):(s.push(c.slice(0,B)),f[i]=f[i].slice(B))}return this.length-=s.length,s},Buffers.prototype.slice=function(e,t){var f=this.buffers;void 0===t&&(t=this.length),void 0===e&&(e=0),t>this.length&&(t=this.length);for(var r=0,n=0;n<f.length&&r+f[n].length<=e;n++)r+=f[n].length;for(var s=new Buffer(t-e),h=0,i=n;h<t-e&&i<f.length;i++){var o=f[i].length,u=0===h?e-r:0,l=h+o>=t-e?Math.min(u+(t-e)-h,o):o;f[i].copy(s,h,u,l),h+=l-u}return s},Buffers.prototype.pos=function(e){if(e<0||e>=this.length)throw new Error("oob");for(var t=e,f=0,r=null;;){if(t<(r=this.buffers[f]).length)return{buf:f,offset:t};t-=r.length,f++}},Buffers.prototype.get=function(e){var t=this.pos(e);return this.buffers[t.buf].get(t.offset)},Buffers.prototype.set=function(e,t){var f=this.pos(e);return this.buffers[f.buf].set(f.offset,t)},Buffers.prototype.indexOf=function(e,t){if("string"==typeof e)e=new Buffer(e);else if(!(e instanceof Buffer))throw new Error("Invalid type for a search string");if(!e.length)return 0;if(!this.length)return-1;var f,r=0,n=0,s=0,h=0;if(t){var i=this.pos(t);r=i.buf,n=i.offset,h=t}for(;;){for(;n>=this.buffers[r].length;)if(n=0,++r>=this.buffers.length)return-1;if(this.buffers[r][n]==e[s]){if(0==s&&(f={i:r,j:n,pos:h}),++s==e.length)return f.pos}else 0!=s&&(r=f.i,n=f.j,h=f.pos,s=0);n++,h++}},Buffers.prototype.toBuffer=function(){return this.slice()},Buffers.prototype.toString=function(e,t,f){return this.slice(t,f).toString(e)};

}).call(this,require(22).Buffer)
},{"22":22}],24:[function(require,module,exports){
(function (Buffer){
var stream=require(107),inherits=require(59),SIGNAL_FLUSH=new Buffer([0]),Bulk=function(t,e,r){if(!(this instanceof Bulk))return new Bulk(t,e,r);"function"==typeof t&&(r=e,e=t,t={}),stream.Writable.call(this,t),this._worker=e,this._flush=r,this.destroyed=!1};inherits(Bulk,stream.Writable),Bulk.obj=function(t,e,r){return"function"==typeof t?Bulk.obj(null,t,e):(t||(t={}),t.objectMode=!0,new Bulk(t,e,r))},Bulk.prototype.end=function(t,e,r){return this._flush?"function"==typeof t?this.end(null,null,t):"function"==typeof e?this.end(t,null,e):(t&&this.write(t),this._writableState.ending||this.write(SIGNAL_FLUSH),stream.Writable.prototype.end.call(this,r)):stream.Writable.prototype.end.apply(this,arguments)},Bulk.prototype.destroy=function(t){this.destroyed||(this.destroyed=!0,t&&this.emit("error"),this.emit("close"))},Bulk.prototype._write=function(t,e,r){t===SIGNAL_FLUSH?this._flush(r):this._worker([t],r)},Bulk.prototype._writev=function(t,e){var r=t.length;if(t[t.length-1].chunk===SIGNAL_FLUSH&&(e=this._flusher(e),!--r))return e();for(var i=new Array(r),n=0;n<r;n++)i[n]=t[n].chunk;this._worker(i,e)},Bulk.prototype._flusher=function(t){var e=this;return function(r){if(r)return t(r);e._flush(t)}},module.exports=Bulk;

}).call(this,require(22).Buffer)
},{"107":107,"22":22,"59":59}],25:[function(require,module,exports){
module.exports={};

},{}],26:[function(require,module,exports){
function Choo(t){if(!(this instanceof Choo))return new Choo(t);t=t||{};var e=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",REPLACESTATE:"replaceState",PUSHSTATE:"pushState",NAVIGATE:"navigate",POPSTATE:"popState",RENDER:"render"},this._historyEnabled=void 0===t.history||t.history,this._hrefEnabled=void 0===t.href||t.href,this._hasWindow="undefined"!=typeof window,this._createLocation=nanolocation,this._loaded=!1,this._tree=null,this.router=nanorouter({curry:!0}),this.emitter=nanobus("choo.emit");var n={events:this._events};this._hasWindow?(this.state=window.initialState?xtend(window.initialState,n):n,delete window.initialState):this.state=n,this._hasWindow&&(this.state.title=document.title),this.emitter.prependListener(this._events.DOMTITLECHANGE,function(t){e.state.title=t,e._hasWindow&&(document.title=t)})}var scrollToAnchor=require(112),documentReady=require(33),nanolocation=require(71),nanotiming=require(78),nanorouter=require(77),nanomorph=require(72),nanoquery=require(75),nanohref=require(70),nanoraf=require(76),nanobus=require(69),xtend=require(159);module.exports=Choo;var HISTORY_OBJECT={};Choo.prototype.route=function(t,e){var n=this;this.router.on(t,function(o){return function(){n.state.params=o,n.state.route=t;var i=nanotiming("choo.route('"+t+"')"),r=e(n.state,function(t,e){n.emitter.emit.apply(n.emitter,arguments)});return i(),r}})},Choo.prototype.use=function(t){var e="choo.use",n=nanotiming(e=t.storeName?e+"("+t.storeName+")":e);t(this.state,this.emitter,this),n()},Choo.prototype.start=function(){var t=this;return this._historyEnabled&&(this.emitter.prependListener(this._events.NAVIGATE,function(){t.state.query=nanoquery(window.location.search),t._loaded&&(t.emitter.emit(t._events.RENDER),setTimeout(scrollToAnchor.bind(null,window.location.hash),0))}),this.emitter.prependListener(this._events.POPSTATE,function(){t.emitter.emit(t._events.NAVIGATE)}),this.emitter.prependListener(this._events.PUSHSTATE,function(e){window.history.pushState(HISTORY_OBJECT,null,e),t.emitter.emit(t._events.NAVIGATE)}),this.emitter.prependListener(this._events.REPLACESTATE,function(e){window.history.replaceState(HISTORY_OBJECT,null,e),t.emitter.emit(t._events.NAVIGATE)}),window.onpopstate=function(){t.emitter.emit(t._events.POPSTATE)},t._hrefEnabled&&nanohref(function(e){var n=e.href;n!==window.location.href&&t.emitter.emit(t._events.PUSHSTATE,n)})),this.state.href=this._createLocation(),this.state.query=nanoquery(window.location.search),this._tree=this.router(this.state.href),this.emitter.prependListener(t._events.RENDER,nanoraf(function(){var e=nanotiming("choo.render");t.state.href=t._createLocation();var n=t.router(t.state.href),o=nanotiming("choo.morph");nanomorph(t._tree,n),o(),e()})),documentReady(function(){t.emitter.emit(t._events.DOMCONTENTLOADED),t._loaded=!0}),this._tree},Choo.prototype.mount=function(t){var e=this;documentReady(function(){var n=nanotiming("choo.render"),o=e.start();e._tree="string"==typeof t?document.querySelector(t):t;var i=nanotiming("choo.morph");nanomorph(e._tree,o),i(),n()})},Choo.prototype.toString=function(t,e){return this.state=xtend(this.state,e||{}),this.state.href=t.replace(/\?.+$/,""),this.state.query=nanoquery(t),this.router(t).toString()};

},{"112":112,"159":159,"33":33,"69":69,"70":70,"71":71,"72":72,"75":75,"76":76,"77":77,"78":78}],27:[function(require,module,exports){
(function (Buffer){
function codecs(e){if("object"==typeof e&&e&&e.encode&&e.decode)return e;switch(e){case"ndjson":return codecs.ndjson;case"json":return codecs.json;case"ascii":return codecs.ascii;case"utf-8":case"utf8":return codecs.utf8;case"hex":return codecs.hex;case"base64":return codecs.base64;case"ucs-2":case"ucs2":return codecs.ucs2;case"utf16-le":case"utf16le":return codecs.utf16le}return codecs.binary}function createJSON(e){return{encode:e?function(e){return new Buffer(JSON.stringify(e)+"\n")}:function(e){return new Buffer(JSON.stringify(e))},decode:function(e){return JSON.parse(e.toString())}}}function createString(e){return{encode:function(c){return"string"!=typeof c&&(c=c.toString()),new Buffer(c,e)},decode:function(c){return c.toString(e)}}}module.exports=codecs,codecs.ascii=createString("ascii"),codecs.utf8=createString("utf-8"),codecs.hex=createString("hex"),codecs.base64=createString("base64"),codecs.ucs2=createString("ucs2"),codecs.utf16le=createString("utf16le"),codecs.ndjson=createJSON(!0),codecs.json=createJSON(!1),codecs.binary={encode:function(e){return"string"==typeof e?new Buffer(e,"utf-8"):e},decode:function(e){return e}};

}).call(this,require(22).Buffer)
},{"22":22}],28:[function(require,module,exports){
module.exports={
  "O_RDONLY": 0,
  "O_WRONLY": 1,
  "O_RDWR": 2,
  "S_IFMT": 61440,
  "S_IFREG": 32768,
  "S_IFDIR": 16384,
  "S_IFCHR": 8192,
  "S_IFBLK": 24576,
  "S_IFIFO": 4096,
  "S_IFLNK": 40960,
  "S_IFSOCK": 49152,
  "O_CREAT": 512,
  "O_EXCL": 2048,
  "O_NOCTTY": 131072,
  "O_TRUNC": 1024,
  "O_APPEND": 8,
  "O_DIRECTORY": 1048576,
  "O_NOFOLLOW": 256,
  "O_SYNC": 128,
  "O_SYMLINK": 2097152,
  "O_NONBLOCK": 4,
  "S_IRWXU": 448,
  "S_IRUSR": 256,
  "S_IWUSR": 128,
  "S_IXUSR": 64,
  "S_IRWXG": 56,
  "S_IRGRP": 32,
  "S_IWGRP": 16,
  "S_IXGRP": 8,
  "S_IRWXO": 7,
  "S_IROTH": 4,
  "S_IWOTH": 2,
  "S_IXOTH": 1,
  "E2BIG": 7,
  "EACCES": 13,
  "EADDRINUSE": 48,
  "EADDRNOTAVAIL": 49,
  "EAFNOSUPPORT": 47,
  "EAGAIN": 35,
  "EALREADY": 37,
  "EBADF": 9,
  "EBADMSG": 94,
  "EBUSY": 16,
  "ECANCELED": 89,
  "ECHILD": 10,
  "ECONNABORTED": 53,
  "ECONNREFUSED": 61,
  "ECONNRESET": 54,
  "EDEADLK": 11,
  "EDESTADDRREQ": 39,
  "EDOM": 33,
  "EDQUOT": 69,
  "EEXIST": 17,
  "EFAULT": 14,
  "EFBIG": 27,
  "EHOSTUNREACH": 65,
  "EIDRM": 90,
  "EILSEQ": 92,
  "EINPROGRESS": 36,
  "EINTR": 4,
  "EINVAL": 22,
  "EIO": 5,
  "EISCONN": 56,
  "EISDIR": 21,
  "ELOOP": 62,
  "EMFILE": 24,
  "EMLINK": 31,
  "EMSGSIZE": 40,
  "EMULTIHOP": 95,
  "ENAMETOOLONG": 63,
  "ENETDOWN": 50,
  "ENETRESET": 52,
  "ENETUNREACH": 51,
  "ENFILE": 23,
  "ENOBUFS": 55,
  "ENODATA": 96,
  "ENODEV": 19,
  "ENOENT": 2,
  "ENOEXEC": 8,
  "ENOLCK": 77,
  "ENOLINK": 97,
  "ENOMEM": 12,
  "ENOMSG": 91,
  "ENOPROTOOPT": 42,
  "ENOSPC": 28,
  "ENOSR": 98,
  "ENOSTR": 99,
  "ENOSYS": 78,
  "ENOTCONN": 57,
  "ENOTDIR": 20,
  "ENOTEMPTY": 66,
  "ENOTSOCK": 38,
  "ENOTSUP": 45,
  "ENOTTY": 25,
  "ENXIO": 6,
  "EOPNOTSUPP": 102,
  "EOVERFLOW": 84,
  "EPERM": 1,
  "EPIPE": 32,
  "EPROTO": 100,
  "EPROTONOSUPPORT": 43,
  "EPROTOTYPE": 41,
  "ERANGE": 34,
  "EROFS": 30,
  "ESPIPE": 29,
  "ESRCH": 3,
  "ESTALE": 70,
  "ETIME": 101,
  "ETIMEDOUT": 60,
  "ETXTBSY": 26,
  "EWOULDBLOCK": 35,
  "EXDEV": 18,
  "SIGHUP": 1,
  "SIGINT": 2,
  "SIGQUIT": 3,
  "SIGILL": 4,
  "SIGTRAP": 5,
  "SIGABRT": 6,
  "SIGIOT": 6,
  "SIGBUS": 10,
  "SIGFPE": 8,
  "SIGKILL": 9,
  "SIGUSR1": 30,
  "SIGSEGV": 11,
  "SIGUSR2": 31,
  "SIGPIPE": 13,
  "SIGALRM": 14,
  "SIGTERM": 15,
  "SIGCHLD": 20,
  "SIGCONT": 19,
  "SIGSTOP": 17,
  "SIGTSTP": 18,
  "SIGTTIN": 21,
  "SIGTTOU": 22,
  "SIGURG": 16,
  "SIGXCPU": 24,
  "SIGXFSZ": 25,
  "SIGVTALRM": 26,
  "SIGPROF": 27,
  "SIGWINCH": 28,
  "SIGIO": 23,
  "SIGSYS": 12,
  "SSL_OP_ALL": 2147486719,
  "SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION": 262144,
  "SSL_OP_CIPHER_SERVER_PREFERENCE": 4194304,
  "SSL_OP_CISCO_ANYCONNECT": 32768,
  "SSL_OP_COOKIE_EXCHANGE": 8192,
  "SSL_OP_CRYPTOPRO_TLSEXT_BUG": 2147483648,
  "SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS": 2048,
  "SSL_OP_EPHEMERAL_RSA": 0,
  "SSL_OP_LEGACY_SERVER_CONNECT": 4,
  "SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER": 32,
  "SSL_OP_MICROSOFT_SESS_ID_BUG": 1,
  "SSL_OP_MSIE_SSLV2_RSA_PADDING": 0,
  "SSL_OP_NETSCAPE_CA_DN_BUG": 536870912,
  "SSL_OP_NETSCAPE_CHALLENGE_BUG": 2,
  "SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG": 1073741824,
  "SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG": 8,
  "SSL_OP_NO_COMPRESSION": 131072,
  "SSL_OP_NO_QUERY_MTU": 4096,
  "SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION": 65536,
  "SSL_OP_NO_SSLv2": 16777216,
  "SSL_OP_NO_SSLv3": 33554432,
  "SSL_OP_NO_TICKET": 16384,
  "SSL_OP_NO_TLSv1": 67108864,
  "SSL_OP_NO_TLSv1_1": 268435456,
  "SSL_OP_NO_TLSv1_2": 134217728,
  "SSL_OP_PKCS1_CHECK_1": 0,
  "SSL_OP_PKCS1_CHECK_2": 0,
  "SSL_OP_SINGLE_DH_USE": 1048576,
  "SSL_OP_SINGLE_ECDH_USE": 524288,
  "SSL_OP_SSLEAY_080_CLIENT_DH_BUG": 128,
  "SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG": 0,
  "SSL_OP_TLS_BLOCK_PADDING_BUG": 512,
  "SSL_OP_TLS_D5_BUG": 256,
  "SSL_OP_TLS_ROLLBACK_BUG": 8388608,
  "ENGINE_METHOD_DSA": 2,
  "ENGINE_METHOD_DH": 4,
  "ENGINE_METHOD_RAND": 8,
  "ENGINE_METHOD_ECDH": 16,
  "ENGINE_METHOD_ECDSA": 32,
  "ENGINE_METHOD_CIPHERS": 64,
  "ENGINE_METHOD_DIGESTS": 128,
  "ENGINE_METHOD_STORE": 256,
  "ENGINE_METHOD_PKEY_METHS": 512,
  "ENGINE_METHOD_PKEY_ASN1_METHS": 1024,
  "ENGINE_METHOD_ALL": 65535,
  "ENGINE_METHOD_NONE": 0,
  "DH_CHECK_P_NOT_SAFE_PRIME": 2,
  "DH_CHECK_P_NOT_PRIME": 1,
  "DH_UNABLE_TO_CHECK_GENERATOR": 4,
  "DH_NOT_SUITABLE_GENERATOR": 8,
  "NPN_ENABLED": 1,
  "RSA_PKCS1_PADDING": 1,
  "RSA_SSLV23_PADDING": 2,
  "RSA_NO_PADDING": 3,
  "RSA_PKCS1_OAEP_PADDING": 4,
  "RSA_X931_PADDING": 5,
  "RSA_PKCS1_PSS_PADDING": 6,
  "POINT_CONVERSION_COMPRESSED": 2,
  "POINT_CONVERSION_UNCOMPRESSED": 4,
  "POINT_CONVERSION_HYBRID": 6,
  "F_OK": 0,
  "R_OK": 4,
  "W_OK": 2,
  "X_OK": 1,
  "UV_UDP_REUSEADDR": 4
}

},{}],29:[function(require,module,exports){
(function (Buffer){
function isArray(r){return Array.isArray?Array.isArray(r):"[object Array]"===objectToString(r)}function isBoolean(r){return"boolean"==typeof r}function isNull(r){return null===r}function isNullOrUndefined(r){return null==r}function isNumber(r){return"number"==typeof r}function isString(r){return"string"==typeof r}function isSymbol(r){return"symbol"==typeof r}function isUndefined(r){return void 0===r}function isRegExp(r){return"[object RegExp]"===objectToString(r)}function isObject(r){return"object"==typeof r&&null!==r}function isDate(r){return"[object Date]"===objectToString(r)}function isError(r){return"[object Error]"===objectToString(r)||r instanceof Error}function isFunction(r){return"function"==typeof r}function isPrimitive(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||void 0===r}function objectToString(r){return Object.prototype.toString.call(r)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer;

}).call(this,{"isBuffer":require(60)})
},{"60":60}],30:[function(require,module,exports){
!function(t){"use strict";var n="cuid",r=0,e=Math.pow(36,4),i=function(t,n){var r="000000000"+t;return r.substr(r.length-n)},o=function(){return i((Math.random()*e<<0).toString(36),4)},u=function(){return r=r<e?r:0,++r-1},g=function(){var t=(new Date).getTime().toString(36),n=g.fingerprint(),r=o()+o();return"c"+t+i(u().toString(36),4)+n+r};g.slug=function(){var t,n=(new Date).getTime().toString(36),r=g.fingerprint().slice(0,1)+g.fingerprint().slice(-1),e=o().slice(-2);return t=u().toString(36).slice(-4),n.slice(-2)+t+r+e},g.globalCount=function(){var t=function(){var t,n=0;for(t in window)n++;return n}();return g.globalCount=function(){return t},t},g.fingerprint=function(){return i((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+g.globalCount().toString(36),4)},t.register?t.register(n,g):"undefined"!=typeof module?module.exports=g:t[n]=g}(this.applitude||this);

},{}],31:[function(require,module,exports){
(function (process){
function useColors(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function formatArgs(e){var o=this.useColors;if(e[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+e[0]+(o?"%c ":" ")+"+"+exports.humanize(this.diff),o){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var t=0,n=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(n=++t)}),e.splice(n,0,r)}}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(e){try{null==e?exports.storage.removeItem("debug"):exports.storage.debug=e}catch(e){}}function load(){var e;try{e=exports.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function localstorage(){try{return window.localStorage}catch(e){}}exports=module.exports=require(32),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:localstorage(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},exports.enable(load());

}).call(this,require(83))
},{"32":32,"83":83}],32:[function(require,module,exports){
function selectColor(e){var r,t=0;for(r in e)t=(t<<5)-t+e.charCodeAt(r),t|=0;return exports.colors[Math.abs(t)%exports.colors.length]}function createDebug(e){function r(){if(r.enabled){var e=r,t=+new Date;e.diff=t-(prevTime||t),e.prev=prevTime,e.curr=t,prevTime=t;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=exports.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var n=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(r,t){if("%%"===r)return r;n++;var s=exports.formatters[t];"function"==typeof s&&(r=s.call(e,o[n]),o.splice(n,1),n--);return r}),exports.formatArgs.call(e,o),(r.log||exports.log||console.log.bind(console)).apply(e,o)}}return r.namespace=e,r.enabled=exports.enabled(e),r.useColors=exports.useColors(),r.color=selectColor(e),"function"==typeof exports.init&&exports.init(r),r}function enable(e){exports.save(e),exports.names=[],exports.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),t=r.length,o=0;o<t;o++)r[o]&&("-"===(e=r[o].replace(/\*/g,".*?"))[0]?exports.skips.push(new RegExp("^"+e.substr(1)+"$")):exports.names.push(new RegExp("^"+e+"$")))}function disable(){exports.enable("")}function enabled(e){var r,t;for(r=0,t=exports.skips.length;r<t;r++)if(exports.skips[r].test(e))return!1;for(r=0,t=exports.names.length;r<t;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}var prevTime;exports=module.exports=createDebug.debug=createDebug.default=createDebug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require(67),exports.names=[],exports.skips=[],exports.formatters={};

},{"67":67}],33:[function(require,module,exports){
"use strict";function ready(e){var t=document.readyState;if("complete"===t||"interactive"===t)return setTimeout(e,0);document.addEventListener("DOMContentLoaded",function(){e()})}module.exports=ready;

},{}],34:[function(require,module,exports){
module.exports=require(37);

},{"37":37}],35:[function(require,module,exports){
(function (Buffer){
function EbmlDecoder(t){(t=t||{}).readableObjectMode=!0,Transform.call(this,t),this._buffer=null,this._tag_stack=[],this._state=STATE_TAG,this._cursor=0,this._total=0,this._schema=schema}var Transform=require(129).Transform,tools=require(39),schema=require(38),debug=require(40)("ebml:decoder"),STATE_TAG=1,STATE_SIZE=2,STATE_CONTENT=3;require(138).inherits(EbmlDecoder,Transform),EbmlDecoder.prototype._transform=function(t,e,r){for(this._buffer=null===this._buffer?t:Buffer.concat([this._buffer,t]);this._cursor<this._buffer.length&&(this._state!==STATE_TAG||this.readTag())&&(this._state!==STATE_SIZE||this.readSize())&&(this._state!==STATE_CONTENT||this.readContent()););r()},EbmlDecoder.prototype.getSchemaInfo=function(t){return this._schema[t]||{type:"unknown",name:"unknown"}},EbmlDecoder.prototype.readTag=function(){if(debug("parsing tag"),this._cursor>=this._buffer.length)return debug("waiting for more data"),!1;var t=this._total,e=tools.readVint(this._buffer,this._cursor);if(null==e)return debug("waiting for more data"),!1;var r=this._buffer.toString("hex",this._cursor,this._cursor+e.length);return this._cursor+=e.length,this._total+=e.length,this._state=STATE_SIZE,tagObj={tag:e.value,tagStr:r,type:this.getSchemaInfo(r).type,name:this.getSchemaInfo(r).name,start:t,end:t+e.length},this._tag_stack.push(tagObj),debug("read tag: "+r),!0},EbmlDecoder.prototype.readSize=function(){var t=this._tag_stack[this._tag_stack.length-1];if(debug("parsing size for tag: "+t.tag.toString(16)),this._cursor>=this._buffer.length)return debug("waiting for more data"),!1;var e=tools.readVint(this._buffer,this._cursor);return null==e?(debug("waiting for more data"),!1):(this._cursor+=e.length,this._total+=e.length,this._state=STATE_CONTENT,t.dataSize=e.value,-1===e.value?t.end=-1:t.end+=e.value+e.length,debug("read size: "+e.value),!0)},EbmlDecoder.prototype.readContent=function(){var t=this._tag_stack[this._tag_stack.length-1];if(debug("parsing content for tag: "+t.tag.toString(16)),"m"===t.type)return debug("content should be tags"),this.push(["start",t]),this._state=STATE_TAG,!0;if(this._buffer.length<this._cursor+t.dataSize)return debug("got: "+this._buffer.length),debug("need: "+(this._cursor+t.dataSize)),debug("waiting for more data"),!1;var e=this._buffer.slice(this._cursor,this._cursor+t.dataSize);for(this._total+=t.dataSize,this._state=STATE_TAG,this._buffer=this._buffer.slice(this._cursor+t.dataSize),this._cursor=0,this._tag_stack.pop(),t.data=e,this.push(["tag",t]);this._tag_stack.length>0;){var r=this._tag_stack[this._tag_stack.length-1];if(this._total<r.end)break;this.push(["end",r]),this._tag_stack.pop()}return debug("read data: "+e.toString("hex")),!0},module.exports=EbmlDecoder;

}).call(this,require(22).Buffer)
},{"129":129,"138":138,"22":22,"38":38,"39":39,"40":40}],36:[function(require,module,exports){
(function (Buffer){
function EbmlEncoder(e){(e=e||{}).writableObjectMode=!0,Transform.call(this,e),this._schema=schema,this._buffer=null,this._corked=!1,this._stack=[]}var Transform=require(129).Transform,tools=require(39),schema=require(38),debug=require(40)("ebml:encoder"),Buffers=require(23);require(138).inherits(EbmlEncoder,Transform),EbmlEncoder.prototype._transform=function(e,t,r){debug("encode "+e[0]+" "+e[1].name),"start"===e[0]?this.startTag(e[1].name,e[1]):"tag"===e[0]?this.writeTag(e[1].name,e[1].data):"end"===e[0]&&this.endTag(e[1].name),r()},EbmlEncoder.prototype._flush=function(e){if(e=e||function(){},!this._buffer||this._corked)return debug("no buffer/nothing pending"),void e();debug("writing "+this._buffer.length+" bytes");var t=this._buffer.toBuffer();this._buffer=null,this.push(t),e()},EbmlEncoder.prototype._bufferAndFlush=function(e){this._buffer?this._buffer.push(e):this._buffer=Buffers([e]),this._flush()},EbmlEncoder.prototype.getSchemaInfo=function(e){for(var t=Object.keys(this._schema),r=0;r<t.length;r++){var n=t[r];if(this._schema[n].name===e)return new Buffer(n,"hex")}return null},EbmlEncoder.prototype.cork=function(){this._corked=!0},EbmlEncoder.prototype.uncork=function(){this._corked=!1,this._flush()},EbmlEncoder.prototype._encodeTag=function(e,t,r){return Buffers([e,-1===r?Buffer("01ffffffffffffff","hex"):tools.writeVint(t.length),t])},EbmlEncoder.prototype.writeTag=function(e,t){var r=this.getSchemaInfo(e);if(!r)throw new Error("No schema entry found for "+e);var n=this._encodeTag(r,t);this._stack.length>0?this._stack[this._stack.length-1].children.push({data:n}):this._bufferAndFlush(n.toBuffer())},EbmlEncoder.prototype.startTag=function(e,t){var r=this.getSchemaInfo(e);if(!r)throw new Error("No schema entry found for "+e);var n={id:r,name:e,end:t.end,children:[]};this._stack.length>0&&this._stack[this._stack.length-1].children.push(n),this._stack.push(n)},EbmlEncoder.prototype.endTag=function(e){var t=this._stack.pop(),r=t.children.map(function(e){return e.data});t.data=this._encodeTag(t.id,Buffers(r),t.end),this._stack.length<1&&this._bufferAndFlush(t.data.toBuffer())},module.exports=EbmlEncoder;

}).call(this,require(22).Buffer)
},{"129":129,"138":138,"22":22,"23":23,"38":38,"39":39,"40":40}],37:[function(require,module,exports){
module.exports={tools:require(39),schema:require(38),Decoder:require(35),Encoder:require(36)};

},{"35":35,"36":36,"38":38,"39":39}],38:[function(require,module,exports){
var schema={80:{name:"ChapterDisplay",level:"4",type:"m",multiple:"1",minver:"1",webm:"1",description:"Contains all possible strings to use for the chapter display."},83:{name:"TrackType",level:"3",type:"u",mandatory:"1",minver:"1",range:"1-254",description:"A set of track types coded on 8 bits (1: video, 2: audio, 3: complex, 0x10: logo, 0x11: subtitle, 0x12: buttons, 0x20: control)."},85:{name:"ChapString",cppname:"ChapterString",level:"5",type:"8",mandatory:"1",minver:"1",webm:"1",description:"Contains the string to use as the chapter atom."},86:{name:"CodecID",level:"3",type:"s",mandatory:"1",minver:"1",description:"An ID corresponding to the codec, see the codec page for more info."},88:{name:"FlagDefault",cppname:"TrackFlagDefault",level:"3",type:"u",mandatory:"1",minver:"1",default:"1",range:"0-1",description:"Set if that track (audio, video or subs) SHOULD be active if no language found matches the user preference. (1 bit)"},89:{name:"ChapterTrackNumber",level:"5",type:"u",mandatory:"1",multiple:"1",minver:"1",webm:"0",range:"not 0",description:"UID of the Track to apply this chapter too. In the absense of a control track, choosing this chapter will select the listed Tracks and deselect unlisted tracks. Absense of this element indicates that the Chapter should be applied to any currently used Tracks."},91:{name:"ChapterTimeStart",level:"4",type:"u",mandatory:"1",minver:"1",webm:"1",description:"Timestamp of the start of Chapter (not scaled)."},92:{name:"ChapterTimeEnd",level:"4",type:"u",minver:"1",webm:"0",description:"Timestamp of the end of Chapter (timestamp excluded, not scaled)."},96:{name:"CueRefTime",level:"5",type:"u",mandatory:"1",minver:"2",webm:"0",description:"Timestamp of the referenced Block."},97:{name:"CueRefCluster",level:"5",type:"u",mandatory:"1",webm:"0",description:"The Position of the Cluster containing the referenced Block."},98:{name:"ChapterFlagHidden",level:"4",type:"u",mandatory:"1",minver:"1",webm:"0",default:"0",range:"0-1",description:"If a chapter is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)"},4254:{name:"ContentCompAlgo",level:"6",type:"u",mandatory:"1",minver:"1",webm:"0",default:"0",br:["","","",""],del:["1 - bzlib,","2 - lzo1x"],description:"The compression algorithm used. Algorithms that have been specified so far are: 0 - zlib,   3 - Header Stripping"},4255:{name:"ContentCompSettings",level:"6",type:"b",minver:"1",webm:"0",description:"Settings that might be needed by the decompressor. For Header Stripping (ContentCompAlgo=3), the bytes that were removed from the beggining of each frames of the track."},4282:{name:"DocType",level:"1",type:"s",mandatory:"1",default:"matroska",minver:"1",description:"A string that describes the type of document that follows this EBML header. 'matroska' in our case or 'webm' for webm files."},4285:{name:"DocTypeReadVersion",level:"1",type:"u",mandatory:"1",default:"1",minver:"1",description:"The minimum DocType version an interpreter has to support to read this file."},4286:{name:"EBMLVersion",level:"1",type:"u",mandatory:"1",default:"1",minver:"1",description:"The version of EBML parser used to create the file."},4287:{name:"DocTypeVersion",level:"1",type:"u",mandatory:"1",default:"1",minver:"1",description:"The version of DocType interpreter used to create the file."},4444:{name:"SegmentFamily",level:"2",type:"b",multiple:"1",minver:"1",webm:"0",bytesize:"16",description:"A randomly generated unique ID that all segments related to each other must use (128 bits)."},4461:{name:"DateUTC",level:"2",type:"d",minver:"1",description:"Date of the origin of timestamp (value 0), i.e. production date."},4484:{name:"TagDefault",level:"4",type:"u",mandatory:"1",minver:"1",webm:"0",default:"1",range:"0-1",description:"Indication to know if this is the default/original language to use for the given tag. (1 bit)"},4485:{name:"TagBinary",level:"4",type:"b",minver:"1",webm:"0",description:"The values of the Tag if it is binary. Note that this cannot be used in the same SimpleTag as TagString."},4487:{name:"TagString",level:"4",type:"8",minver:"1",webm:"0",description:"The value of the Tag."},4489:{name:"Duration",level:"2",type:"f",minver:"1",range:"> 0",description:"Duration of the segment (based on TimecodeScale)."},4598:{name:"ChapterFlagEnabled",level:"4",type:"u",mandatory:"1",minver:"1",webm:"0",default:"1",range:"0-1",description:"Specify wether the chapter is enabled. It can be enabled/disabled by a Control Track. When disabled, the movie should skip all the content between the TimeStart and TimeEnd of this chapter (see flag notes). (1 bit)"},4660:{name:"FileMimeType",level:"3",type:"s",mandatory:"1",minver:"1",webm:"0",description:"MIME type of the file."},4661:{name:"FileUsedStartTime",level:"3",type:"u",divx:"1",description:"DivX font extension"},4662:{name:"FileUsedEndTime",level:"3",type:"u",divx:"1",description:"DivX font extension"},4675:{name:"FileReferral",level:"3",type:"b",webm:"0",description:"A binary value that a track/codec can refer to when the attachment is needed."},5031:{name:"ContentEncodingOrder",level:"5",type:"u",mandatory:"1",minver:"1",webm:"0",default:"0",description:"Tells when this modification was used during encoding/muxing starting with 0 and counting upwards. The decoder/demuxer has to start with the highest order number it finds and work its way down. This value has to be unique over all ContentEncodingOrder elements in the segment."},5032:{name:"ContentEncodingScope",level:"5",type:"u",mandatory:"1",minver:"1",webm:"0",default:"1",range:"not 0",br:["","",""],description:"A bit field that describes which elements have been modified in this way. Values (big endian) can be OR'ed. Possible values: 1 - all frame contents, 2 - the track's private data, 4 - the next ContentEncoding (next ContentEncodingOrder. Either the data inside ContentCompression and/or ContentEncryption)"},5033:{name:"ContentEncodingType",level:"5",type:"u",mandatory:"1",minver:"1",webm:"0",default:"0",br:["",""],description:"A value describing what kind of transformation has been done. Possible values: 0 - compression, 1 - encryption"},5034:{name:"ContentCompression",level:"5",type:"m",minver:"1",webm:"0",description:"Settings describing the compression used. Must be present if the value of ContentEncodingType is 0 and absent otherwise. Each block must be decompressable even if no previous block is available in order not to prevent seeking."},5035:{name:"ContentEncryption",level:"5",type:"m",minver:"1",webm:"0",description:"Settings describing the encryption used. Must be present if the value of ContentEncodingType is 1 and absent otherwise."},5378:{name:"CueBlockNumber",level:"4",type:"u",minver:"1",default:"1",range:"not 0",description:"Number of the Block in the specified Cluster."},5654:{name:"ChapterStringUID",level:"4",type:"8",mandatory:"0",minver:"3",webm:"1",description:"A unique string ID to identify the Chapter. Use for WebVTT cue identifier storage."},5741:{name:"WritingApp",level:"2",type:"8",mandatory:"1",minver:"1",description:'Writing application ("mkvmerge-0.3.3").'},5854:{name:"SilentTracks",cppname:"ClusterSilentTracks",level:"2",type:"m",minver:"1",webm:"0",description:"The list of tracks that are not used in that part of the stream. It is useful when using overlay tracks on seeking. Then you should decide what track to use."},6240:{name:"ContentEncoding",level:"4",type:"m",mandatory:"1",multiple:"1",minver:"1",webm:"0",description:"Settings for one content encoding like compression or encryption."},6264:{name:"BitDepth",cppname:"AudioBitDepth",level:"4",type:"u",minver:"1",range:"not 0",description:"Bits per sample, mostly used for PCM."},6532:{name:"SignedElement",level:"3",type:"b",multiple:"1",webm:"0",description:"An element ID whose data will be used to compute the signature."},6624:{name:"TrackTranslate",level:"3",type:"m",multiple:"1",minver:"1",webm:"0",description:"The track identification for the given Chapter Codec."},6911:{name:"ChapProcessCommand",cppname:"ChapterProcessCommand",level:"5",type:"m",multiple:"1",minver:"1",webm:"0",description:"Contains all the commands associated to the Atom."},6922:{name:"ChapProcessTime",cppname:"ChapterProcessTime",level:"6",type:"u",mandatory:"1",minver:"1",webm:"0",description:"Defines when the process command should be handled (0: during the whole chapter, 1: before starting playback, 2: after playback of the chapter)."},6924:{name:"ChapterTranslate",level:"2",type:"m",multiple:"1",minver:"1",webm:"0",description:"A tuple of corresponding ID used by chapter codecs to represent this segment."},6933:{name:"ChapProcessData",cppname:"ChapterProcessData",level:"6",type:"b",mandatory:"1",minver:"1",webm:"0",description:"Contains the command information. The data should be interpreted depending on the ChapProcessCodecID value. For ChapProcessCodecID = 1, the data correspond to the binary DVD cell pre/post commands."},6944:{name:"ChapProcess",cppname:"ChapterProcess",level:"4",type:"m",multiple:"1",minver:"1",webm:"0",description:"Contains all the commands associated to the Atom."},6955:{name:"ChapProcessCodecID",cppname:"ChapterProcessCodecID",level:"5",type:"u",mandatory:"1",minver:"1",webm:"0",default:"0",description:"Contains the type of the codec used for the processing. A value of 0 means native Matroska processing (to be defined), a value of 1 means the DVD command set is used. More codec IDs can be added later."},7373:{name:"Tag",level:"2",type:"m",mandatory:"1",multiple:"1",minver:"1",webm:"0",description:"Element containing elements specific to Tracks/Chapters."},7384:{name:"SegmentFilename",level:"2",type:"8",minver:"1",webm:"0",description:"A filename corresponding to this segment."},7446:{name:"AttachmentLink",cppname:"TrackAttachmentLink",level:"3",type:"u",minver:"1",webm:"0",range:"not 0",description:"The UID of an attachment that is used by this codec."},258688:{name:"CodecName",level:"3",type:"8",minver:"1",description:"A human-readable string specifying the codec."},18538067:{name:"Segment",level:"0",type:"m",mandatory:"1",multiple:"1",minver:"1",description:"This element contains all other top-level (level 1) elements. Typically a Matroska file is composed of 1 segment."},"447a":{name:"TagLanguage",level:"4",type:"s",mandatory:"1",minver:"1",webm:"0",default:"und",description:"Specifies the language of the tag specified, in the Matroska languages form."},"45a3":{name:"TagName",level:"4",type:"8",mandatory:"1",minver:"1",webm:"0",description:"The name of the Tag that is going to be stored."},"67c8":{name:"SimpleTag",cppname:"TagSimple",level:"3",recursive:"1",type:"m",mandatory:"1",multiple:"1",minver:"1",webm:"0",description:"Contains general information about the target."},"63c6":{name:"TagAttachmentUID",level:"4",type:"u",multiple:"1",minver:"1",webm:"0",default:"0",description:"A unique ID to identify the Attachment(s) the tags belong to. If the value is 0 at this level, the tags apply to all the attachments in the Segment."},"63c4":{name:"TagChapterUID",level:"4",type:"u",multiple:"1",minver:"1",webm:"0",default:"0",description:"A unique ID to identify the Chapter(s) the tags belong to. If the value is 0 at this level, the tags apply to all chapters in the Segment."},"63c9":{name:"TagEditionUID",level:"4",type:"u",multiple:"1",minver:"1",webm:"0",default:"0",description:"A unique ID to identify the EditionEntry(s) the tags belong to. If the value is 0 at this level, the tags apply to all editions in the Segment."},"63c5":{name:"TagTrackUID",level:"4",type:"u",multiple:"1",minver:"1",webm:"0",default:"0",description:"A unique ID to identify the Track(s) the tags belong to. If the value is 0 at this level, the tags apply to all tracks in the Segment."},"63ca":{name:"TargetType",cppname:"TagTargetType",level:"4",type:"s",minver:"1",webm:"0",strong:"informational",description:'An  string that can be used to display the logical level of the target like "ALBUM", "TRACK", "MOVIE", "CHAPTER", etc (see TargetType).'},"68ca":{name:"TargetTypeValue",cppname:"TagTargetTypeValue",level:"4",type:"u",minver:"1",webm:"0",default:"50",description:"A number to indicate the logical level of the target (see TargetType)."},"63c0":{name:"Targets",cppname:"TagTargets",level:"3",type:"m",mandatory:"1",minver:"1",webm:"0",description:"Contain all UIDs where the specified meta data apply. It is empty to describe everything in the segment."},"1254c367":{name:"Tags",level:"1",type:"m",multiple:"1",minver:"1",webm:"0",description:"Element containing elements specific to Tracks/Chapters. A list of valid tags can be found here."},"450d":{name:"ChapProcessPrivate",cppname:"ChapterProcessPrivate",level:"5",type:"b",minver:"1",webm:"0",description:'Some optional data attached to the ChapProcessCodecID information. For ChapProcessCodecID = 1, it is the "DVD level" equivalent.'},"437e":{name:"ChapCountry",cppname:"ChapterCountry",level:"5",type:"s",multiple:"1",minver:"1",webm:"0",description:"The countries corresponding to the string, same 2 octets as in Internet domains."},"437c":{name:"ChapLanguage",cppname:"ChapterLanguage",level:"5",type:"s",mandatory:"1",multiple:"1",minver:"1",webm:"1",default:"eng",description:"The languages corresponding to the string, in the bibliographic ISO-639-2 form."},"8f":{name:"ChapterTrack",level:"4",type:"m",minver:"1",webm:"0",description:"List of tracks on which the chapter applies. If this element is not present, all tracks apply"},"63c3":{name:"ChapterPhysicalEquiv",level:"4",type:"u",minver:"1",webm:"0",description:'Specify the physical equivalent of this ChapterAtom like "DVD" (60) or "SIDE" (50), see complete list of values.'},"6ebc":{name:"ChapterSegmentEditionUID",level:"4",type:"u",minver:"1",webm:"0",range:"not 0",description:"The EditionUID to play from the segment linked in ChapterSegmentUID."},"6e67":{name:"ChapterSegmentUID",level:"4",type:"b",minver:"1",webm:"0",range:">0",bytesize:"16",description:"A segment to play in place of this chapter. Edition ChapterSegmentEditionUID should be used for this segment, otherwise no edition is used."},"73c4":{name:"ChapterUID",level:"4",type:"u",mandatory:"1",minver:"1",webm:"1",range:"not 0",description:"A unique ID to identify the Chapter."},b6:{name:"ChapterAtom",level:"3",recursive:"1",type:"m",mandatory:"1",multiple:"1",minver:"1",webm:"1",description:"Contains the atom information to use as the chapter atom (apply to all tracks)."},"45dd":{name:"EditionFlagOrdered",level:"3",type:"u",minver:"1",webm:"0",default:"0",range:"0-1",description:"Specify if the chapters can be defined multiple times and the order to play them is enforced. (1 bit)"},"45db":{name:"EditionFlagDefault",level:"3",type:"u",mandatory:"1",minver:"1",webm:"0",default:"0",range:"0-1",description:"If a flag is set (1) the edition should be used as the default one. (1 bit)"},"45bd":{name:"EditionFlagHidden",level:"3",type:"u",mandatory:"1",minver:"1",webm:"0",default:"0",range:"0-1",description:"If an edition is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)"},"45bc":{name:"EditionUID",level:"3",type:"u",minver:"1",webm:"0",range:"not 0",description:"A unique ID to identify the edition. It's useful for tagging an edition."},"45b9":{name:"EditionEntry",level:"2",type:"m",mandatory:"1",multiple:"1",minver:"1",webm:"1",description:"Contains all information about a segment edition."},"1043a770":{name:"Chapters",level:"1",type:"m",minver:"1",webm:"1",description:"A system to define basic menus and partition data. For more detailed information, look at the Chapters Explanation."},"46ae":{name:"FileUID",level:"3",type:"u",mandatory:"1",minver:"1",webm:"0",range:"not 0",description:"Unique ID representing the file, as random as possible."},"465c":{name:"FileData",level:"3",type:"b",mandatory:"1",minver:"1",webm:"0",description:"The data of the file."},"466e":{name:"FileName",level:"3",type:"8",mandatory:"1",minver:"1",webm:"0",description:"Filename of the attached file."},"467e":{name:"FileDescription",level:"3",type:"8",minver:"1",webm:"0",description:"A human-friendly name for the attached file."},"61a7":{name:"AttachedFile",level:"2",type:"m",mandatory:"1",multiple:"1",minver:"1",webm:"0",description:"An attached file."},"1941a469":{name:"Attachments",level:"1",type:"m",minver:"1",webm:"0",description:"Contain attached files."},eb:{name:"CueRefCodecState",level:"5",type:"u",webm:"0",default:"0",description:"The position of the Codec State corresponding to this referenced element. 0 means that the data is taken from the initial Track Entry."},"535f":{name:"CueRefNumber",level:"5",type:"u",webm:"0",default:"1",range:"not 0",description:"Number of the referenced Block of Track X in the specified Cluster."},db:{name:"CueReference",level:"4",type:"m",multiple:"1",minver:"2",webm:"0",description:"The Clusters containing the required referenced Blocks."},ea:{name:"CueCodecState",level:"4",type:"u",minver:"2",webm:"0",default:"0",description:"The position of the Codec State corresponding to this Cue element. 0 means that the data is taken from the initial Track Entry."},b2:{name:"CueDuration",level:"4",type:"u",mandatory:"0",minver:"4",webm:"0",description:"The duration of the block according to the segment time base. If missing the track's DefaultDuration does not apply and no duration information is available in terms of the cues."},f0:{name:"CueRelativePosition",level:"4",type:"u",mandatory:"0",minver:"4",webm:"0",description:"The relative position of the referenced block inside the cluster with 0 being the first possible position for an element inside that cluster."},f1:{name:"CueClusterPosition",level:"4",type:"u",mandatory:"1",minver:"1",description:"The position of the Cluster containing the required Block."},f7:{name:"CueTrack",level:"4",type:"u",mandatory:"1",minver:"1",range:"not 0",description:"The track for which a position is given."},b7:{name:"CueTrackPositions",level:"3",type:"m",mandatory:"1",multiple:"1",minver:"1",description:"Contain positions for different tracks corresponding to the timestamp."},b3:{name:"CueTime",level:"3",type:"u",mandatory:"1",minver:"1",description:"Absolute timestamp according to the segment time base."},bb:{name:"CuePoint",level:"2",type:"m",mandatory:"1",multiple:"1",minver:"1",description:"Contains all information relative to a seek point in the segment."},"1c53bb6b":{name:"Cues",level:"1",type:"m",minver:"1",description:'A top-level element to speed seeking access. All entries are local to the segment. Should be mandatory for non "live" streams.'},"47e6":{name:"ContentSigHashAlgo",level:"6",type:"u",minver:"1",webm:"0",default:"0",br:["",""],description:"The hash algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - SHA1-160 2 - MD5"},"47e5":{name:"ContentSigAlgo",level:"6",type:"u",minver:"1",webm:"0",default:"0",br:"",description:"The algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - RSA"},"47e4":{name:"ContentSigKeyID",level:"6",type:"b",minver:"1",webm:"0",description:"This is the ID of the private key the data was signed with."},"47e3":{name:"ContentSignature",level:"6",type:"b",minver:"1",webm:"0",description:"A cryptographic signature of the contents."},"47e2":{name:"ContentEncKeyID",level:"6",type:"b",minver:"1",webm:"0",description:"For public key algorithms this is the ID of the public key the the data was encrypted with."},"47e1":{name:"ContentEncAlgo",level:"6",type:"u",minver:"1",webm:"0",default:"0",br:"",description:"The encryption algorithm used. The value '0' means that the contents have not been encrypted but only signed. Predefined values: 1 - DES, 2 - 3DES, 3 - Twofish, 4 - Blowfish, 5 - AES"},"6d80":{name:"ContentEncodings",level:"3",type:"m",minver:"1",webm:"0",description:"Settings for several content encoding mechanisms like compression or encryption."},c4:{name:"TrickMasterTrackSegmentUID",level:"3",type:"b",divx:"1",bytesize:"16",description:"DivX trick track extenstions"},c7:{name:"TrickMasterTrackUID",level:"3",type:"u",divx:"1",description:"DivX trick track extenstions"},c6:{name:"TrickTrackFlag",level:"3",type:"u",divx:"1",default:"0",description:"DivX trick track extenstions"},c1:{name:"TrickTrackSegmentUID",level:"3",type:"b",divx:"1",bytesize:"16",description:"DivX trick track extenstions"},c0:{name:"TrickTrackUID",level:"3",type:"u",divx:"1",description:"DivX trick track extenstions"},ed:{name:"TrackJoinUID",level:"5",type:"u",mandatory:"1",multiple:"1",minver:"3",webm:"0",range:"not 0",description:"The trackUID number of a track whose blocks are used to create this virtual track."},e9:{name:"TrackJoinBlocks",level:"4",type:"m",minver:"3",webm:"0",description:"Contains the list of all tracks whose Blocks need to be combined to create this virtual track"},e6:{name:"TrackPlaneType",level:"6",type:"u",mandatory:"1",minver:"3",webm:"0",description:"The kind of plane this track corresponds to (0: left eye, 1: right eye, 2: background)."},e5:{name:"TrackPlaneUID",level:"6",type:"u",mandatory:"1",minver:"3",webm:"0",range:"not 0",description:"The trackUID number of the track representing the plane."},e4:{name:"TrackPlane",level:"5",type:"m",mandatory:"1",multiple:"1",minver:"3",webm:"0",description:"Contains a video plane track that need to be combined to create this 3D track"},e3:{name:"TrackCombinePlanes",level:"4",type:"m",minver:"3",webm:"0",description:"Contains the list of all video plane tracks that need to be combined to create this 3D track"},e2:{name:"TrackOperation",level:"3",type:"m",minver:"3",webm:"0",description:"Operation that needs to be applied on tracks to create this virtual track. For more details look at the Specification Notes on the subject."},"7d7b":{name:"ChannelPositions",cppname:"AudioPosition",level:"4",type:"b",webm:"0",description:"Table of horizontal angles for each successive channel, see appendix."},"9f":{name:"Channels",cppname:"AudioChannels",level:"4",type:"u",mandatory:"1",minver:"1",default:"1",range:"not 0",description:"Numbers of channels in the track."},"78b5":{name:"OutputSamplingFrequency",cppname:"AudioOutputSamplingFreq",level:"4",type:"f",minver:"1",default:"Sampling Frequency",range:"> 0",description:"Real output sampling frequency in Hz (used for SBR techniques)."},b5:{name:"SamplingFrequency",cppname:"AudioSamplingFreq",level:"4",type:"f",mandatory:"1",minver:"1",default:"8000.0",range:"> 0",description:"Sampling frequency in Hz."},e1:{name:"Audio",cppname:"TrackAudio",level:"3",type:"m",minver:"1",description:"Audio settings."},"2383e3":{name:"FrameRate",cppname:"VideoFrameRate",level:"4",type:"f",range:"> 0",strong:"Informational",description:"Number of frames per second.  only."},"2fb523":{name:"GammaValue",cppname:"VideoGamma",level:"4",type:"f",webm:"0",range:"> 0",description:"Gamma Value."},"2eb524":{name:"ColourSpace",cppname:"VideoColourSpace",level:"4",type:"b",minver:"1",webm:"0",bytesize:"4",description:"Same value as in AVI (32 bits)."},"54b3":{name:"AspectRatioType",cppname:"VideoAspectRatio",level:"4",type:"u",minver:"1",default:"0",description:"Specify the possible modifications to the aspect ratio (0: free resizing, 1: keep aspect ratio, 2: fixed)."},"54b2":{name:"DisplayUnit",cppname:"VideoDisplayUnit",level:"4",type:"u",minver:"1",default:"0",description:"How DisplayWidth & DisplayHeight should be interpreted (0: pixels, 1: centimeters, 2: inches, 3: Display Aspect Ratio)."},"54ba":{name:"DisplayHeight",cppname:"VideoDisplayHeight",level:"4",type:"u",minver:"1",default:"PixelHeight",range:"not 0",description:"Height of the video frames to display. The default value is only valid when DisplayUnit is 0."},"54b0":{name:"DisplayWidth",cppname:"VideoDisplayWidth",level:"4",type:"u",minver:"1",default:"PixelWidth",range:"not 0",description:"Width of the video frames to display. The default value is only valid when DisplayUnit is 0."},"54dd":{name:"PixelCropRight",cppname:"VideoPixelCropRight",level:"4",type:"u",minver:"1",default:"0",description:"The number of video pixels to remove on the right of the image."},"54cc":{name:"PixelCropLeft",cppname:"VideoPixelCropLeft",level:"4",type:"u",minver:"1",default:"0",description:"The number of video pixels to remove on the left of the image."},"54bb":{name:"PixelCropTop",cppname:"VideoPixelCropTop",level:"4",type:"u",minver:"1",default:"0",description:"The number of video pixels to remove at the top of the image."},"54aa":{name:"PixelCropBottom",cppname:"VideoPixelCropBottom",level:"4",type:"u",minver:"1",default:"0",description:"The number of video pixels to remove at the bottom of the image (for HDTV content)."},ba:{name:"PixelHeight",cppname:"VideoPixelHeight",level:"4",type:"u",mandatory:"1",minver:"1",range:"not 0",description:"Height of the encoded video frames in pixels."},b0:{name:"PixelWidth",cppname:"VideoPixelWidth",level:"4",type:"u",mandatory:"1",minver:"1",range:"not 0",description:"Width of the encoded video frames in pixels."},"53b9":{name:"OldStereoMode",level:"4",type:"u",maxver:"0",webm:"0",divx:"0",description:"DEPRECATED, DO NOT USE. Bogus StereoMode value used in old versions of libmatroska. (0: mono, 1: right eye, 2: left eye, 3: both eyes)."},"53c0":{name:"AlphaMode",cppname:"VideoAlphaMode",level:"4",type:"u",minver:"3",webm:"1",default:"0",description:"Alpha Video Mode. Presence of this element indicates that the BlockAdditional element could contain Alpha data."},"53b8":{name:"StereoMode",cppname:"VideoStereoMode",level:"4",type:"u",minver:"3",webm:"1",default:"0",description:"Stereo-3D video mode (0: mono, 1: side by side (left eye is first), 2: top-bottom (right eye is first), 3: top-bottom (left eye is first), 4: checkboard (right is first), 5: checkboard (left is first), 6: row interleaved (right is first), 7: row interleaved (left is first), 8: column interleaved (right is first), 9: column interleaved (left is first), 10: anaglyph (cyan/red), 11: side by side (right eye is first), 12: anaglyph (green/magenta), 13 both eyes laced in one Block (left eye is first), 14 both eyes laced in one Block (right eye is first)) . There are some more details on 3D support in the Specification Notes."},"9a":{name:"FlagInterlaced",cppname:"VideoFlagInterlaced",level:"4",type:"u",mandatory:"1",minver:"2",webm:"1",default:"0",range:"0-1",description:"Set if the video is interlaced. (1 bit)"},e0:{name:"Video",cppname:"TrackVideo",level:"3",type:"m",minver:"1",description:"Video settings."},"66a5":{name:"TrackTranslateTrackID",level:"4",type:"b",mandatory:"1",minver:"1",webm:"0",description:"The binary value used to represent this track in the chapter codec data. The format depends on the ChapProcessCodecID used."},"66bf":{name:"TrackTranslateCodec",level:"4",type:"u",mandatory:"1",minver:"1",webm:"0",description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},"66fc":{name:"TrackTranslateEditionUID",level:"4",type:"u",multiple:"1",minver:"1",webm:"0",description:"Specify an edition UID on which this translation applies. When not specified, it means for all editions found in the segment."},"56bb":{name:"SeekPreRoll",level:"3",type:"u",mandatory:"1",multiple:"0",default:"0",minver:"4",webm:"1",description:"After a discontinuity, SeekPreRoll is the duration in nanoseconds of the data the decoder must decode before the decoded data is valid."},"56aa":{name:"CodecDelay",level:"3",type:"u",multiple:"0",default:"0",minver:"4",webm:"1",description:"CodecDelay is The codec-built-in delay in nanoseconds. This value must be subtracted from each block timestamp in order to get the actual timestamp. The value should be small so the muxing of tracks with the same actual timestamp are in the same Cluster."},"6fab":{name:"TrackOverlay",level:"3",type:"u",multiple:"1",minver:"1",webm:"0",description:"Specify that this track is an overlay track for the Track specified (in the u-integer). That means when this track has a gap (see SilentTracks) the overlay track should be used instead. The order of multiple TrackOverlay matters, the first one is the one that should be used. If not found it should be the second, etc."},aa:{name:"CodecDecodeAll",level:"3",type:"u",mandatory:"1",minver:"2",webm:"0",default:"1",range:"0-1",description:"The codec can decode potentially damaged data (1 bit)."},"26b240":{name:"CodecDownloadURL",level:"3",type:"s",multiple:"1",webm:"0",description:"A URL to download about the codec used."},"3b4040":{name:"CodecInfoURL",level:"3",type:"s",multiple:"1",webm:"0",description:"A URL to find information about the codec used."},"3a9697":{name:"CodecSettings",level:"3",type:"8",webm:"0",description:"A string describing the encoding setting used."},"63a2":{name:"CodecPrivate",level:"3",type:"b",minver:"1",description:"Private data only known to the codec."},"22b59c":{name:"Language",cppname:"TrackLanguage",level:"3",type:"s",minver:"1",default:"eng",description:"Specifies the language of the track in the Matroska languages form."},"536e":{name:"Name",cppname:"TrackName",level:"3",type:"8",minver:"1",description:"A human-readable track name."},"55ee":{name:"MaxBlockAdditionID",level:"3",type:"u",mandatory:"1",minver:"1",webm:"0",default:"0",description:"The maximum value of BlockAdditions for this track."},"537f":{name:"TrackOffset",level:"3",type:"i",webm:"0",default:"0",description:"A value to add to the Block's Timestamp. This can be used to adjust the playback offset of a track."},"23314f":{name:"TrackTimecodeScale",level:"3",type:"f",mandatory:"1",minver:"1",maxver:"3",webm:"0",default:"1.0",range:"> 0",description:"DEPRECATED, DO NOT USE. The scale to apply on this track to work at normal speed in relation with other tracks (mostly used to adjust video speed when the audio length differs)."},"234e7a":{name:"DefaultDecodedFieldDuration",cppname:"TrackDefaultDecodedFieldDuration",level:"3",type:"u",minver:"4",range:"not 0",description:"The period in nanoseconds (not scaled by TimcodeScale)\nbetween two successive fields at the output of the decoding process (see the notes)"},"23e383":{name:"DefaultDuration",cppname:"TrackDefaultDuration",level:"3",type:"u",minver:"1",range:"not 0",description:"Number of nanoseconds (not scaled via TimecodeScale) per frame ('frame' in the Matroska sense -- one element put into a (Simple)Block)."},"6df8":{name:"MaxCache",cppname:"TrackMaxCache",level:"3",type:"u",minver:"1",webm:"0",description:"The maximum cache size required to store referenced frames in and the current frame. 0 means no cache is needed."},"6de7":{name:"MinCache",cppname:"TrackMinCache",level:"3",type:"u",mandatory:"1",minver:"1",webm:"0",default:"0",description:"The minimum number of frames a player should be able to cache during playback. If set to 0, the reference pseudo-cache system is not used."},"9c":{name:"FlagLacing",cppname:"TrackFlagLacing",level:"3",type:"u",mandatory:"1",minver:"1",default:"1",range:"0-1",description:"Set if the track may contain blocks using lacing. (1 bit)"},"55aa":{name:"FlagForced",cppname:"TrackFlagForced",level:"3",type:"u",mandatory:"1",minver:"1",default:"0",range:"0-1",description:"Set if that track MUST be active during playback. There can be many forced track for a kind (audio, video or subs), the player should select the one which language matches the user preference or the default + forced track. Overlay MAY happen between a forced and non-forced track of the same kind. (1 bit)"},b9:{name:"FlagEnabled",cppname:"TrackFlagEnabled",level:"3",type:"u",mandatory:"1",minver:"2",webm:"1",default:"1",range:"0-1",description:"Set if the track is usable. (1 bit)"},"73c5":{name:"TrackUID",level:"3",type:"u",mandatory:"1",minver:"1",range:"not 0",description:"A unique ID to identify the Track. This should be kept the same when making a direct stream copy of the Track to another file."},d7:{name:"TrackNumber",level:"3",type:"u",mandatory:"1",minver:"1",range:"not 0",description:"The track number as used in the Block Header (using more than 127 tracks is not encouraged, though the design allows an unlimited number)."},ae:{name:"TrackEntry",level:"2",type:"m",mandatory:"1",multiple:"1",minver:"1",description:"Describes a track with all elements."},"1654ae6b":{name:"Tracks",level:"1",type:"m",multiple:"1",minver:"1",description:"A top-level block of information with many tracks described."},af:{name:"EncryptedBlock",level:"2",type:"b",multiple:"1",webm:"0",description:"Similar to EncryptedBlock Structure)"},ca:{name:"ReferenceTimeCode",level:"4",type:"u",multiple:"0",mandatory:"1",minver:"0",webm:"0",divx:"1",description:"DivX trick track extenstions"},c9:{name:"ReferenceOffset",level:"4",type:"u",multiple:"0",mandatory:"1",minver:"0",webm:"0",divx:"1",description:"DivX trick track extenstions"},c8:{name:"ReferenceFrame",level:"3",type:"m",multiple:"0",minver:"0",webm:"0",divx:"1",description:"DivX trick track extenstions"},cf:{name:"SliceDuration",level:"5",type:"u",default:"0",description:"The (scaled) duration to apply to the element."},ce:{name:"Delay",cppname:"SliceDelay",level:"5",type:"u",default:"0",description:"The (scaled) delay to apply to the element."},cb:{name:"BlockAdditionID",cppname:"SliceBlockAddID",level:"5",type:"u",default:"0",description:"The ID of the BlockAdditional element (0 is the main Block)."},cd:{name:"FrameNumber",cppname:"SliceFrameNumber",level:"5",type:"u",default:"0",description:"The number of the frame to generate from this lace with this delay (allow you to generate many frames from the same Block/Frame)."},cc:{name:"LaceNumber",cppname:"SliceLaceNumber",level:"5",type:"u",minver:"1",default:"0",divx:"0",description:"The reverse number of the frame in the lace (0 is the last frame, 1 is the next to last, etc). While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback."},e8:{name:"TimeSlice",level:"4",type:"m",multiple:"1",minver:"1",divx:"0",description:"Contains extra time information about the data contained in the Block. While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback."},"8e":{name:"Slices",level:"3",type:"m",minver:"1",divx:"0",description:"Contains slices description."},"75a2":{name:"DiscardPadding",level:"3",type:"i",minver:"4",webm:"1",description:"Duration in nanoseconds of the silent data added to the Block (padding at the end of the Block for positive value, at the beginning of the Block for negative value). The duration of DiscardPadding is not calculated in the duration of the TrackEntry and should be discarded during playback."},a4:{name:"CodecState",level:"3",type:"b",minver:"2",webm:"0",description:"The new codec state to use. Data interpretation is private to the codec. This information should always be referenced by a seek entry."},fd:{name:"ReferenceVirtual",level:"3",type:"i",webm:"0",description:"Relative position of the data that should be in position of the virtual block."},fb:{name:"ReferenceBlock",level:"3",type:"i",multiple:"1",minver:"1",description:"Timestamp of another frame used as a reference (ie: B or P frame). The timestamp is relative to the block it's attached to."},fa:{name:"ReferencePriority",cppname:"FlagReferenced",level:"3",type:"u",mandatory:"1",minver:"1",webm:"0",default:"0",description:"This frame is referenced and has the specified cache priority. In cache only a frame of the same or higher priority can replace this frame. A value of 0 means the frame is not referenced."},"9b":{name:"BlockDuration",level:"3",type:"u",minver:"1",default:"TrackDuration",description:'The duration of the Block (based on TimecodeScale). This element is mandatory when DefaultDuration is set for the track (but can be omitted as other default values). When not written and with no DefaultDuration, the value is assumed to be the difference between the timestamp of this Block and the timestamp of the next Block in "display" order (not coding order). This element can be useful at the end of a Track (as there is not other Block available), or when there is a break in a track like for subtitle tracks. When set to 0 that means the frame is not a keyframe.'},a5:{name:"BlockAdditional",level:"5",type:"b",mandatory:"1",minver:"1",webm:"0",description:"Interpreted by the codec as it wishes (using the BlockAddID)."},ee:{name:"BlockAddID",level:"5",type:"u",mandatory:"1",minver:"1",webm:"0",default:"1",range:"not 0",description:"An ID to identify the BlockAdditional level."},a6:{name:"BlockMore",level:"4",type:"m",mandatory:"1",multiple:"1",minver:"1",webm:"0",description:"Contain the BlockAdditional and some parameters."},"75a1":{name:"BlockAdditions",level:"3",type:"m",minver:"1",webm:"0",description:"Contain additional blocks to complete the main one. An EBML parser that has no knowledge of the Block structure could still see and use/skip these data."},a2:{name:"BlockVirtual",level:"3",type:"b",webm:"0",description:"A Block with no data. It must be stored in the stream at the place the real Block should be in display order. (see Block Virtual)"},a1:{name:"Block",level:"3",type:"b",mandatory:"1",minver:"1",description:"Block containing the actual data to be rendered and a timestamp relative to the Cluster Timecode. (see Block Structure)"},a0:{name:"BlockGroup",level:"2",type:"m",multiple:"1",minver:"1",description:"Basic container of information containing a single Block or BlockVirtual, and information specific to that Block/VirtualBlock."},a3:{name:"SimpleBlock",level:"2",type:"b",multiple:"1",minver:"2",webm:"1",divx:"1",description:"Similar to SimpleBlock Structure)"},ab:{name:"PrevSize",cppname:"ClusterPrevSize",level:"2",type:"u",minver:"1",description:"Size of the previous Cluster, in octets. Can be useful for backward playing."},a7:{name:"Position",cppname:"ClusterPosition",level:"2",type:"u",minver:"1",webm:"0",description:"The Position of the Cluster in the segment (0 in live broadcast streams). It might help to resynchronise offset on damaged streams."},"58d7":{name:"SilentTrackNumber",cppname:"ClusterSilentTrackNumber",level:"3",type:"u",multiple:"1",minver:"1",webm:"0",description:"One of the track number that are not used from now on in the stream. It could change later if not specified as silent in a further Cluster."},e7:{name:"Timecode",cppname:"ClusterTimecode",level:"2",type:"u",mandatory:"1",minver:"1",description:"Absolute timestamp of the cluster (based on TimecodeScale)."},"1f43b675":{name:"Cluster",level:"1",type:"m",multiple:"1",minver:"1",description:"The lower level element containing the (monolithic) Block structure."},"4d80":{name:"MuxingApp",level:"2",type:"8",mandatory:"1",minver:"1",description:'Muxing application or library ("libmatroska-0.4.3").'},"7ba9":{name:"Title",level:"2",type:"8",minver:"1",webm:"0",description:"General name of the segment."},"2ad7b2":{name:"TimecodeScaleDenominator",level:"2",type:"u",mandatory:"1",minver:"4",default:"1000000000",description:"Timestamp scale numerator, see TimecodeScale."},"2ad7b1":{name:"TimecodeScale",level:"2",type:"u",mandatory:"1",minver:"1",default:"1000000",description:"Timestamp scale in nanoseconds (1.000.000 means all timestamps in the segment are expressed in milliseconds)."},"69a5":{name:"ChapterTranslateID",level:"3",type:"b",mandatory:"1",minver:"1",webm:"0",description:"The binary value used to represent this segment in the chapter codec data. The format depends on the ChapProcessCodecID used."},"69bf":{name:"ChapterTranslateCodec",level:"3",type:"u",mandatory:"1",minver:"1",webm:"0",description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},"69fc":{name:"ChapterTranslateEditionUID",level:"3",type:"u",multiple:"1",minver:"1",webm:"0",description:"Specify an edition UID on which this correspondance applies. When not specified, it means for all editions found in the segment."},"3e83bb":{name:"NextFilename",level:"2",type:"8",minver:"1",webm:"0",description:"An escaped filename corresponding to the next segment."},"3eb923":{name:"NextUID",level:"2",type:"b",minver:"1",webm:"0",bytesize:"16",description:"A unique ID to identify the next chained segment (128 bits)."},"3c83ab":{name:"PrevFilename",level:"2",type:"8",minver:"1",webm:"0",description:"An escaped filename corresponding to the previous segment."},"3cb923":{name:"PrevUID",level:"2",type:"b",minver:"1",webm:"0",bytesize:"16",description:"A unique ID to identify the previous chained segment (128 bits)."},"73a4":{name:"SegmentUID",level:"2",type:"b",minver:"1",webm:"0",range:"not 0",bytesize:"16",description:"A randomly generated unique ID to identify the current segment between many others (128 bits)."},"1549a966":{name:"Info",level:"1",type:"m",mandatory:"1",multiple:"1",minver:"1",description:"Contains miscellaneous general information and statistics on the file."},"53ac":{name:"SeekPosition",level:"3",type:"u",mandatory:"1",minver:"1",description:"The position of the element in the segment in octets (0 = first level 1 element)."},"53ab":{name:"SeekID",level:"3",type:"b",mandatory:"1",minver:"1",description:"The binary ID corresponding to the element name."},"4dbb":{name:"Seek",cppname:"SeekPoint",level:"2",type:"m",mandatory:"1",multiple:"1",minver:"1",description:"Contains a single seek entry to an EBML element."},"114d9b74":{name:"SeekHead",cppname:"SeekHeader",level:"1",type:"m",multiple:"1",minver:"1",description:"Contains the position of other level 1 elements."},"7e7b":{name:"SignatureElementList",level:"2",type:"m",multiple:"1",webm:"0",i:"Cluster|Block|BlockAdditional",description:"A list consists of a number of consecutive elements that represent one case where data is used in signature. Ex:  means that the BlockAdditional of all Blocks in all Clusters is used for encryption."},"7e5b":{name:"SignatureElements",level:"1",type:"m",webm:"0",description:"Contains elements that will be used to compute the signature."},"7eb5":{name:"Signature",level:"1",type:"b",webm:"0",description:"The signature of the data (until a new."},"7ea5":{name:"SignaturePublicKey",level:"1",type:"b",webm:"0",description:"The public key to use with the algorithm (in the case of a PKI-based signature)."},"7e9a":{name:"SignatureHash",level:"1",type:"u",webm:"0",description:"Hash algorithm used (1=SHA1-160, 2=MD5)."},"7e8a":{name:"SignatureAlgo",level:"1",type:"u",webm:"0",description:"Signature algorithm used (1=RSA, 2=elliptic)."},"1b538667":{name:"SignatureSlot",level:"-1",type:"m",multiple:"1",webm:"0",description:"Contain signature of some (coming) elements in the stream."},bf:{name:"CRC-32",level:"-1",type:"b",minver:"1",webm:"0",description:"The CRC is computed on all the data of the Master element it's in. The CRC element should be the first in it's parent master for easier reading. All level 1 elements should include a CRC-32. The CRC in use is the IEEE CRC32 Little Endian"},ec:{name:"Void",level:"-1",type:"b",minver:"1",description:"Used to void damaged data, to avoid unexpected behaviors when using damaged data. The content is discarded. Also used to reserve space in a sub-element for later use."},"42f3":{name:"EBMLMaxSizeLength",level:"1",type:"u",mandatory:"1",default:"8",minver:"1",description:"The maximum length of the sizes you'll find in this file (8 or less in Matroska). This does not override the element size indicated at the beginning of an element. Elements that have an indicated size which is larger than what is allowed by EBMLMaxSizeLength shall be considered invalid."},"42f2":{name:"EBMLMaxIDLength",level:"1",type:"u",mandatory:"1",default:"4",minver:"1",description:"The maximum length of the IDs you'll find in this file (4 or less in Matroska)."},"42f7":{name:"EBMLReadVersion",level:"1",type:"u",mandatory:"1",default:"1",minver:"1",description:"The minimum EBML version a parser has to support to read this file."},"1a45dfa3":{name:"EBML",level:"0",type:"m",mandatory:"1",multiple:"1",minver:"1",description:"Set the EBML characteristics of the data to follow. Each EBML document has to start with this."}};module.exports=schema;

},{}],39:[function(require,module,exports){
(function (Buffer){
var tools={readVint:function(r,e){e=e||0;for(var t=1;t<=8&&!(r[e]>=Math.pow(2,8-t));t++);if(t>8)throw new Error("Unrepresentable length: "+t+" "+r.toString("hex",e,e+t));if(e+t>r.length)return null;for(var n=r[e]&(1<<8-t)-1,o=1;o<t;o++){if(7===o&&n>=Math.pow(2,45)&&r[e+7]>0)return{length:t,value:-1};n*=Math.pow(2,8),n+=r[e+o]}return{length:t,value:n}},writeVint:function(r){if(r<0||r>Math.pow(2,53))throw new Error("Unrepresentable value: "+r);for(var e=1;e<=8&&!(r<Math.pow(2,7*e)-1);e++);for(var t=new Buffer(e),n=1;n<=e;n++){var o=255&r;t[e-n]=o,r-=o,r/=Math.pow(2,8)}return t[0]=t[0]|1<<8-e,t}};module.exports=tools;

}).call(this,require(22).Buffer)
},{"22":22}],40:[function(require,module,exports){
function debug(e){return debug.enabled(e)?function(n){n=coerce(n);var u=new Date,o=u-(debug[e]||u);debug[e]=u,n=e+" "+n+" +"+debug.humanize(o),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function coerce(e){return e instanceof Error?e.stack||e.message:e}module.exports=debug,debug.names=[],debug.skips=[],debug.enable=function(e){try{localStorage.debug=e}catch(e){}for(var n=(e||"").split(/[\s,]+/),u=n.length,o=0;o<u;o++)"-"===(e=n[o].replace("*",".*?"))[0]?debug.skips.push(new RegExp("^"+e.substr(1)+"$")):debug.names.push(new RegExp("^"+e+"$"))},debug.disable=function(){debug.enable("")},debug.humanize=function(e){return e>=36e5?(e/36e5).toFixed(1)+"h":e>=6e4?(e/6e4).toFixed(1)+"m":e>=1e3?(e/1e3|0)+"s":e+"ms"},debug.enabled=function(e){for(var n=0,u=debug.skips.length;n<u;n++)if(debug.skips[n].test(e))return!1;for(n=0,u=debug.names.length;n<u;n++)if(debug.names[n].test(e))return!0;return!1};try{window.localStorage&&debug.enable(localStorage.debug)}catch(e){}

},{}],41:[function(require,module,exports){
var once=require(80),noop=function(){},isRequest=function(e){return e.setHeader&&"function"==typeof e.abort},isChildProcess=function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length},eos=function(e,r,n){if("function"==typeof r)return eos(e,null,r);r||(r={}),n=once(n||noop);var o=e._writableState,t=e._readableState,i=r.readable||!1!==r.readable&&e.readable,s=r.writable||!1!==r.writable&&e.writable,l=function(){e.writable||c()},c=function(){s=!1,i||n.call(e)},a=function(){i=!1,s||n.call(e)},u=function(r){n.call(e,r?new Error("exited with error code: "+r):null)},d=function(r){n.call(e,r)},f=function(){return(!i||t&&t.ended)&&(!s||o&&o.ended)?void 0:n.call(e,new Error("premature close"))},m=function(){e.req.on("finish",c)};return isRequest(e)?(e.on("complete",c),e.on("abort",f),e.req?m():e.on("request",m)):s&&!o&&(e.on("end",l),e.on("close",l)),isChildProcess(e)&&e.on("exit",u),e.on("end",a),e.on("finish",c),!1!==r.error&&e.on("error",d),e.on("close",f),function(){e.removeListener("complete",c),e.removeListener("abort",f),e.removeListener("request",m),e.req&&e.req.removeListener("finish",c),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("exit",u),e.removeListener("end",a),e.removeListener("error",d),e.removeListener("close",f)}};module.exports=eos;

},{"80":80}],42:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,i,n,s,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(isUndefined(i=this._events[e]))return!1;if(isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(isObject(i))for(s=Array.prototype.slice.call(arguments,1),n=(o=i.slice()).length,r=0;r<n;r++)o[r].apply(this,s);return!0},EventEmitter.prototype.addListener=function(e,t){var i;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(i=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},EventEmitter.prototype.removeListener=function(e,t){var i,n,s,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(i=this._events[e]).length,n=-1,i===t||isFunction(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(i)){for(r=s;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(isFunction(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};

},{}],43:[function(require,module,exports){
function twoPow(t){return t<31?1<<t:(1<<30)*(1<<t-30)}function rightShift(t){return(t-(1&t))/2}function Iterator(t){this.index=0,this.offset=0,this.factor=0}exports.fullRoots=function(t,e){if(1&t)throw new Error("You can only look up roots for depth(0) blocks");e||(e=[]),t/=2;for(var r=0,o=1;;){if(!t)return e;for(;2*o<=t;)o*=2;e.push(r+o-1),r+=2*o,t-=o,o=1}},exports.depth=function(t){var e=0;for(t+=1;!(1&t);)e++,t=rightShift(t);return e},exports.sibling=function(t,e){e||(e=exports.depth(t));var r=exports.offset(t,e);return exports.index(e,1&r?r-1:r+1)},exports.parent=function(t,e){e||(e=exports.depth(t));var r=exports.offset(t,e);return exports.index(e+1,rightShift(r))},exports.leftChild=function(t,e){return 1&t?(e||(e=exports.depth(t)),exports.index(e-1,2*exports.offset(t,e))):-1},exports.rightChild=function(t,e){return 1&t?(e||(e=exports.depth(t)),exports.index(e-1,1+2*exports.offset(t,e))):-1},exports.children=function(t,e){if(!(1&t))return null;e||(e=exports.depth(t));var r=2*exports.offset(t,e);return[exports.index(e-1,r),exports.index(e-1,r+1)]},exports.leftSpan=function(t,e){return 1&t?(e||(e=exports.depth(t)),exports.offset(t,e)*twoPow(e+1)):t},exports.rightSpan=function(t,e){return 1&t?(e||(e=exports.depth(t)),(exports.offset(t,e)+1)*twoPow(e+1)-2):t},exports.count=function(t,e){return 1&t?(e||(e=exports.depth(t)),twoPow(e+1)-1):1},exports.spans=function(t,e){if(!(1&t))return[t,t];e||(e=exports.depth(t));var r=exports.offset(t,e),o=twoPow(e+1);return[r*o,(r+1)*o-2]},exports.index=function(t,e){return(1+2*e)*twoPow(t)-1},exports.offset=function(t,e){return 1&t?(e||(e=exports.depth(t)),((t+1)/twoPow(e)-1)/2):t/2},exports.iterator=function(t){var e=new Iterator;return e.seek(t||0),e},Iterator.prototype.seek=function(t){this.index=t,1&this.index?(this.offset=exports.offset(t),this.factor=twoPow(exports.depth(t)+1)):(this.offset=t/2,this.factor=2)},Iterator.prototype.isLeft=function(){return!(1&this.offset)},Iterator.prototype.isRight=function(){return!this.isLeft()},Iterator.prototype.prev=function(){return this.offset?(this.offset--,this.index-=this.factor,this.index):this.index},Iterator.prototype.next=function(){return this.offset++,this.index+=this.factor,this.index},Iterator.prototype.sibling=function(){return this.isLeft()?this.next():this.prev()},Iterator.prototype.parent=function(){return 1&this.offset?(this.index-=this.factor/2,this.offset=(this.offset-1)/2):(this.index+=this.factor/2,this.offset/=2),this.factor*=2,this.index},Iterator.prototype.leftSpan=function(){return this.index=this.index-this.factor/2+1,this.offset=this.index/2,this.factor=2,this.index},Iterator.prototype.rightSpan=function(){return this.index=this.index+this.factor/2-1,this.offset=this.index/2,this.factor=2,this.index},Iterator.prototype.leftChild=function(){return 2===this.factor?this.index:(this.factor/=2,this.index-=this.factor/2,this.offset*=2,this.index)},Iterator.prototype.rightChild=function(){return 2===this.factor?this.index:(this.factor/=2,this.index+=this.factor/2,this.offset=2*this.offset+1,this.index)};

},{}],44:[function(require,module,exports){
(function (process){
function toFunction(r){return r=r.slice(),function(t,e){var o=null,n=r.length?r.shift():null;n instanceof Error&&(o=n,n=null),e(o,n)}}function from2(r,t){("object"!=typeof r||Array.isArray(r))&&(t=r,r={});var e=new Proto(r);return e._from=Array.isArray(t)?toFunction(t):t||noop,e}function ctor(r,t){function e(t){if(!(this instanceof e))return new e(t);this._reading=!1,this._callback=function(r,t){if(!o.destroyed){if(r)return o.destroy(r);if(null===t)return o.push(null);o._reading=!1,o.push(t)&&o._read(n)}},this.destroyed=!1,Readable.call(this,t||r);var o=this,n=this._readableState.highWaterMark}return"function"==typeof r&&(t=r,r={}),r=defaults(r),inherits(e,Readable),e.prototype._from=t||noop,e.prototype._read=function(r){this._reading||this.destroyed||(this._reading=!0,this._from(r,this._callback))},e.prototype.destroy=function(r){if(!this.destroyed){this.destroyed=!0;var t=this;process.nextTick(function(){r&&t.emit("error",r),t.emit("close")})}},e}function obj(r,t){return("function"==typeof r||Array.isArray(r))&&(t=r,r={}),(r=defaults(r)).objectMode=!0,r.highWaterMark=16,from2(r,t)}function noop(){}function defaults(r){return r=r||{}}var Readable=require(107).Readable,inherits=require(59);module.exports=from2,from2.ctor=ctor,from2.obj=obj;var Proto=ctor();

}).call(this,require(83))
},{"107":107,"59":59,"83":83}],45:[function(require,module,exports){
var util=require(138),INDENT_START=/[\{\[]/,INDENT_END=/[\}\]]/;module.exports=function(){var t=[],n=0,u=function(u){for(var r="";r.length<2*n;)r+="  ";t.push(r+u)},r=function(t){return t?INDENT_END.test(t.trim()[0])&&INDENT_START.test(t[t.length-1])?(n--,u(util.format.apply(util,arguments)),n++,r):INDENT_START.test(t[t.length-1])?(u(util.format.apply(util,arguments)),n++,r):INDENT_END.test(t.trim()[0])?(n--,u(util.format.apply(util,arguments)),r):(u(util.format.apply(util,arguments)),r):r};return r.toString=function(){return t.join("\n")},r.toFunction=function(t){var n="return ("+r.toString()+")",u=Object.keys(t||{}).map(function(t){return t}),l=u.map(function(n){return t[n]});return Function.apply(null,u.concat(n)).apply(null,l)},arguments.length&&r.apply(null,arguments),r};

},{"138":138}],46:[function(require,module,exports){
var isProperty=require(61),gen=function(r,e){return isProperty(e)?r+"."+e:r+"["+JSON.stringify(e)+"]"};gen.valid=isProperty,gen.property=function(r){return isProperty(r)?r:JSON.stringify(r)},module.exports=gen;

},{"61":61}],47:[function(require,module,exports){
module.exports=function(){if("undefined"==typeof window)return null;var n={RTCPeerConnection:window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCSessionDescription:window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,RTCIceCandidate:window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate};return n.RTCPeerConnection?n:null};

},{}],48:[function(require,module,exports){
var adapter=require(146);module.exports=function(r,e){var o,t="PermissionDeniedError",a="ConstraintNotSatisfiedError";return 2===arguments.length||(e=r,r={video:!0,audio:!0}),"undefined"!=typeof navigator&&navigator.getUserMedia?r.audio||r.video?void navigator.mediaDevices.getUserMedia(r).then(function(r){e(null,r)}).catch(function(r){var o;"string"==typeof r?(o=new Error("MediaStreamError")).name=r===t||"PERMISSION_DENIED"===r?t:a:(o=r).name||(r.name=o[t]?t:a),e(o)}):((o=new Error("MediaStreamError")).name="NoMediaRequestedError",setTimeout(function(){e(o)},0)):((o=new Error("MediaStreamError")).name="NotSupportedError",setTimeout(function(){e(o)},0))};

},{"146":146}],49:[function(require,module,exports){
(function (process,Buffer){
function Feed(e){if(!(this instanceof Feed))return new Feed(e);events.EventEmitter.call(this),this.key=null,this.discoveryKey=null,this.stream=e,this.peer=null,this.id=-1,this.remoteId=-1,this.header=0,this.headerLength=0,this.closed=!1,this._buffer=[]}function decodeMessage(e,t,s,n){switch(e){case 1:return decode(messages.Handshake,t,s,n);case 2:return decode(messages.Info,t,s,n);case 3:return decode(messages.Have,t,s,n);case 4:return decode(messages.Unhave,t,s,n);case 5:return decode(messages.Want,t,s,n);case 6:return decode(messages.Unwant,t,s,n);case 7:return decode(messages.Request,t,s,n);case 8:return decode(messages.Cancel,t,s,n);case 9:return decode(messages.Data,t,s,n)}}function decode(e,t,s,n){try{return e.decode(t,s,n)}catch(e){return null}}var events=require(42),inherits=require(59),varint=require(141),messages=require(51);module.exports=Feed,inherits(Feed,events.EventEmitter),Feed.prototype.handshake=function(e){return this._send(1,messages.Handshake,e)},Feed.prototype.info=function(e){return this._send(2,messages.Info,e)},Feed.prototype.have=function(e){return this._send(3,messages.Have,e)},Feed.prototype.unhave=function(e){return this._send(4,messages.Unhave,e)},Feed.prototype.want=function(e){return this._send(5,messages.Want,e)},Feed.prototype.unwant=function(e){return this._send(6,messages.Unwant,e)},Feed.prototype.request=function(e){return this._send(7,messages.Request,e)},Feed.prototype.cancel=function(e){return this._send(8,messages.Cancel,e)},Feed.prototype.data=function(e){return this._send(9,messages.Data,e)},Feed.prototype.extension=function(e,t){var s=this.stream.extensions.indexOf(e);if(-1===s)return!1;var n=15|this.header,r=this.headerLength+varint.encodingLength(s)+t.length,i=new Buffer(varint.encodingLength(r)+r),o=0;return varint.encode(r,i,o),varint.encode(n,i,o+=varint.encode.bytes),varint.encode(s,i,o+=varint.encode.bytes),t.copy(i,o+=varint.encode.bytes),this.stream._push(i)},Feed.prototype.remoteSupports=function(e){return this.stream.remoteSupports(e)},Feed.prototype.destroy=function(e){this.stream.destroy(e)},Feed.prototype.close=function(){var e=this.stream.feeds.indexOf(this);if(e>-1){if(this.stream.feeds[e]=this.stream.feeds[this.stream.feeds.length-1],this.stream.feeds.pop(),this.stream._localFeeds[this.id]=null,this.id=-1,this.stream.destroyed)return;if(this.stream.expectedFeeds<=0||--this.stream.expectedFeeds)return;this.stream.finalize()}},Feed.prototype._onclose=function(){if(!this.closed){if(this.closed=!0,!this.stream.destroyed){this.close(),this.remoteId>-1&&(this.stream._remoteFeeds[this.remoteId]=null);var e=this.discoveryKey.toString("hex");this._feeds[e]===this&&delete this._feeds[e]}this.peer?this.peer.onclose():this.emit("close")}},Feed.prototype._resume=function(){var e=this;process.nextTick(function(){for(;e._buffer.length;){var t=e._buffer.shift();e._emit(t.type,t.message)}e._buffer=null})},Feed.prototype._onextension=function(e,t,s){if(!(s<=t)){var n=varint.decode(e,t),r=this.stream.remoteExtensions,i=!r||n>=r.length?-1:r[n];if(-1!==i){var o=e.slice(t+varint.decode.bytes,s),a=this.stream.extensions[i];this.peer&&this.peer.onextension?this.peer.onextension(a,o):this.emit("extension",a,o)}}},Feed.prototype._onmessage=function(e,t,s,n){var r=decodeMessage(e,t,s,n);if(r&&!this.closed)return 1===e?this.stream._onhandshake(r):void(this._buffer?this._buffer.length>16?this.destroy(new Error("Remote sent too many messages on an unopened feed")):this._buffer.push({type:e,message:r}):this._emit(e,r))},Feed.prototype._emit=function(e,t){if(this.peer)switch(e){case 2:return this.peer.oninfo(t);case 3:return this.peer.onhave(t);case 4:return this.peer.onunhave(t);case 5:return this.peer.onwant(t);case 6:return this.peer.onunwant(t);case 7:return this.peer.onrequest(t);case 8:return this.peer.oncancel(t);case 9:return this.peer.ondata(t)}else switch(e){case 2:return this.emit("info",t);case 3:return this.emit("have",t);case 4:return this.emit("unhave",t);case 5:return this.emit("want",t);case 6:return this.emit("unwant",t);case 7:return this.emit("request",t);case 8:return this.emit("cancel",t);case 9:return this.emit("data",t)}},Feed.prototype._send=function(e,t,s){var n=this.header|e,r=this.headerLength+t.encodingLength(s),i=new Buffer(varint.encodingLength(r)+r),o=0;return varint.encode(r,i,o),varint.encode(n,i,o+=varint.encode.bytes),t.encode(s,i,o+=varint.encode.bytes),this.stream._push(i)};

}).call(this,require(83),require(22).Buffer)
},{"141":141,"22":22,"42":42,"51":51,"59":59,"83":83}],50:[function(require,module,exports){
(function (process,Buffer){
function Protocol(e){if(!(this instanceof Protocol))return new Protocol(e);e||(e={}),stream.Duplex.call(this),this.id=e.id||randomBytes(32),this.live=!!e.live,this.ack=!!e.ack,this.userData=e.userData||null,this.remoteId=null,this.remoteLive=!1,this.remoteUserData=null,this.destroyed=!1,this.encrypted=!1!==e.encrypt,this.key=null,this.discoveryKey=null,this.remoteDiscoveryKey=null,this.feeds=[],this.expectedFeeds=e.expectedFeeds||0,this.extensions=e.extensions||[],this.remoteExtensions=null,this._localFeeds=[],this._remoteFeeds=[],this._feeds={},this._nonce=null,this._remoteNonce=null,this._xor=null,this._remoteXor=null,this._needsKey=!1,this._length=new Buffer(varint.encodingLength(8388608)),this._missing=0,this._buf=null,this._pointer=0,this._data=null,this._start=0,this._cb=null,this._interval=null,this._keepAlive=0,this._remoteKeepAlive=0,0!==e.timeout&&!1!==e.timeout&&this.setTimeout(e.timeout||5e3,this._ontimeout),this.on("finish",this.finalize)}function decodeHeader(e,t){try{return varint.decode(e,t)}catch(e){return-1}}function decodeFeed(e,t,i){var s=null;try{s=messages.Feed.decode(e,t,i)}catch(e){return null}return 32!==s.discoveryKey.length?null:s.nonce&&24!==s.nonce.length?null:s}function encodeFeed(e,t){var i=t<<4,s=varint.encodingLength(i)+messages.Feed.encodingLength(e),o=new Buffer(varint.encodingLength(s)+s),r=0;return varint.encode(s,o,r),varint.encode(i,o,r+=varint.encode.bytes),messages.Feed.encode(e,o,r+=varint.encode.bytes),o}function discoveryKey(e){var t=new Buffer(32);return sodium.crypto_generichash(t,new Buffer("hypercore"),e),t}function randomBytes(e){var t=new Buffer(e);return sodium.randombytes_buf(t),t}var stream=require(107),inherits=require(59),varint=require(141),sodium=require(126),indexOf=require(127),feed=require(49),messages=require(51);module.exports=Protocol,inherits(Protocol,stream.Duplex),Protocol.prototype.setTimeout=function(e,t){if(!this.destroyed){t&&this.once("timeout",t);var i=this;this._keepAlive=0,this._remoteKeepAlive=0,clearInterval(this._interval),e&&(this._interval=setInterval(function(){i._kick()},e/4|0),this._interval.unref&&this._interval.unref())}},Protocol.prototype.feed=function(e,t){if(this.destroyed)return null;t||(t={});var i=t.discoveryKey||discoveryKey(e),s=this._feed(i);if(s.id>-1)return t.peer&&(s.peer=t.peer),s;if(this._localFeeds.length>=128)return this._tooManyFeeds(),null;s.id=this._localFeeds.push(s)-1,s.header=s.id<<4,s.headerLength=varint.encodingLength(s.header),s.key=e,s.discoveryKey=i,t.peer&&(s.peer=t.peer),this.feeds.push(s);var o=!this.key,r={discoveryKey:i,nonce:null};if(o){if(this.key=e,this.discoveryKey=i,!this._sameKey())return null;this.encrypted&&(r.nonce=this._nonce=randomBytes(24),this._xor=sodium.crypto_stream_xor_instance(this._nonce,this.key),this._remoteNonce&&(this._remoteXor=sodium.crypto_stream_xor_instance(this._remoteNonce,this.key))),this._needsKey&&(this._needsKey=!1,this._resume())}var n=encodeFeed(r,s.id);return!r.nonce&&this.encrypted&&this._xor.update(n,n),this._keepAlive=0,this.push(n),this.destroyed?null:(o&&s.handshake({id:this.id,live:this.live,userData:this.userData,extensions:this.extensions,ack:this.ack}),s._buffer.length?s._resume():s._buffer=null,s)},Protocol.prototype._resume=function(){var e=this;process.nextTick(function(){if(e._data){var t=e._data,i=e._start,s=e._cb;e._data=null,e._start=0,e._cb=null,e._parse(t,i,s)}})},Protocol.prototype._kick=function(){if(this._remoteKeepAlive>4)return clearInterval(this._interval),void this.emit("timeout");for(var e=0;e<this.feeds.length;e++){var t=this.feeds[e];t.peer?t.peer.ontick():t.emit("tick")}this._remoteKeepAlive++,this._keepAlive>2?(this.ping(),this._keepAlive=0):this._keepAlive++},Protocol.prototype.ping=function(){if(!this.key)return!0;var e=new Buffer([0]);return this._xor&&this._xor.update(e,e),this.push(e)},Protocol.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error",e),this._close(),this.emit("close"))},Protocol.prototype.finalize=function(){this.destroyed||(this.destroyed=!0,this._close(),this.push(null))},Protocol.prototype._close=function(){clearInterval(this._interval);var e=this.feeds;this.feeds=[];for(var t=0;t<e.length;t++)e[t]._onclose();this._xor&&(this._xor.final(),this._xor=null)},Protocol.prototype._read=function(){},Protocol.prototype._push=function(e){if(!this.destroyed)return this._keepAlive=0,this._xor&&this._xor.update(e,e),this.push(e)},Protocol.prototype._write=function(e,t,i){this._remoteKeepAlive=0,this._parse(e,0,i)},Protocol.prototype._feed=function(e){var t=e.toString("hex"),i=this._feeds[t];return i||(i=this._feeds[t]=feed(this))},Protocol.prototype.remoteSupports=function(e){var t=this.extensions.indexOf(e);return t>-1&&!!this.remoteExtensions&&this.remoteExtensions.indexOf(t)>-1},Protocol.prototype._onhandshake=function(e){this.remoteId||(this.remoteId=e.id||randomBytes(32),this.remoteLive=e.live,this.remoteUserData=e.userData,this.remoteExtensions=indexOf(this.extensions,e.extensions),this.remoteAck=e.ack,this.emit("handshake"))},Protocol.prototype._onopen=function(e,t,i,s){var o=decodeFeed(t,i,s);if(!o)return this._badFeed();if(!this.remoteDiscoveryKey){if(this.remoteDiscoveryKey=o.discoveryKey,!this._sameKey())return;if(this.encrypted&&!this._remoteNonce){if(!o.nonce)return void this.destroy(new Error("Remote did not include a nonce"));this._remoteNonce=o.nonce}this.encrypted&&this.key&&!this._remoteXor&&(this._remoteXor=sodium.crypto_stream_xor_instance(this._remoteNonce,this.key))}this._remoteFeeds[e]=this._feed(o.discoveryKey),o.remoteId=e,this.emit("feed",o.discoveryKey)},Protocol.prototype._onmessage=function(e,t,i){if(!(i-t<2)){var s=decodeHeader(e,t);if(-1===s)return this.destroy(new Error("Remote sent invalid header"));t+=varint.decode.bytes;var o=s>>4,r=15&s;if(o>=128)return this._tooManyFeeds();for(;this._remoteFeeds.length<o;)this._remoteFeeds.push(null);var n=this._remoteFeeds[o];return 0===r?(n&&n._onclose(),this._onopen(o,e,t,i)):n?15===r?n._onextension(e,t,i):void n._onmessage(r,e,t,i):this._badFeed()}},Protocol.prototype._parse=function(e,t,i){var s=!!this._remoteXor;for(t&&(e=e.slice(t),t=0),this._remoteXor&&this._remoteXor.update(e,e);t<e.length&&!this.destroyed;){if(t=this._missing?this._parseMessage(e,t):this._parseLength(e,t),this._needsKey)return this._data=e,this._start=t,void(this._cb=i);if(!s&&this._remoteXor)return this._parse(e,t,i)}i()},Protocol.prototype._parseMessage=function(e,t){var i=t+this._missing;if(i<=e.length){var s=i;return this._buf&&(e.copy(this._buf,this._pointer,t),t=0,i=(e=this._buf).length,this._buf=null),this._missing=0,this._pointer=0,this.encrypted&&!this.key&&(this._needsKey=!0),this._onmessage(e,t,i),s}this._buf||(this._buf=new Buffer(this._missing),this._pointer=0);var o=e.length-t;return e.copy(this._buf,this._pointer,t),this._pointer+=o,this._missing-=o,e.length},Protocol.prototype._parseLength=function(e,t){for(;!this._missing&&t<e.length;){if(!(128&(this._length[this._pointer++]=e[t++])))return this._missing=varint.decode(this._length),this._pointer=0,this._missing>8388608?this._tooBig(e.length):t;if(this._pointer>=this._length.length)return this._tooBig(e.length)}return t},Protocol.prototype._sameKey=function(){return!this.discoveryKey||!this.remoteDiscoveryKey||(this.remoteDiscoveryKey.toString("hex")===this.discoveryKey.toString("hex")||(this.destroy(new Error("First shared hypercore must be the same")),!1))},Protocol.prototype._tooManyFeeds=function(){this.destroy(new Error("Only 128 feeds currently supported. Open a Github issue if you need more"))},Protocol.prototype._tooBig=function(e){return this.destroy(new Error("Remote message is larger than 8MB (max allowed)")),e},Protocol.prototype._badFeed=function(){this.destroy(new Error("Remote sent invalid feed message"))},Protocol.prototype._ontimeout=function(){this.destroy(new Error("Remote timed out"))};

}).call(this,require(83),require(22).Buffer)
},{"107":107,"126":126,"127":127,"141":141,"22":22,"49":49,"51":51,"59":59,"83":83}],51:[function(require,module,exports){
var path=require(81),protobuf=require(90);module.exports=protobuf("// wire format is <len>(<header><message>)\n// header is a varint, channel << 4 | <4-bit-type>\n\n// type=0, should be the first message sent on a channel\nmessage Feed {\n  required bytes discoveryKey = 1;\n  optional bytes nonce = 2;\n}\n\n// type=1, overall connection handshake. should be send just after the feed message on the first channel only\nmessage Handshake {\n  optional bytes id = 1;\n  optional bool live = 2; // keep the connection open forever? both ends have to agree\n  optional bytes userData = 3;\n  repeated string extensions = 4;\n  optional bool ack = 5; // Should all blocks be explicitly acknowledged?\n}\n\n// type=2, message indicating state changes etc.\n// initial state for uploading/downloading is true\n// if both ends are not downloading and not live it is safe to consider the stream ended\nmessage Info {\n  optional bool uploading = 1;\n  optional bool downloading = 2;\n}\n\n// type=3, what do we have?\nmessage Have {\n  required uint64 start = 1;\n  optional uint64 length = 2 [default = 1]; // defaults to 1\n  optional bytes bitfield = 3;\n}\n\n// type=4, what did we lose?\nmessage Unhave {\n  required uint64 start = 1;\n  optional uint64 length = 2 [default = 1]; // defaults to 1\n}\n\n// type=5, what do we want? remote should start sending have messages in this range\nmessage Want {\n  required uint64 start = 1;\n  optional uint64 length = 2; // defaults to Infinity or feed.length (if not live)\n}\n\n// type=6, what don't we want anymore?\nmessage Unwant {\n  required uint64 start = 1;\n  optional uint64 length = 2; // defaults to Infinity or feed.length (if not live)\n}\n\n// type=7, ask for data\nmessage Request {\n  required uint64 index = 1;\n  optional uint64 bytes = 2;\n  optional bool hash = 3;\n  optional uint64 nodes = 4;\n}\n\n// type=8, cancel a request\nmessage Cancel {\n  required uint64 index = 1;\n  optional uint64 bytes = 2;\n  optional bool hash = 3;\n}\n\n// type=9, get some data\nmessage Data {\n  message Node {\n    required uint64 index = 1;\n    required bytes hash = 2;\n    required uint64 size = 3;\n  }\n\n  required uint64 index = 1;\n  optional bytes value = 2;\n  repeated Node nodes = 3;\n  optional bytes signature = 4;\n}\n\n// type=15 (last massage) is an extension message\n// that is encoded like this <varint user-type><payload>\n");

},{"81":81,"90":90}],52:[function(require,module,exports){
(function (Buffer){
function Feed(e,t,r){if(!(this instanceof Feed))return new Feed(e,t,r);if(events.EventEmitter.call(this),"string"==typeof e&&(e=defaultStorage(e)),"function"!=typeof e)throw new Error("Storage should be a function or string");"string"==typeof t&&(t=new Buffer(t,"hex")),Buffer.isBuffer(t)||r||(r=t,t=null),r||(r={});var n=this,i=r.secretKey||null;"string"==typeof i&&(i=new Buffer(i,"hex")),this.id=r.id||crypto.randomBytes(32),this.live=!1!==r.live,this.sparse=!!r.sparse,this.length=0,this.byteLength=0,this.maxRequests=r.maxRequests||16,this.key=t||null,this.discoveryKey=this.key&&crypto.discoveryKey(this.key),this.secretKey=i,this.bitfield=null,this.tree=null,this.writable=!!r.writable,this.readable=!0,this.opened=!1,this.allowPush=!!r.allowPush,this.peers=[],this._ready=thunky(function(e){n._open(e)}),this._indexing=!!r.indexing,this._createIfMissing=!1!==r.createIfMissing,this._overwrite=!!r.overwrite,this._storeSecretKey=!1!==r.storeSecretKey,this._merkle=null,this._storage=storage(e,r.storageCacheSize),this._batch=batcher(function(e,t){n._append(e,t)}),this._waiting=[],this._selections=[],this._reserved=sparseBitfield(),this._synced=null,this._codec=toCodec(r.valueEncoding),this._sync=low(function(e,t){n._syncBitfield(t)}),this.sparse||this.download({start:0,end:-1}),this._ready(function(e){e&&n.emit("error",e)})}function noop(){}function verifyNode(e,t){return e&&e.index===t.index&&equals(e.hash,t.hash)}function addSize(e,t){return e+t.size}function isBlock(e){return 0==(1&e)}function defaultStorage(e){return function(t){return raf(t,{directory:e})}}function toCodec(e){return codecs("json"===e?"ndjson":e)}function wrapCodec(e,t){return function(r,n){if(r)return t(r);t(null,e.decode(n))}}function timeoutCallback(e,t){var r=!1,n=setTimeout(function(){r=!0;var t=new Error("ETIMEDOUT");t.code="ETIMEDOUT",e(t)},t);return function(t,i){r||(clearTimeout(n),e(t,i))}}function safeBufferEquals(e,t){return e?t?equals(e,t):!e:!t}var equals=require(21),low=require(62),remove=require(133),set=require(134),merkle=require(65),flat=require(43),bulk=require(24),from=require(44),codecs=require(27),thunky=require(131),batcher=require(8),inherits=require(59),events=require(42),raf=require(92),bitfield=require(53),sparseBitfield=require(128),treeIndex=require(57),storage=require(56),crypto=require(54),nextTick=require(82),replicate=null;module.exports=Feed,inherits(Feed,events.EventEmitter),Feed.discoveryKey=crypto.discoveryKey,Object.defineProperty(Feed.prototype,"remoteLength",{enumerable:!0,get:function(){for(var e=0,t=0;t<this.peers.length;t++){var r=this.peers[t].remoteLength;r>e&&(e=r)}return e}}),Feed.prototype.replicate=function(e){return replicate||(replicate=require(55)),this._selections.length&&-1===this._selections[0].end||this.sparse||e&&e.live||this.download({start:0,end:-1}),replicate(this,e||{})},Feed.prototype.ready=function(e){this._ready(function(t){t||e()})},Feed.prototype.update=function(e,t){if("function"==typeof e)return this.update(-1,e);"number"!=typeof e&&(e=-1),t||(t=noop);var r=this;this.ready(function(n){return n?t(n):(-1===e&&(e=r.length+1),r.length>=e?t(null):(r.writable&&(t=r._writeStateReloader(t)),r._waiting.push({hash:!0,bytes:0,index:e-1,update:!0,callback:t}),void r._updatePeers()))})},Feed.prototype._writeStateReloader=function(e){var t=this;return function(r){if(r)return e(r);t._roots(t.length,function(r,n){if(r)return e(r);t._merkle=merkle(crypto,n),e(null)})}},Feed.prototype._open=function(e){function t(t,i){function o(t,o){function s(t){if(t&&(c=t),!--h)return c?e(c):void r._roots(r.length,l)}function l(t,n){if(t)return e(t);r._merkle=merkle(crypto,n),r.byteLength=n.reduce(addSize,0),r.opened=!0,r.emit("ready"),e(null)}if(r.length&&(r.live=!!o),(n||!r.key)&&!r._createIfMissing)return e(new Error("No hypercore is stored here"));if(!r.key&&r.live){var a=crypto.keyPair();r.secretKey=a.secretKey,r.key=a.publicKey}var u=!!r.secretKey||null===r.key;if(!u&&r.writable)return e(new Error("Feed is not writable"));r.writable=u,r.discoveryKey=r.key&&crypto.discoveryKey(r.key),r._storeSecretKey&&!r.secretKey&&(r._storeSecretKey=!1);var d=n||!safeBufferEquals(r.key,i.key),f=r._storeSecretKey&&(n||!safeBufferEquals(r.secretKey,i.secretKey)),h=1+(d?1:0)+(f?1:0)+(r._overwrite?1:0),c=null;d&&r._storage.key.write(0,r.key,s),f&&r._storage.secretKey.write(0,r.secretKey,s),r._overwrite&&r._storage.putBitfield(0,i.bitfield,s),s(null)}if(t)return e(t);if(!i.key&&i.bitfield.length&&(r._overwrite=!0),r._overwrite&&(i.bitfield.fill(0),i.key=i.secretKey=null),r.bitfield=bitfield(i.bitfield),r.tree=treeIndex(r.bitfield.tree),r.length=r.tree.blocks(),i.key&&r.key&&!equals(i.key,r.key))return e(new Error("Another hypercore is stored here"));if(i.key&&(r.key=i.key),i.secretKey&&(r.secretKey=i.secretKey),r.key&&r.secretKey){var s=new Buffer("");if(!crypto.verify(s,crypto.sign(s,r.secretKey),r.key))return e(new Error("Key and secret do not match"))}if(!r.length)return o(0,null);r._storage.getSignature(r.length-1,o)}var r=this,n=!1;this._storage.openKey(function(e,i){if(!i||r._overwrite||r.key||(r.key=i),!r.key&&r.live){var o=crypto.keyPair();r.secretKey=o.secretKey,r.key=o.publicKey,n=!0}r.discoveryKey=r.key&&crypto.discoveryKey(r.key),r._storage.open({key:r.key,discoveryKey:r.discoveryKey},t)})},Feed.prototype.download=function(e,t){if("function"==typeof e)return this.download(null,e);"number"==typeof e&&(e={start:e,end:e+1}),e||(e={});var r={_index:this._selections.length,hash:!!e.hash,iterator:null,start:e.start||0,end:e.end||-1,linear:!!e.linear,callback:t||noop};return this._selections.push(r),this._updatePeers(),r},Feed.prototype.undownload=function(e){if("number"==typeof e&&(e={start:e,end:e+1}),e||(e={}),e.callback&&e._index>-1)return set.remove(this._selections,e),void nextTick(e.callback,new Error("Download was cancelled"));for(var t=e.start||0,r=e.end||-1,n=!!e.hash,i=!!e.linear,o=0;o<this._selections.length;o++){var s=this._selections[o];if(s.start===t&&s.end===r&&s.hash===n&&s.linear===i)return set.remove(this._selections,s),void nextTick(s.callback,new Error("Download was cancelled"))}},Feed.prototype.digest=function(e){return this.tree.digest(2*e)},Feed.prototype.proof=function(e,t,r){function n(e,t){if(e&&(l=e),t&&(u[i.nodes.indexOf(t.index)]=t),!--s)return l?r(l):void r(null,{nodes:u,signature:a})}if("function"==typeof t)return this.proof(e,null,t);if(!this.opened)return this._readyAndProof(e,t,r);t||(t={});var i=this.tree.proof(2*e,t);if(!i)return r(new Error("No proof available for this index"));var o=this.live&&!!i.verifiedBy,s=i.nodes.length+(o?1:0),l=null,a=null,u=new Array(i.nodes.length);if(!s)return r(null,{nodes:u,signature:null});for(var d=0;d<i.nodes.length;d++)this._storage.getNode(i.nodes[d],n);o&&this._storage.getSignature(i.verifiedBy/2-1,function(e,t){t&&(a=t),n(e,null)})},Feed.prototype._readyAndProof=function(e,t,r){var n=this;this._ready(function(i){if(i)return r(i);n.proof(e,t,r)})},Feed.prototype.put=function(e,t,r,n){if(!this.opened)return this._readyAndPut(e,t,r,n);this._putBuffer(e,this._codec.encode(t),r,null,n)},Feed.prototype.cancel=function(e,t){t||(t=e+1);for(var r=this._selections.length-1;r>=0;r--){var n=this._selections[r];e<=n.start&&n.end<=t&&this.undownload(n)}this.opened?this._cancel(e,t):this._readyAndCancel(e,t)},Feed.prototype._cancel=function(e,t){var r=0;for(r=e;r<t;r++)this._reserved.set(r,!1);for(r=this._waiting.length-1;r>=0;r--){var n=this._waiting[r];(e<=n.start&&n.end<=t||e<=n.index&&n.index<t)&&(remove(this._waiting,r),n.callback&&nextTick(n.callback,new Error("Request cancelled")))}},Feed.prototype.clear=function(e,t,r,n){if("function"==typeof t)return this.clear(e,e+1,null,t);if("function"==typeof r)return this.clear(e,t,null,r);r||(r={}),t||(t=e+1),n||(n=noop);var i=this,o=0===e?0:"number"==typeof r.byteOffset?r.byteOffset:-1,s="number"==typeof r.byteLength?r.byteLength:-1;this._ready(function(l){function a(){i.emit("clear",e,t),i._sync(null,n)}function u(e,r){return e?n(e):(o=r,s>-1?d(null,s+o):t===i.length?d(null,i.byteLength):void i._storage.dataOffset(t,[],d))}function d(e,t){return e?n(e):i._storage.data.del?void i._storage.data.del(o,t-o,a):a()}if(l)return n(l);for(var f=!1,h=e;h<t;h++)i.bitfield.set(h,!1)&&(f=!0);return f?(i._unannounce({start:e,length:t-e}),!1===r.delete||i._indexing?a():o>-1?u(null,o):void i._storage.dataOffset(e,[],u)):nextTick(n)})},Feed.prototype.signature=function(e,t){return"function"==typeof e?this.signature(this.length-1,e):e<0||e>=this.length?t(new Error("No signature available for this index")):void this._storage.nextSignature(e,t)},Feed.prototype.verify=function(e,t,r){var n=this;this._getRootsToVerify(2*e+2,{},[],function(e,i){if(e)return r(e);var o=crypto.tree(i);crypto.verify(o,t,n.key)?r(null,!0):r(new Error("Signature verification failed"))})},Feed.prototype.seek=function(e,t,r){if("function"==typeof t)return this.seek(e,null,t);if(t||(t={}),!this.opened)return this._readyAndSeek(e,t,r);var n=this;this._seek(e,function(i,o,s){if(!i&&isBlock(o))return function(t,i){for(var o=0;o<n.peers.length;o++)n.peers[o].haveBytes(e);r(null,t,i)}(o/2,s);if(!1===t.wait)return r(i||new Error("Unable to seek to this offset"));var l=t.start||0,a=t.end||-1;if(!i){var u=flat.leftSpan(o)/2,d=flat.rightSpan(o)/2+1;u>l&&(l=u),(d<a||-1===a)&&(a=d)}if(a>-1&&a<=l)return r(new Error("Unable to seek to this offset"));n._waiting.push({hash:!1!==t.hash,bytes:e,index:-1,start:l,end:a,callback:r||noop}),n._updatePeers()})},Feed.prototype._seek=function(e,t){function r(r){if(isBlock(r))return t(null,r,e);for(var o=flat.leftChild(r);!i.tree.get(o);){if(isBlock(o))return t(null,s,e);o=flat.leftChild(o)}i._storage.getNode(o,n)}function n(n,i){if(n)return t(n);i.size>e?(s=i.index,r(i.index)):(e-=i.size,r(flat.sibling(i.index)))}if(0===e)return t(null,0,0);var i=this,o=flat.fullRoots(2*this.length),s=0;!function n(l,a){if(l)return t(l);if(a){if(a.size>e)return s=a.index,r(a.index);e-=a.size}if(!o.length)return t(new Error("Out of bounds"));i._storage.getNode(o.shift(),n)}(null,null)},Feed.prototype._readyAndSeek=function(e,t,r){var n=this;this._ready(function(i){if(i)return r(i);n.seek(e,t,r)})},Feed.prototype._getBuffer=function(e,t){this._storage.getData(e,t)},Feed.prototype._putBuffer=function(e,t,r,n,i){function o(e,t){e&&(c=e),t&&(p[u.indexOf(t.index)]=t),--g||s(c)}function s(o){if(o)return i(o);l._verifyAndWrite(e,t,r,p,y,n,i)}for(var l=this,a=-1,u=[],d=2*e,f=t?0:1;;){if(this.tree.get(d)){a=d;break}var h=flat.sibling(d);if(d=flat.parent(d),f<r.nodes.length&&r.nodes[f].index===h)f++;else{if(!this.tree.get(h))break;u.push(h)}}-1===a&&this.tree.get(d)&&(a=d);var c=null,y=null,p=new Array(u.length),g=u.length+(a>-1?1:0);for(f=0;f<u.length;f++)this._storage.getNode(u[f],o);a>-1&&this._storage.getNode(a,function(e,t){e&&(c=e),t&&(y=t),--g||s(c)}),u.length||-1!==a||s(null)},Feed.prototype._readyAndPut=function(e,t,r,n){var i=this;this._ready(function(o){if(o)return n(o);i.put(e,t,r,n)})},Feed.prototype._write=function(e,t,r,n,i,o){function s(n){if(n&&(u=n),!--a)return u?o(u):void l._writeDone(e,t,r,i,o)}for(var l=this,a=r.length+1+(n?1:0),u=null,d=0;d<r.length;d++)this._storage.putNode(r[d].index,r[d],s);t?this._storage.putData(e,t,r,s):s(),n&&this._storage.putSignature(n.index,n.signature,s)},Feed.prototype._writeDone=function(e,t,r,n,i){for(var o=0;o<r.length;o++)this.tree.set(r[o].index);this.tree.set(2*e),t&&(this.bitfield.set(e,!0)&&this.emit("download",e,t,n),this.peers.length&&this._announce({start:e},n),this.writable||(this._synced||(this._synced=this.bitfield.iterator(0,this.length)),-1===this._synced.next()&&(this._synced.range(0,this.length),this._synced.seek(0),-1===this._synced.next()&&this.emit("sync")))),this._sync(null,i)},Feed.prototype._verifyAndWrite=function(e,t,r,n,i,o,s){var l=[],a=r.nodes,u=t?new storage.Node(2*e,crypto.data(t),t.length):a.shift();if(verifyNode(i,u))this._write(e,t,l,null,o,s);else for(;;){var d=null,f=flat.sibling(u.index);if(a.length&&a[0].index===f)d=a.shift(),l.push(d);else{if(!n.length||n[0].index!==f)return void this._verifyRootsAndWrite(e,t,u,r,l,o,s);d=n.shift()}if(l.push(u),verifyNode(i,u=new storage.Node(flat.parent(u.index),crypto.parent(u,d),u.size+d.size)))return void this._write(e,t,l,null,o,s)}},Feed.prototype._verifyRootsAndWrite=function(e,t,r,n,i,o,s){var l=n.nodes,a=l.length?l[l.length-1].index:r.index,u=Math.max(flat.rightSpan(r.index),flat.rightSpan(a))+2,d=this;this._getRootsToVerify(u,r,l,function(r,l,a){if(r)return s(r);var f=crypto.tree(l),h=null;if(d.length&&d.live&&!n.signature)return s(new Error("Remote did not include a signature"));if(n.signature){if(!crypto.verify(f,n.signature,d.key))return s(new Error("Remote signature could not be verified"));h={index:u/2-1,signature:n.signature}}else if(!equals(f,d.key))return s(new Error("Remote checksum failed"));d.live=!!h;var c=u/2;c>d.length&&(d.length=c,d.byteLength=l.reduce(addSize,0),d._synced&&d._synced.seek(0,d.length),d.emit("append")),d._write(e,t,i.concat(a),h,o,s)})},Feed.prototype._getRootsToVerify=function(e,t,r,n){function i(e,t){e&&(a=e),t&&(s[o.indexOf(t.index)]=t),--u||function(e){if(e)return n(e);n(null,s,l)}(a)}for(var o=flat.fullRoots(e),s=new Array(o.length),l=[],a=null,u=s.length,d=0;d<o.length;d++)o[d]===t.index?(l.push(t),i(null,t)):r.length&&o[d]===r[0].index?(l.push(r[0]),i(null,r.shift())):this.tree.get(o[d])?this._storage.getNode(o[d],i):i(new Error("Missing tree roots needed for verify"))},Feed.prototype._announce=function(e,t){for(var r=0;r<this.peers.length;r++){var n=this.peers[r];n!==t&&n.have(e)}},Feed.prototype._unannounce=function(e){for(var t=0;t<this.peers.length;t++)this.peers[t].unhave(e)},Feed.prototype.downloaded=function(e,t){return this.bitfield.total(e,t)},Feed.prototype.has=function(e,t){return void 0===t?this.bitfield.get(e):t-e===this.bitfield.total(e,t)},Feed.prototype.head=function(e,t){if("function"==typeof e)return this.head({},e);var r=this;this._ready(function(e){if(e)return t(e);0===r.length?t(new Error("feed is empty")):r.get(r.length-1,t)})},Feed.prototype.get=function(e,t,r){return"function"==typeof t?this.get(e,null,t):this.opened?(t&&t.timeout&&(r=timeoutCallback(r,t.timeout)),this.bitfield.get(e)?(t&&t.valueEncoding?r=wrapCodec(toCodec(t.valueEncoding),r):this._codec!==codecs.binary&&(r=wrapCodec(this._codec,r)),void this._getBuffer(e,r)):t&&!1===t.wait?r(new Error("Block not downloaded")):(this._waiting.push({bytes:0,hash:!1,index:e,options:t,callback:r}),void this._updatePeers())):this._readyAndGet(e,t,r)},Feed.prototype._readyAndGet=function(e,t,r){var n=this;this._ready(function(i){if(i)return r(i);n.get(e,t,r)})},Feed.prototype._updatePeers=function(){for(var e=0;e<this.peers.length;e++)this.peers[e].update()},Feed.prototype.createWriteStream=function(){var e=this;return bulk.obj(function(t,r){e._batch(t,r)})},Feed.prototype.createReadStream=function(e){function t(r,u){return n.opened?(a&&(-1===o&&(s?o=1/0:l&&(o=n.length)),e.tail&&(i=n.length),a=!1),i===o||-1===o&&i===n.length?u(null,null):void n.get(i++,e,u)):(d=r,f=u,void n._ready(function(e){if(e)return f(e);t(d,f)}));var d,f}function r(){u&&(n.undownload(u),u=null)}e||(e={});var n=this,i=e.start||0,o="number"==typeof e.end?e.end:-1,s=!!e.live,l=!1!==e.snapshot,a=!0,u=this.download({start:i,end:o,linear:!0});return from.obj(t).on("end",r).on("close",r)},Feed.prototype.finalize=function(e){this.key||(this.key=crypto.tree(this._merkle.roots),this.discoveryKey=crypto.discoveryKey(this.key)),this._storage.key.write(0,this.key,e)},Feed.prototype.append=function(e,t){this._batch(Array.isArray(e)?e:[e],t||noop)},Feed.prototype.flush=function(e){this._batch([],e)},Feed.prototype.close=function(e){var t=this;this._ready(function(){t.writable=!1,t.readable=!1,t._storage.close(e)})},Feed.prototype._append=function(e,t){function r(r){if(r&&(s=r),!--i){if(s)return t(s);var l=n.length;n.byteLength+=o;for(var a=0;a<e.length;a++)n.bitfield.set(n.length,!0),n.tree.set(2*n.length++);n.emit("append"),n.peers.length&&n._announce(n.length-l>1?{start:l,length:n.length-l}:{start:l}),n._sync(null,t)}}if(!this.opened)return this._readyAndAppend(e,t);if(!this.writable)return t(new Error("This feed is not writable. Did you create it?"));var n=this,i=this.live&&e.length?1+e.length:e.length,o=0,s=null;if(!i)return t();for(var l=0;l<e.length;l++){var a=this._codec.encode(e[l]),u=this._merkle.next(a);if(this._indexing?r(null):this._storage.data.write(this.byteLength+o,a,r),this.live&&l===e.length-1){var d=crypto.sign(crypto.tree(this._merkle.roots),this.secretKey);this._storage.putSignature(this.length+l,d,r)}i+=u.length,o+=a.length;for(var f=0;f<u.length;f++){var h=u[f];this._storage.putNode(h.index,h,r)}}},Feed.prototype._readyAndAppend=function(e,t){var r=this;this._ready(function(n){if(n)return t(n);r._append(e,t)})},Feed.prototype._readyAndCancel=function(e,t){var r=this;this.ready(function(){r._cancel(e,t)})},Feed.prototype._pollWaiting=function(){for(var e=this._waiting.length,t=0;t<e;t++){var r=this._waiting[t];(r.bytes||this.bitfield.get(r.index))&&(remove(this._waiting,t--),e--,r.bytes?this.seek(r.bytes,r,r.callback):r.update?this.update(r.index+1,r.callback):this.get(r.index,r.options,r.callback))}},Feed.prototype._syncBitfield=function(e){function t(t){t&&(i=t),--r||e(i)}var r=this.bitfield.pages.updates.length,n=null,i=null;if(!r)return this._pollWaiting(),e(null);for(;null!==(n=this.bitfield.pages.lastUpdate());)this._storage.putBitfield(n.offset,n.buffer,t);this._pollWaiting()},Feed.prototype._roots=function(e,t){function r(e,r){if(e&&(s=e),r&&(i[n.indexOf(r.index)]=r),!--o)return s?t(s):void t(null,i)}var n=flat.fullRoots(2*e),i=new Array(n.length),o=n.length,s=null;if(!o)return t(null,i);for(var l=0;l<n.length;l++)this._storage.getNode(n[l],r)};

}).call(this,require(22).Buffer)
},{"128":128,"131":131,"133":133,"134":134,"21":21,"22":22,"24":24,"27":27,"42":42,"43":43,"44":44,"53":53,"54":54,"55":55,"56":56,"57":57,"59":59,"62":62,"65":65,"8":8,"82":82,"92":92}],53:[function(require,module,exports){
function Bitfield(t){if(!(this instanceof Bitfield))return new Bitfield(t);if(this.pages=pager(3328),t)for(var e=0;e<t.length;e+=3328)this.pages.set(e/3328,t.slice(e,e+3328));this.data=bitfield({pageSize:1024,pageOffset:0,pages:this.pages,trackUpdates:!0}),this.tree=bitfield({pageSize:2048,pageOffset:1024,pages:this.pages,trackUpdates:!0}),this.index=bitfield({pageSize:256,pageOffset:3072,pages:this.pages,trackUpdates:!0}),this.length=this.data.length,this._iterator=flat.iterator(0)}function setByteNoAlloc(t,e,i){return!(8*e>=t.length)&&t.setByte(e,i)}function Iterator(t){this.start=0,this.end=0,this._indexEnd=0,this._pos=0,this._byte=0,this._bitfield=t}function rightSpan(t){return t.index+t.factor/2-1}function isParent(t){return 1&t.index}function getIndexValue(t){switch(t){case 255:return 192;case 0:return 0;default:return 64}}for(var flat=require(43),rle=require(11),pager=require(64),bitfield=require(128),INDEX_UPDATE_MASK=[63,207,243,252],INDEX_ITERATE_MASK=[0,192,240,252],DATA_ITERATE_MASK=[128,192,224,240,248,252,254,255],DATA_UPDATE_MASK=[127,191,223,239,247,251,253,254],MAP_PARENT_RIGHT=new Array(256),MAP_PARENT_LEFT=new Array(256),NEXT_DATA_0_BIT=new Array(256),NEXT_INDEX_0_BIT=new Array(256),TOTAL_1_BITS=new Array(256),i=0;i<256;i++){var a=(240&i)>>4,b=15&i,nibble=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];MAP_PARENT_RIGHT[i]=(15===a?3:0===a?0:1)<<2|(15===b?3:0===b?0:1),MAP_PARENT_LEFT[i]=MAP_PARENT_RIGHT[i]<<4,NEXT_DATA_0_BIT[i]=255===i?-1:8-Math.ceil(Math.log(256-i)/Math.log(2)),NEXT_INDEX_0_BIT[i]=255===i?-1:Math.floor(NEXT_DATA_0_BIT[i]/2),TOTAL_1_BITS[i]=nibble[i>>4]+nibble[15&i]}module.exports=Bitfield,Bitfield.prototype.set=function(t,e){var i=7&t;t=(t-i)/8;var r=e?this.data.getByte(t)|128>>i:this.data.getByte(t)&DATA_UPDATE_MASK[i];return!!this.data.setByte(t,r)&&(this.length=this.data.length,this._setIndex(t,r),!0)},Bitfield.prototype.get=function(t){return this.data.get(t)},Bitfield.prototype.total=function(t,e){if((!t||t<0)&&(t=0),e||(e=this.data.length),e<t)return 0;e>this.data.length&&this._expand(e);var i=7&t,r=7&e,s=(t-i)/8,n=(e-r)/8,a=255-(i?DATA_ITERATE_MASK[i-1]:0),_=r?DATA_ITERATE_MASK[r-1]:0,h=this.data.getByte(s);if(s===n)return TOTAL_1_BITS[h&a&_];for(var o=TOTAL_1_BITS[h&a],T=s+1;T<n;T++)o+=TOTAL_1_BITS[this.data.getByte(T)];return o+=TOTAL_1_BITS[this.data.getByte(n)&_]},Bitfield.prototype.compress=function(){return rle.encode(this.data.toBuffer())},Bitfield.prototype._setIndex=function(t,e){var i=3&t,r=this.index,s=this._iterator,n=2*(t=(t-i)/4),a=r.getByte(n)&INDEX_UPDATE_MASK[i]|getIndexValue(e)>>2*i,_=r.length,h=256*this.pages.length;for(s.seek(n);s.index<h&&r.setByte(s.index,a);)a=s.isLeft()?MAP_PARENT_LEFT[a]|MAP_PARENT_RIGHT[r.getByte(s.sibling())]:MAP_PARENT_RIGHT[a]|MAP_PARENT_LEFT[r.getByte(s.sibling())],s.parent();return _!==r.length&&this._expand(_),s.index!==n},Bitfield.prototype._expand=function(t){for(var e=flat.fullRoots(2*t),i=this.index,r=this._iterator,s=0,n=0;n<e.length;n++){r.seek(e[n]),s=i.getByte(r.index);do{s=r.isLeft()?MAP_PARENT_LEFT[s]|MAP_PARENT_RIGHT[i.getByte(r.sibling())]:MAP_PARENT_RIGHT[s]|MAP_PARENT_LEFT[i.getByte(r.sibling())]}while(setByteNoAlloc(i,r.parent(),s))}},Bitfield.prototype.iterator=function(t,e){var i=new Iterator(this);return i.range(t||0,e||this.length),i.seek(0),i},Iterator.prototype.range=function(t,e){return this.start=t,this.end=e,this._indexEnd=2*Math.ceil(e/32),this.end>this._bitfield.length&&this._bitfield._expand(this.end),this},Iterator.prototype.seek=function(t){if((t+=this.start)<this.start&&(t=this.start),t>=this.end)return this._pos=-1,this;var e=7&t;return this._pos=(t-e)/8,this._byte=this._bitfield.data.getByte(this._pos)|(e?DATA_ITERATE_MASK[e-1]:0),this},Iterator.prototype.random=function(){var t=this.seek(Math.floor(Math.random()*(this.end-this.start))).next();return-1===t?this.seek(0).next():t},Iterator.prototype.next=function(){if(-1===this._pos)return-1;for(var t=this._bitfield.data,e=NEXT_DATA_0_BIT[this._byte];-1===e;)if(this._byte=t.getByte(++this._pos),-1===(e=NEXT_DATA_0_BIT[this._byte])){if(this._pos=this._skipAhead(this._pos),-1===this._pos)return-1;this._byte=t.getByte(this._pos),e=NEXT_DATA_0_BIT[this._byte]}this._byte|=DATA_ITERATE_MASK[e];var i=8*this._pos+e;return i<this.end?i:-1},Iterator.prototype.peek=function(){if(-1===this._pos)return-1;var t=8*this._pos+NEXT_DATA_0_BIT[this._byte];return t<this.end?t:-1},Iterator.prototype._skipAhead=function(t){var e=this._bitfield.index,i=this._indexEnd,r=this._bitfield._iterator,s=3&t;r.seek((t-s)/4*2);for(var n=e.getByte(r.index)|INDEX_ITERATE_MASK[s];-1===NEXT_INDEX_0_BIT[n];){if(r.isLeft()?r.next():(r.next(),r.parent()),rightSpan(r)>=i){for(;rightSpan(r)>=i&&isParent(r);)r.leftChild();if(rightSpan(r)>=i)return-1}n=e.getByte(r.index)}for(;r.factor>2;)NEXT_INDEX_0_BIT[n]<2?r.leftChild():r.rightChild(),n=e.getByte(r.index);var a=NEXT_INDEX_0_BIT[n];-1===a&&(a=4);var _=2*r.index+a;return _<=t?t+1:_};

},{"11":11,"128":128,"43":43,"64":64}],54:[function(require,module,exports){
(function (Buffer){
function encodeUInt64(e){return uint64be.encode(e,new Buffer(8))}function blake2b(e){var r=new Buffer(32);return sodium.crypto_generichash_batch(r,e),r}var sodium=require(126),uint64be=require(132),LEAF_TYPE=new Buffer([0]),PARENT_TYPE=new Buffer([1]),ROOT_TYPE=new Buffer([2]),HYPERCORE=new Buffer("hypercore");exports.keyPair=function(e){var r=new Buffer(sodium.crypto_sign_PUBLICKEYBYTES),n=new Buffer(sodium.crypto_sign_SECRETKEYBYTES);return e?sodium.crypto_sign_seed_keypair(r,n,e):sodium.crypto_sign_keypair(r,n),{publicKey:r,secretKey:n}},exports.sign=function(e,r){var n=new Buffer(sodium.crypto_sign_BYTES);return sodium.crypto_sign_detached(n,e,r),n},exports.verify=function(e,r,n){return sodium.crypto_sign_verify_detached(r,e,n)},exports.data=function(e){return blake2b([LEAF_TYPE,encodeUInt64(e.length),e])},exports.leaf=function(e){return exports.data(e.data)},exports.parent=function(e,r){if(e.index>r.index){var n=e;e=r,r=n}return blake2b([PARENT_TYPE,encodeUInt64(e.size+r.size),e.hash,r.hash])},exports.tree=function(e){var r=new Array(3*e.length+1),n=0;r[n++]=ROOT_TYPE;for(var t=0;t<e.length;t++){var i=e[t];r[n++]=i.hash,r[n++]=encodeUInt64(i.index),r[n++]=encodeUInt64(i.size)}return blake2b(r)},exports.randomBytes=function(e){var r=new Buffer(e);return sodium.randombytes_buf(r),r},exports.discoveryKey=function(e){var r=new Buffer(32);return sodium.crypto_generichash(r,HYPERCORE,e),r};

}).call(this,require(22).Buffer)
},{"126":126,"132":132,"22":22}],55:[function(require,module,exports){
function replicate(e,t){var i=t.stream;return i||(t.expectedFeeds||(t.expectedFeeds=1),t.id||(t.id=e.id),i=protocol(t)),e.ready(function(s){if(s)return i.destroy(s);if(!i.destroyed){var r=new Peer(e,t);r.feed=e,r.stream=i.feed(e.key,{peer:r}),r.remoteId=i.remoteId,i.on("handshake",function(){r.remoteId=i.remoteId}),i.destroyed||r.ready()}}),i}function Peer(e,t){this.feed=e,this.stream=null,this.remoteId=null,this.remoteBitfield=null,this.remoteLength=0,this.remoteWant=!1,this.live=!!t.live,this.sparse=e.sparse,this.remoteDownloading=!0,this.downloading="boolean"==typeof t.download?t.download:!e.writable,this.uploading=!0,this.maxRequests=t.maxRequests||e.maxRequests||16,this.inflightRequests=[],this._index=-1,this._lastBytes=0,this._first=!0,this._closed=!1}var protocol=require(50),bitfield=require(128),set=require(134),rle=require(11);module.exports=replicate,Peer.prototype.onwant=function(){this.remoteWant=!0;var e=this.feed.bitfield.compress();this.stream.have({start:0,bitfield:e})},Peer.prototype.ondata=function(e){var t=this;if(!(this.feed.allowPush||!e.value)&&!this.feed._reserved.get(e.index))return t.feed.bitfield.get(e.index)||t.unhave({start:e.index}),void t._clear(e.index,!e.value);this.feed._putBuffer(e.index,e.value,e,this,function(i){if(i)return t.destroy(i);t._clear(e.index,!e.value)})},Peer.prototype._clear=function(e,t){for(var i=0;i<this.inflightRequests.length;i++)this.inflightRequests[i].index===e&&(this.inflightRequests.splice(i,1),i--);this.feed._reserved.set(e,!1),this.feed._updatePeers()},Peer.prototype.onrequest=function(e){if(e.bytes)return this._onbytes(e);var t=this;this.feed.proof(e.index,{digest:e.nodes,hash:e.hash},function(i,s){function r(i,r){if(i)return t.destroy(i);if(t.remoteBitfield||(t.remoteBitfield=bitfield()),r){if(!t.remoteBitfield.set(e.index,!0))return;t.feed.emit("upload",e.index,r,t)}else if(t.remoteBitfield.get(e.index))return;e.index+1>t.remoteLength&&(t.remoteLength=e.index+1,t._updateEnd()),t.stream.data({index:e.index,value:r,nodes:s.nodes,signature:s.signature})}if(i)return t.destroy(i);e.hash?r(null,null):t.feed.bitfield.get(e.index)&&t.feed._getBuffer(e.index,r)})},Peer.prototype._onbytes=function(e){var t=this;this.feed.seek(e.bytes,{wait:!1},function(i,s){if(i)return e.bytes=0,void t.onrequest(e);t._lastBytes!==e.bytes&&(t._lastBytes=e.bytes,e.bytes=0,e.index=s,e.nodes=0,t.onrequest(e))})},Peer.prototype.ontick=function(){if(this.inflightRequests.length){var e=this.inflightRequests[0];if(!--e.tick)return(e.hash?this.feed.tree.get(2*e.index):this.feed.bitfield.get(e.index))?(this.inflightRequests.shift(),void this.feed._reserved.set(e.index,!1)):void this.destroy(new Error("Request timeout"))}},Peer.prototype.onhave=function(e){var t=this._first;if(this._first&&(this._first=!1),e.bitfield){if(this.remoteBitfield=bitfield(rle.decode(e.bitfield)),this.remoteBitfield.length>this.remoteLength){for(this.remoteLength=this.remoteBitfield.length;this.remoteLength&&!this.remoteBitfield.get(this.remoteLength-1);)this.remoteLength--;t=!0}}else{this.remoteBitfield||(this.remoteBitfield=bitfield());for(var i=e.start,s=e.length||1;s--;)this.remoteBitfield.set(i++,!0);i>this.remoteLength&&(this.remoteLength=i,t=!0)}t&&this.feed.emit("remote-update",this),this._updateEnd(),this.update()},Peer.prototype._updateEnd=function(){if(!this.live&&!this.feed.sparse&&this.feed._selections.length){for(var e=this.feed._selections[0],t=-1,i=0;i<this.feed.peers.length;i++)this.feed.peers[i].remoteLength>t&&(t=this.feed.peers[i].remoteLength);e.end=t}},Peer.prototype.oninfo=function(e){this.remoteDownloading=e.downloading,e.downloading||this.live||(this.update(),this.feed._selections.length&&this.downloading||this.end())},Peer.prototype.onunhave=function(e){if(this.remoteBitfield)for(var t=e.start,i=e.length||1;i--;)this.remoteBitfield.set(t++,!1)},Peer.prototype.onunwant=Peer.prototype.oncancel=function(){},Peer.prototype.onclose=function(){this.destroy()},Peer.prototype.have=function(e){this.stream&&this.remoteWant&&this.stream.have(e)},Peer.prototype.unhave=function(e){this.stream&&this.remoteWant&&this.stream.unhave(e)},Peer.prototype.haveBytes=function(e){for(var t=0;t<this.inflightRequests.length;t++)this.inflightRequests[t].bytes===e&&(this.feed._reserved.set(this.inflightRequests[t].index,!1),this.inflightRequests.splice(t,1),t--);this.update()},Peer.prototype.update=function(){for(;this._update(););},Peer.prototype._update=function(){if(!this.downloading||!this.remoteBitfield)return!1;for(var e=this.feed._selections,t=this.feed._waiting,i=t.length,s=e.length,r=this.inflightRequests.length,n=0,o=0;r<this.maxRequests;){for(n=Math.floor(Math.random()*t.length),o=0;o<t.length;o++){var h=t[n++];if(n===t.length&&(n=0),this._downloadWaiting(h),t.length!==i)return!0;if(this.inflightRequests.length>=this.maxRequests)return!1}if(r===this.inflightRequests.length)break;r=this.inflightRequests.length}for(;r<this.maxRequests;){for(n=Math.floor(Math.random()*e.length),o=0;o<e.length;o++){var d=e[n++];if(n===e.length&&(n=0),d.iterator||(d.iterator=this.feed.bitfield.iterator(d.start,d.end)),this._downloadRange(d),e.length!==s)return!0;if(this.inflightRequests.length>=this.maxRequests)return!1}if(r===this.inflightRequests.length)return!1;r=this.inflightRequests.length}return!1},Peer.prototype.ready=function(){set.add(this.feed.peers,this),this.stream.want({start:0}),this.feed.emit("peer-add",this)},Peer.prototype.end=function(){this.downloading||this.remoteDownloading||this.live||this.stream.close(),this._closed?this.live||this.stream.close():(this._closed=!0,this.downloading=!1,this.stream.info({downloading:!1,uploading:!0}))},Peer.prototype.destroy=function(e){if(-1!==this._index){set.remove(this.feed.peers,this);for(var t=0;t<this.inflightRequests.length;t++)this.feed._reserved.set(this.inflightRequests[t].index,!1);this._updateEnd(),this._index=-1,this.remoteWant=!1,this.stream.destroy(e),this.feed._updatePeers(),this.feed.emit("peer-remove",this)}},Peer.prototype._downloadWaiting=function(e){if(e.bytes)this._downloadRange(e);else{if(!this.remoteBitfield.get(e.index)||!this.feed._reserved.set(e.index,!0))return;this._request(e.index,0,!1)}},Peer.prototype._downloadRange=function(e){e.iterator||(e.iterator=this.feed.bitfield.iterator(e.start,e.end));var t=this.feed._reserved,i=e.iterator,s=Math.min(-1===e.end?this.remoteLength:e.end,this.remoteLength);i.end!==s&&i.range(e.start,s);var r=e.linear?i.next():i.random(),n=!1,o=r;if(-1!==r){for(;!this.remoteBitfield.get(r)||e.hash&&this.feed.tree.get(2*r)||!t.set(r,!0);)if(n=!0,!((r=i.next())>-1)){if(e.linear||0===o){if(e.hash){for(var h=e.start;h<s;h++)if(!this.feed.tree.get(2*h))return;e.bytes||(set.remove(this.feed._selections,e),e.callback(null))}return}r=i.seek(0).next(),o=0}n&&i.seek(0),this._request(r,e.bytes||0,e.hash)}else!e.bytes&&-1===i.seek(0).next()&&e.end>-1&&this.remoteLength>=e.end&&(set.remove(this.feed._selections,e),e.callback(null),this.live||this.sparse||this.feed._selections.length||this.end())},Peer.prototype._request=function(e,t,i){var s={tick:6,bytes:t,index:e,hash:i,nodes:this.feed.digest(e)};this.inflightRequests.push(s),this.stream.request(s)};

},{"11":11,"128":128,"134":134,"50":50}],56:[function(require,module,exports){
(function (Buffer){
function Storage(t,e){if(!(this instanceof Storage))return new Storage(t,e);this.cache=(e=void 0===e?65536:e)>0?alru(e,{indexedValues:!0}):null,this.key=null,this.secretKey=null,this.tree=null,this.data=null,this.bitfield=null,this.signatures=null,this.create=t}function noop(){}function header(t,e,n){var i=new Buffer(32);return i.fill(0),i[0]=5,i[1]=2,i[2]=87,i[3]=t,i[4]=0,i.writeUInt16BE(e,5),n&&(i[7]=n.length,i.write(n,8)),i}function Node(t,e,n){this.index=t,this.hash=e,this.size=n}function findNode(t,e){for(var n=0;n<t.length;n++)if(t[n].index===e)return t[n];return null}function isBlank(t){for(var e=0;e<t.length;e++)if(t[e])return!1;return!0}function close(t,e){t.close?t.close(e):e()}function readAll(t,e,n,i){if("number"==typeof t.length&&t.length>-1)return t.read(e,t.length-e,i);var r=[];t.read(e,n,function o(u,a){if(u)return i(null,Buffer.concat(r));r.push(a),t.read(e+r.length*n,n,o)})}var uint64be=require(132),flat=require(43),alru=require(7);module.exports=Storage;var noarr=[],blank=new Buffer(64);blank.fill(0),Storage.prototype.putData=function(t,e,n,i){i||(i=noop);var r=this;if(!e.length)return i(null);this.dataOffset(t,n,function(t,n,o){return t?i(t):o!==e.length?i(new Error("Unexpected data size")):void r.data.write(n,e,i)})},Storage.prototype.getData=function(t,e){var n=this;this.dataOffset(t,noarr,function(t,i,r){if(t)return e(t);n.data.read(i,r,e)})},Storage.prototype.nextSignature=function(t,e){var n=this;this._getSignature(t,function(i,r){return i?e(i):isBlank(r)?n.nextSignature(t+1,e):void e(null,{index:t,signature:r})})},Storage.prototype.getSignature=function(t,e){this._getSignature(t,function(t,n){return t?e(t):isBlank(n)?e(new Error("No signature found")):void e(null,n)})},Storage.prototype._getSignature=function(t,e){this.signatures.read(32+64*t,64,e)},Storage.prototype.putSignature=function(t,e,n){this.signatures.write(32+64*t,e,n)},Storage.prototype.dataOffset=function(t,e,n){function i(t,e){if(t)return n(t);n(null,a,e.size)}function r(t,r){if(t&&(l=t),r&&(a+=r.size),!--s){if(l)return n(l);var o=findNode(e,f);o?i(null,o):u.getNode(f,i)}}var o=flat.fullRoots(2*t),u=this,a=0,s=o.length,l=null,f=2*t;if(!s)return s=1,void r(null,null);for(var h=0;h<o.length;h++){var c=findNode(e,o[h]);c?r(null,c):this.getNode(o[h],r)}},Storage.prototype.getNode=function(t,e){if(this.cache){var n=this.cache.get(t);if(n)return e(null,n)}var i=this;this.tree.read(32+40*t,40,function(n,r){if(n)return e(n);var o=r.slice(0,32),u=uint64be.decode(r,32);if(!u&&isBlank(o))return e(new Error("No node found"));var a=new Node(t,o,u,null);i.cache&&i.cache.set(t,a),e(null,a)})},Storage.prototype.putNode=function(t,e,n){n||(n=noop);var i=new Buffer(40);e.hash.copy(i,0),uint64be.encode(e.size,i,32),this.tree.write(32+40*t,i,n)},Storage.prototype.putBitfield=function(t,e,n){this.bitfield.write(32+t,e,n)},Storage.prototype.close=function(t){function e(e){e&&(i=e),--n||t(i)}t||(t=noop);var n=6,i=null;close(this.bitfield,e),close(this.tree,e),close(this.data,e),close(this.key,e),close(this.secretKey,e),close(this.signatures,e)},Storage.prototype.openKey=function(t,e){if("function"==typeof t)return this.openKey({},t);this.key||(this.key=this.create("key",t)),this.key.read(0,32,e)},Storage.prototype.open=function(t,e){function n(t){t&&(r=t),--o||(r?e(r):e(null,u))}if("function"==typeof t)return this.open({},t);var i=this,r=null,o=5;this.key||(this.key=this.create("key",t)),this.secretKey||(this.secretKey=this.create("secret_key",t)),this.tree||(this.tree=this.create("tree",t)),this.data||(this.data=this.create("data",t)),this.bitfield||(this.bitfield=this.create("bitfield",t)),this.signatures||(this.signatures=this.create("signatures",t));var u={bitfield:new Buffer(0),secretKey:null,key:null};this.bitfield.write(0,header(0,3328,null),function(t){if(t)return e(t);readAll(i.bitfield,32,3328,function(t,e){e&&(u.bitfield=e),n(t)})}),this.signatures.write(0,header(1,64,"Ed25519"),n),this.tree.write(0,header(2,40,"BLAKE2b"),n),this.secretKey.read(0,64,function(t,e){e&&(u.secretKey=e),n(null)}),this.key.read(0,32,function(t,e){e&&(u.key=e),n(null)})},Storage.Node=Node;

}).call(this,require(22).Buffer)
},{"132":132,"22":22,"43":43,"7":7}],57:[function(require,module,exports){
function TreeIndex(t){if(!(this instanceof TreeIndex))return new TreeIndex(t);this.bitfield=t||bitfield()}function rightShift(t){return(t-(1&t))/2}function addFullRoots(t,e,i,r){for(var f=flat.fullRoots(t),n=0;n<f.length;n++)f[n]===i||r.get(f[n])||e.push(f[n])}var flat=require(43),bitfield=require(128);module.exports=TreeIndex,TreeIndex.prototype.proof=function(t,e){e||(e={});var i=[],r=e.tree||new TreeIndex,f=e.digest||0;if(!this.get(t))return null;if(e.hash&&i.push(t),1===f)return{nodes:i,verifiedBy:0};var n=null,l=t,s=t,a=1&f;for(f=rightShift(f);f;){if(1===f&&a){this.get(s)&&r.set(s),flat.sibling(s)<s&&(s=flat.sibling(s)),n=flat.fullRoots(flat.rightSpan(s)+2);for(var o=0;o<n.length;o++)this.get(n[o])&&r.set(n[o]);break}l=flat.sibling(s),1&f&&this.get(l)&&r.set(l),s=flat.parent(s),f=rightShift(f)}for(s=t;!r.get(s);){if(l=flat.sibling(s),!this.get(l)){var h=this.verifiedBy(s);return addFullRoots(h,i,s,r),{nodes:i,verifiedBy:h}}r.get(l)||i.push(l),s=flat.parent(s)}return{nodes:i,verifiedBy:0}},TreeIndex.prototype.digest=function(t){if(this.get(t))return 1;for(var e=0,i=flat.sibling(t),r=Math.max(i+2,this.bitfield.length),f=2,n=flat.depth(t),l=flat.parent(i,n++);flat.rightSpan(i)<r||flat.leftSpan(l)>0;){if(this.get(i)&&(e|=f),this.get(l))return(e|=2*f+1)+1===4*f?1:e;i=flat.sibling(l),l=flat.parent(i,n++),f*=2}return e},TreeIndex.prototype.blocks=function(){for(var t=0,e=0,i=this.bitfield.length;flat.rightSpan(e)<i;)e=flat.parent(e),this.get(e)&&(t=e);return(this.get(t)?this.verifiedBy(t):0)/2},TreeIndex.prototype.roots=function(){return flat.fullRoots(2*this.blocks())},TreeIndex.prototype.verifiedBy=function(t,e){if(!this.get(t))return 0;for(var i=flat.depth(t),r=t,f=flat.parent(r,i++);this.get(f)&&this.get(flat.sibling(r));)f=flat.parent(r=f,i++);for(i--;i;){for(r=flat.leftChild(flat.index(i,flat.offset(r,i)+1),i),i--;!this.get(r)&&i;)r=flat.leftChild(r,i--);e&&this.get(r)&&e.push(r)}return this.get(r)?r+2:r},TreeIndex.prototype.get=function(t){return this.bitfield.get(t)},TreeIndex.prototype.set=function(t){if(!this.bitfield.set(t,!0))return!1;for(;this.bitfield.get(flat.sibling(t))&&(t=flat.parent(t),this.bitfield.set(t,!0)););return!0};

},{"128":128,"43":43}],58:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};

},{}],59:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};

},{}],60:[function(require,module,exports){
function isBuffer(f){return!!f.constructor&&"function"==typeof f.constructor.isBuffer&&f.constructor.isBuffer(f)}function isSlowBuffer(f){return"function"==typeof f.readFloatLE&&"function"==typeof f.slice&&isBuffer(f.slice(0,0))}module.exports=function(f){return null!=f&&(isBuffer(f)||isSlowBuffer(f)||!!f._isBuffer)};

},{}],61:[function(require,module,exports){
"use strict";function isProperty(u){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(u)}module.exports=isProperty;

},{}],62:[function(require,module,exports){
function noop(n){}module.exports=function(n){function l(l){if(r)return o||(o=[]),void o.push(l);var t=f;f=null,r=l,n(t,u)}function u(n){var u=r,f=t;if(t=null,r=null,o&&(t=o,o=null,l(noop)),f)for(var i=0;i<f.length;i++)f[i](n);u(n)}var o=null,r=null,t=null,f=null;return function(n,u){f=n,l(u||noop)}};

},{}],63:[function(require,module,exports){
(function (Buffer){
function createRecordStream(e,r){r||(r={});var t=stream.Readable(),a=0,d=0,o=[];return t.recorder=null,t.media=null,t._read=noop,t.destroyed=!1,t.destroy=function(e){t.destroyed||(t.destroyed=!0,t.recorder&&t.recorder.stop(),e&&t.emit("error",e),t.emit("close"),t.recorder=null,t.media=null)},t.stop=function(){t.once("data",function(){t.push(null)}),t.recorder.stop()},t.media=e,t.recorder=new window.MediaRecorder(e,r),t.recorder.addEventListener("dataavailable",function(e){var r,n,l;r=e.data,n=new window.FileReader,l=a++,n.addEventListener("loadend",function(){for(var e=Buffer(new Uint8Array(n.result)),r=l-d;o.length<r;)o.push(null);for(o[r]=e;o.length&&o[0];){var a=o.shift();d++,t.push(a)}}),n.readAsArrayBuffer(r)}),t.recorder.start(r.interval||1e3),t}function noop(){}var stream=require(107);module.exports=createRecordStream;

}).call(this,require(22).Buffer)
},{"107":107,"22":22}],64:[function(require,module,exports){
(function (Buffer){
function Pager(t){if(!(this instanceof Pager))return new Pager(t);this.length=0,this.updates=[],this.pages=new Array(16),this.pageSize=t||1024}function grow(t,e,r){for(var a=2*t.length;a<=e;)a*=2;for(var s=new Array(a),i=0;i<r;i++)s[i]=t[i];return s}function truncate(t,e){if(t.length===e)return t;if(t.length>e)return t.slice(0,e);var r=alloc(e);return t.copy(r),r}function alloc(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e}function Page(t,e){this.offset=t*e.length,this.buffer=e,this.updated=!1}module.exports=Pager,Pager.prototype.updated=function(t){!t.updated&&this.updates&&(t.updated=!0,this.updates.push(t))},Pager.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var t=this.updates.pop();return t.updated=!1,t},Pager.prototype.get=function(t,e){if(t>=this.pages.length){if(e)return;this.pages=grow(this.pages,t,this.length)}var r=this.pages[t];return r||e||(r=this.pages[t]=new Page(t,alloc(this.pageSize)),t>=this.length&&(this.length=t+1)),r},Pager.prototype.set=function(t,e){if(t>=this.pages.length&&(this.pages=grow(this.pages,t,this.length)),t>=this.length&&(this.length=t+1),e){var r=this.pages[t],a=truncate(e,this.pageSize);r?r.buffer=a:this.pages[t]=new Page(t,a)}else this.pages[t]=void 0},Pager.prototype.toBuffer=function(){for(var t=new Array(this.length),e=alloc(this.pageSize),r=0;r<t.length;r++)t[r]=this.pages[r]?this.pages[r].buffer:e;return Buffer.concat(t)};

}).call(this,require(22).Buffer)
},{"22":22}],65:[function(require,module,exports){
(function (Buffer){
function MerkleGenerator(t,e){if(!(this instanceof MerkleGenerator))return new MerkleGenerator(t,e);if(!t||!t.leaf||!t.parent)throw new Error("opts.leaf and opts.parent required");this.roots=e||t.roots||[],this.blocks=this.roots.length?1+flat.rightSpan(this.roots[this.roots.length-1].index)/2:0;for(var r=0;r<this.roots.length;r++){var s=this.roots[r];s&&!s.parent&&(s.parent=flat.parent(s.index))}this._leaf=t.leaf,this._parent=t.parent}var flat=require(43);module.exports=MerkleGenerator,MerkleGenerator.prototype.next=function(t,e){Buffer.isBuffer(t)||(t=new Buffer(t)),e||(e=[]);var r=2*this.blocks++,s={index:r,parent:flat.parent(r),hash:null,size:t.length,data:t};for(s.hash=this._leaf(s,this.roots),this.roots.push(s),e.push(s);this.roots.length>1;){var o=this.roots[this.roots.length-2],n=this.roots[this.roots.length-1];if(o.parent!==n.parent)break;this.roots.pop(),this.roots[this.roots.length-1]=s={index:o.parent,parent:flat.parent(o.parent),hash:this._parent(o,n),size:o.size+n.size,data:null},e.push(s)}return e};

}).call(this,require(22).Buffer)
},{"22":22,"43":43}],66:[function(require,module,exports){
(function (process){
function mkdirP(r,t,e,i){"function"==typeof t?(e=t,t={}):t&&"object"==typeof t||(t={mode:t});var o=t.mode,a=t.fs||fs;void 0===o&&(o=_0777&~process.umask()),i||(i=null);var c=e||function(){};r=path.resolve(r),a.mkdir(r,o,function(e){if(!e)return c(null,i=i||r);switch(e.code){case"ENOENT":mkdirP(path.dirname(r),t,function(e,i){e?c(e,i):mkdirP(r,t,c,i)});break;default:a.stat(r,function(r,t){r||!t.isDirectory()?c(e,i):c(null,i)})}})}var path=require(81),fs=require(19),_0777=parseInt("0777",8);module.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP,mkdirP.sync=function r(t,e,i){e&&"object"==typeof e||(e={mode:e});var o=e.mode,a=e.fs||fs;void 0===o&&(o=_0777&~process.umask()),i||(i=null),t=path.resolve(t);try{a.mkdirSync(t,o),i=i||t}catch(o){switch(o.code){case"ENOENT":r(t,e,i=r(path.dirname(t),e,i));break;default:var c;try{c=a.statSync(t)}catch(r){throw o}if(!c.isDirectory())throw o}}return i};

}).call(this,require(83))
},{"19":19,"81":81,"83":83}],67:[function(require,module,exports){
function parse(e){if(!((e=String(e)).length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var a=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*y;case"days":case"day":case"d":return a*d;case"hours":case"hour":case"hrs":case"hr":case"h":return a*h;case"minutes":case"minute":case"mins":case"min":case"m":return a*m;case"seconds":case"second":case"secs":case"sec":case"s":return a*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function fmtShort(e){return e>=d?Math.round(e/d)+"d":e>=h?Math.round(e/h)+"h":e>=m?Math.round(e/m)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function fmtLong(e){return plural(e,d,"day")||plural(e,h,"hour")||plural(e,m,"minute")||plural(e,s,"second")||e+" ms"}function plural(s,e,r){if(!(s<e))return s<1.5*e?Math.floor(s/e)+" "+r:Math.ceil(s/e)+" "+r+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return parse(s);if("number"===r&&!1===isNaN(s))return e.long?fmtLong(s):fmtShort(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};

},{}],68:[function(require,module,exports){
function equal(t,o,s){}function notEqual(t,o,s){}function notOk(t,o){}function assert(t,o){if(!t)throw new Error(o||"AssertionError")}assert.notEqual=notEqual,assert.notOk=notOk,assert.equal=equal,assert.ok=assert,module.exports=assert;

},{}],69:[function(require,module,exports){
function Nanobus(t){if(!(this instanceof Nanobus))return new Nanobus(t);this._name=t||"nanobus",this._starListeners=[],this._listeners={}}var splice=require(110),nanotiming=require(78);module.exports=Nanobus,Nanobus.prototype.emit=function(t){for(var s=[],e=1,i=arguments.length;e<i;e++)s.push(arguments[e]);var n=nanotiming(this._name+"('"+t+"')"),r=this._listeners[t];return r&&r.length>0&&this._emit(this._listeners[t],s),this._starListeners.length>0&&this._emit(this._starListeners,t,s,n.uuid),n(),this},Nanobus.prototype.on=Nanobus.prototype.addListener=function(t,s){return"*"===t?this._starListeners.push(s):(this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(s)),this},Nanobus.prototype.prependListener=function(t,s){return"*"===t?this._starListeners.unshift(s):(this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].unshift(s)),this},Nanobus.prototype.once=function(t,s){var e=this;return this.on(t,function i(){s.apply(e,arguments),e.removeListener(t,i)}),this},Nanobus.prototype.prependOnceListener=function(t,s){var e=this;return this.prependListener(t,function i(){s.apply(e,arguments),e.removeListener(t,i)}),this},Nanobus.prototype.removeListener=function(t,s){function e(t,s){if(t){var e=t.indexOf(s);return-1!==e?(splice(t,e,1),!0):void 0}}return"*"===t?(this._starListeners=this._starListeners.slice(),e(this._starListeners,s)):(void 0!==this._listeners[t]&&(this._listeners[t]=this._listeners[t].slice()),e(this._listeners[t],s))},Nanobus.prototype.removeAllListeners=function(t){return t?"*"===t?this._starListeners=[]:this._listeners[t]=[]:(this._starListeners=[],this._listeners={}),this},Nanobus.prototype.listeners=function(t){var s="*"!==t?this._listeners[t]:this._starListeners,e=[];if(s)for(var i=s.length,n=0;n<i;n++)e.push(s[n]);return e},Nanobus.prototype._emit=function(t,s,e,i){if(void 0!==t&&0!==t.length){void 0===e&&(e=s,s=null),s&&(e=void 0!==i?[s].concat(e,i):[s].concat(e));for(var n=t.length,r=0;r<n;r++){var o=t[r];o.apply(o,e)}}};

},{"110":110,"78":78}],70:[function(require,module,exports){
function href(e,t){t=t||window.document,window.addEventListener("click",function(r){if(!(r.button&&0!==r.button||r.ctrlKey||r.metaKey||r.altKey||r.shiftKey||r.defaultPrevented)){var n=function e(r){if(r&&r!==t)return"a"!==r.localName||void 0===r.href?e(r.parentNode):r}(r.target);n&&(window.location.origin!==n.origin||n.hasAttribute("download")||"_blank"===n.getAttribute("target")&&safeExternalLink.test(n.getAttribute("rel"))||protocolLink.test(n.getAttribute("href"))||(r.preventDefault(),e(n)))}})}var safeExternalLink=/(noopener|noreferrer) (noopener|noreferrer)/,protocolLink=/^[\w-_]+:/;module.exports=href;

},{}],71:[function(require,module,exports){
function nanolocation(){return window.location.pathname.replace(/\/$/,"")+window.location.hash.replace(/^#/,"/")}module.exports=nanolocation;

},{}],72:[function(require,module,exports){
function nanomorph(e,a){return walk(a,e)}function walk(e,a){return a?e?e.isSameNode&&e.isSameNode(a)?a:e.tagName!==a.tagName?e:(morph(e,a),updateChildren(e,a),a):null:e}function updateChildren(e,a){for(var i,d,l,o,r=0,n=0;d=e.childNodes[n-r],(i=a.childNodes[n])||d;n++)if(d)if(i)if(same(d,i))(l=walk(d,i))!==i&&(a.replaceChild(l,i),r++);else{o=null;for(var m=n;m<a.childNodes.length;m++)if(same(a.childNodes[m],d)){o=a.childNodes[m];break}o?((l=walk(d,o))!==o&&r++,a.insertBefore(l,i)):d.id||i.id?(a.insertBefore(d,i),r++):(l=walk(d,i))!==i&&(a.replaceChild(l,i),r++)}else a.appendChild(d),r++;else a.removeChild(i),n--}function same(e,a){return e.id?e.id===a.id:e.isSameNode?e.isSameNode(a):e.tagName===a.tagName&&(e.type===TEXT_NODE&&e.nodeValue===a.nodeValue)}var morph=require(74),TEXT_NODE=3;module.exports=nanomorph;

},{"74":74}],73:[function(require,module,exports){
module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"];

},{}],74:[function(require,module,exports){
function morph(e,t){var u=e.nodeType,a=e.nodeName;u===ELEMENT_NODE&&copyAttrs(e,t),u!==TEXT_NODE&&u!==COMMENT_NODE||t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),"INPUT"===a?updateInput(e,t):"OPTION"===a?updateOption(e,t):"TEXTAREA"===a&&updateTextarea(e,t),copyEvents(e,t)}function copyAttrs(e,t){for(var u=t.attributes,a=e.attributes,r=null,n=null,l=null,i=null,o=a.length-1;o>=0;--o)l=(i=a[o]).name,n=i.value,(r=i.namespaceURI)?t.getAttributeNS(r,l=i.localName||l)!==n&&t.setAttributeNS(r,l,n):t.hasAttribute(l)?t.getAttribute(l)!==n&&("null"===n||"undefined"===n?t.removeAttribute(l):t.setAttribute(l,n)):t.setAttribute(l,n);for(var v=u.length-1;v>=0;--v)!1!==(i=u[v]).specified&&(l=i.name,(r=i.namespaceURI)?e.hasAttributeNS(r,l=i.localName||l)||t.removeAttributeNS(r,l):e.hasAttributeNS(null,l)||t.removeAttribute(l))}function copyEvents(e,t){for(var u=0;u<eventsLength;u++){var a=events[u];e[a]?t[a]=e[a]:t[a]&&(t[a]=void 0)}}function updateOption(e,t){updateAttribute(e,t,"selected")}function updateInput(e,t){var u=e.value,a=t.value;updateAttribute(e,t,"checked"),updateAttribute(e,t,"disabled"),u!==a&&(t.setAttribute("value",u),t.value=u),"null"===u&&(t.value="",t.removeAttribute("value")),e.hasAttributeNS(null,"value")?"range"===t.type&&(t.value=u):t.removeAttribute("value")}function updateTextarea(e,t){var u=e.value;if(u!==t.value&&(t.value=u),t.firstChild&&t.firstChild.nodeValue!==u){if(""===u&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=u}}function updateAttribute(e,t,u){e[u]!==t[u]&&(t[u]=e[u],e[u]?t.setAttribute(u,""):t.removeAttribute(u))}var events=require(73),eventsLength=events.length,ELEMENT_NODE=1,TEXT_NODE=3,COMMENT_NODE=8;module.exports=morph;

},{"73":73}],75:[function(require,module,exports){
function qs(e){var o={};return e.replace(/^.*\?/,"").replace(reg,function(e,n,r,c){o[decodeURIComponent(n)]=decodeURIComponent(c)}),o}var reg=/([^?=&]+)(=([^&]*))?/g;module.exports=qs;

},{}],76:[function(require,module,exports){
"use strict";function nanoraf(n,r){r||(r=window.requestAnimationFrame);var a=!1,o=null;return function(){null!==o||a||(a=!0,r(function(){a=!1;for(var r=o.length,t=new Array(r),u=0;u<r;u++)t[u]=o[u];n.apply(n,t),o=null})),o=arguments}}module.exports=nanoraf;

},{}],77:[function(require,module,exports){
function Nanorouter(e){function r(e){return o?(e=pathname(e,isLocalFile))===a?t():(a=e,(t=n(e))()):n(e)}var n=wayfarer((e=e||{}).default||"/404"),o=e.curry||!1,t=null,a=null;return r.router=n,r.on=function(e,r){e=e.replace(/^[#/]/,""),n.on(e,r)},r.match=function(e){return e=pathname(e,isLocalFile),n.match(e)},r}function pathname(e,r){return(e=e.replace(r?stripElectron:prefix,"")).replace(suffix,"").replace(normalize,"/")}var wayfarer=require(143),isLocalFile=/file:\/\//.test("object"==typeof window&&window.location&&window.location.origin),electron="^(file://|/)(.*.html?/?)?",protocol="^(http(s)?(://))?(www.)?",domain="[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?",qs="[?].*$",stripElectron=new RegExp(electron),prefix=new RegExp(protocol+domain),normalize=new RegExp("#"),suffix=new RegExp(qs);module.exports=Nanorouter;

},{"143":143}],78:[function(require,module,exports){
function nanotiming(e){function r(r){var a="end-"+n+"-"+e;perf.mark(a),onIdle(function(){perf.measure(e+" ["+n+"]",o,a),perf.clearMarks(o),perf.clearMarks(a),r&&r(e)})}if(disabled)return noop;var n=(1e4*perf.now()).toFixed()%Number.MAX_SAFE_INTEGER,o="start-"+n+"-"+e;return perf.mark(o),r.uuid=n,r}function noop(e){e&&onIdle(e)}var perf,onIdle=require(79),disabled=!0;try{perf=window.performance,disabled="true"===window.localStorage.DISABLE_NANOTIMING||!perf.mark}catch(e){}module.exports=nanotiming;

},{"79":79}],79:[function(require,module,exports){
function onIdle(d,e){var n;return e=e||dftOpts,hasIdle?(n=window.requestIdleCallback(function(n){if(n.timeRemaining()<=10&&!n.didTimeout)return onIdle(d,e);d(n)},e),window.cancelIdleCallback.bind(window,n)):hasWindow?(n=setTimeout(d,0),clearTimeout.bind(window,n)):void 0}var dftOpts={},hasWindow="undefined"!=typeof window,hasIdle=hasWindow&&window.requestIdleCallback;module.exports=onIdle;

},{}],80:[function(require,module,exports){
function once(e){var r=function(){return r.called?r.value:(r.called=!0,r.value=e.apply(this,arguments))};return r.called=!1,r}function onceStrict(e){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=e.apply(this,arguments)};return r.onceError=(e.name||"Function wrapped with `once`")+" shouldn't be called more than once",r.called=!1,r}var wrappy=require(156);module.exports=wrappy(once),module.exports.strict=wrappy(onceStrict),once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:!0})});

},{"156":156}],81:[function(require,module,exports){
(function (process){
function normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(r){return splitPathRe.exec(r).slice(1)};exports.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(r=n+"/"+r,t="/"===n.charAt(0))}return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},exports.normalize=function(r){var t=exports.isAbsolute(r),e="/"===substr(r,-1);return(r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"))||t||(r="."),r&&e&&(r+="/"),(t?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),i=Math.min(n.length,s.length),o=i,u=0;u<i;u++)if(n[u]!==s[u]){o=u;break}var l=[];for(u=o;u<n.length;u++)l.push("..");return(l=l.concat(s.slice(o))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=splitPath(r),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},exports.basename=function(r,t){var e=splitPath(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return splitPath(r)[3]};var substr="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};

}).call(this,require(83))
},{"83":83}],82:[function(require,module,exports){
(function (process){
"use strict";function nextTick(e,n,c,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,t,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,n)});case 3:return process.nextTick(function(){e.call(null,n,c)});case 4:return process.nextTick(function(){e.call(null,n,c,r)});default:for(s=new Array(o-1),t=0;t<s.length;)s[t++]=arguments[t];return process.nextTick(function(){e.apply(null,s)})}}!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports=nextTick:module.exports=process.nextTick;

}).call(this,require(83))
},{"83":83}],83:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],84:[function(require,module,exports){
var parse=require(85),stringify=require(86);module.exports=parse,module.exports.parse=parse,module.exports.stringify=stringify;

},{"85":85,"86":86}],85:[function(require,module,exports){
var tokenize=require(87),MAX_RANGE=536870911,PACKABLE_TYPES=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],onfieldoptions=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var n=e.shift();if("("===n&&(n=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[n]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},onfield=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var n=e.shift();t.required="required"===n,t.repeated="repeated"===n,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=onfieldoptions(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},onmessagebody=function(e){for(var t={enums:[],messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(onfield(e));break;case"enum":t.enums.push(onenum(e));break;case"message":t.messages.push(onmessage(e));break;case"extensions":t.extensions=onextensions(e);break;case"oneof":e.shift();var n=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var o=onfield(e);o.oneof=n,t.fields.push(o)}e.shift();break;case"extend":t.extends.push(onextend(e));break;case";":e.shift();break;case"reserved":case"option":for(e.shift();";"!==e[0];)e.shift();break;default:e.unshift("optional"),t.fields.push(onfield(e))}return t},onextend=function(e){return{name:e[1],message:onmessage(e)}},onextensions=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var n=e.shift();if("max"===n&&(n=MAX_RANGE),n=Number(n),isNaN(n))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:n}},onmessage=function(e){e.shift();var t=1,n=[],o={name:e.shift(),enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),n=onmessagebody(n),o.enums=n.enums,o.messages=n.messages,o.fields=n.fields,o.extends=n.extends,o.extensions=n.extensions,o;n.push(e.shift())}if(t)throw new Error("No closing tag for message")},onpackagename=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},onsyntaxversion=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},onenumvalue=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var n={value:null,options:{}};return n.value=Number(e.shift()),"["===e[0]&&(n.options=onfieldoptions(e)),e.shift(),{name:t,val:n}},onenum=function(e){e.shift();var t={},n={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),n;if("option"!==e[0]){var o=onenumvalue(e);n.values[o.name]=o.val}else t=onoption(e),n.options[t.name]=t.value}throw new Error("No closing tag for enum")},onoption=function(e){for(var t,n=null,o=null;e.length;){if(";"===e[0])return e.shift(),{name:n,value:o};switch(e[0]){case"option":e.shift();var r="("===e[0];if(r&&e.shift(),n=e.shift(),r){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(n+=e.shift());break;case"=":if(e.shift(),null===n)throw new Error("Expected key for option with value: "+e[0]);if(o="true"===(t=e.shift())||"false"!==t&&t.replace(/^"+|"+$/gm,""),"optimize_for"===n&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(o))throw new Error("Unexpected value for option optimize_for: "+o);"{"===o&&(o=onoptionMap(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},onoptionMap=function(e){for(var t,n={};e.length;){if("}"===e[0])return e.shift(),n;var o="("===e[0];o&&e.shift();var r=e.shift();if(o){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var i=null;switch(e[0]){case":":if(void 0!==n[r])throw new Error("Duplicate option map key "+r);e.shift(),"{"===(i="true"===(t=e.shift())||"false"!==t&&t.replace(/^"+|"+$/gm,""))&&(i=onoptionMap(e)),n[r]=i,";"===e[0]&&e.shift();break;case"{":if(e.shift(),i=onoptionMap(e),void 0===n[r]&&(n[r]=[]),!Array.isArray(n[r]))throw new Error("Duplicate option map key "+r);n[r].push(i);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},onimport=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},onservice=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var n=onoption(e);if(void 0!==t.options[n.name])throw new Error("Duplicate option "+n.name);t.options[n.name]=n.value;break;case"rpc":t.methods.push(onrpc(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},onrpc=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var n=onoption(e);if(void 0!==t.options[n.name])throw new Error("Duplicate option "+n.name);t.options[n.name]=n.value}throw new Error("No closing tag for rpc")},parse=function(e){for(var t=tokenize(e.toString()),n=0;n<t.length;n++){var o;if(/^("|')([^'"]*)$/.test(t[n]))for(o=1===t[n].length?n+1:n;o<t.length;o++)if(/^([^'"]*)("|')$/.test(t[o])){t=t.slice(0,n).concat(t.slice(n,o+1).join("")).concat(t.slice(o+1));break}}for(var r={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},i=!0;t.length;){switch(t[0]){case"package":r.package=onpackagename(t);break;case"syntax":if(!i)throw new Error("Protobuf syntax version should be first thing in file");r.syntax=onsyntaxversion(t);break;case"message":r.messages.push(onmessage(t));break;case"enum":r.enums.push(onenum(t));break;case"option":var s=onoption(t);if(r.options[s.name])throw new Error("Duplicate option "+s.name);r.options[s.name]=s.value;break;case"import":r.imports.push(onimport(t));break;case"extend":r.extends.push(onextend(t));break;case"service":r.services||(r.services=[]),r.services.push(onservice(t));break;default:throw new Error("Unexpected token: "+t[0])}i=!1}return r.extends.forEach(function(e){r.messages.forEach(function(t){t.name===e.name&&e.message.fields.forEach(function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)})})}),r.messages.forEach(function(e){e.fields.forEach(function(t){var n,o,i,s;if(t.options&&"true"===t.options.packed&&-1===PACKABLE_TYPES.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some(function(e){return e.name===t.type}))return}else{if((n=t.type.split(".")).length>2)throw new Error("what is this?");if(o=n[0],i=n[1],r.messages.some(function(e){if(e.name===o)return s=e,e}),s&&s.enums&&s.enums.some(function(e){return e.name===i}))return}throw new Error("Fields of type "+t.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),r};module.exports=parse;

},{"87":87}],86:[function(require,module,exports){
var onfield=function(n,o){var e=n.repeated?"repeated":n.required?"required":"optional";"map"===n.type&&(e="map<"+n.map.from+","+n.map.to+">"),n.oneof&&(e="");var s=Object.keys(n.options||{}).map(function(o){return o+" = "+n.options[o]}).join(",");return s&&(s=" ["+s+"]"),o.push((e?e+" ":"")+("map"===n.map?"":n.type+" ")+n.name+" = "+n.tag+s+";"),o},onmessage=function(n,o){o.push("message "+n.name+" {"),n.enums||(n.enums=[]),n.enums.forEach(function(n){o.push(onenum(n,[]))}),n.messages||(n.messages=[]),n.messages.forEach(function(n){o.push(onmessage(n,[]))});var e={};return n.fields||(n.fields=[]),n.fields.forEach(function(n){n.oneof?(e[n.oneof]||(e[n.oneof]=[]),e[n.oneof].push(onfield(n,[]))):o.push(onfield(n,[]))}),Object.keys(e).forEach(function(n){e[n].unshift("oneof "+n+" {"),e[n].push("}"),o.push(e[n])}),o.push("}",""),o},onenum=function(n,o){o.push("enum "+n.name+" {"),n.options||(n.options={});var e=onoption(n.options,[]);return e.length>1&&o.push(e.slice(0,-1)),Object.keys(n.values).map(function(e){var s=onenumvalue(n.values[e]);o.push([e+" = "+s+";"])}),o.push("}",""),o},onenumvalue=function(n,o){var e=Object.keys(n.options||{}).map(function(o){return o+" = "+n.options[o]}).join(",");return e&&(e=" ["+e+"]"),n.value+e},onoption=function(n,o){var e=Object.keys(n);return e.forEach(function(e){var s=n[e];~e.indexOf(".")&&(e="("+e+")");var t=typeof s;"object"===t?(s=onoptionMap(s,[])).length&&o.push("option "+e+" = {",s,"};"):("string"===t&&"optimize_for"!==e&&(s='"'+s+'"'),o.push("option "+e+" = "+s+";"))}),e.length>0&&o.push(""),o},onoptionMap=function(n,o){return Object.keys(n).forEach(function(e){var s=n[e],t=typeof s;"object"===t?Array.isArray(s)?s.forEach(function(n){(n=onoptionMap(n,[])).length&&o.push(e+" {",n,"}")}):(s=onoptionMap(s,[])).length&&o.push(e+" {",s,"}"):("string"===t&&(s='"'+s+'"'),o.push(e+": "+s))}),o},onservices=function(n,o){return o.push("service "+n.name+" {"),n.options||(n.options={}),onoption(n.options,o),n.methods||(n.methods=[]),n.methods.forEach(function(n){o.push(onrpc(n,[]))}),o.push("}",""),o},onrpc=function(n,o){var e="rpc "+n.name+"(";n.client_streaming&&(e+="stream "),e+=n.input_type+") returns (",n.server_streaming&&(e+="stream "),e+=n.output_type+")",n.options||(n.options={});var s=onoption(n.options,[]);return s.length>1?o.push(e+" {",s.slice(0,-1),"}"):o.push(e+";"),o},indent=function(n){return function(o){return Array.isArray(o)?o.map(indent(n+"  ")).join("\n"):n+o}};module.exports=function(n){var o=[];return o.push('syntax = "proto'+n.syntax+'";',""),n.package&&o.push("package "+n.package+";",""),n.options||(n.options={}),onoption(n.options,o),n.enums||(n.enums=[]),n.enums.forEach(function(n){onenum(n,o)}),n.messages||(n.messages=[]),n.messages.forEach(function(n){onmessage(n,o)}),n.services&&n.services.forEach(function(n){onservices(n,o)}),o.map(indent("")).join("\n")};

},{}],87:[function(require,module,exports){
module.exports=function(n){var r,e=function(n){return n.trim()};return n.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(e).filter(Boolean).map(function(n){var r=n.indexOf("//");return r>-1?n.slice(0,r):n}).map(e).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((r=!1,function(n){return"/*"===n?(r=!0,!1):"*/"===n?(r=!1,!1):!r}))};

},{}],88:[function(require,module,exports){
(function (Buffer){
var encodings=require(89),varint=require(141),genobj=require(46),genfun=require(45),flatten=function(e){if(!e)return null;var n={};return Object.keys(e).forEach(function(t){n[t]=e[t].value}),n},skip=function(e,n,t){switch(e){case 0:return varint.decode(n,t),t+varint.decode.bytes;case 1:return t+8;case 2:var r=varint.decode(n,t);return t+varint.decode.bytes+r;case 3:case 4:throw new Error("Groups are not supported");case 5:return t+4}throw new Error("Unknown wire type: "+e)},defined=function(e){return null!==e&&void 0!==e&&("number"!=typeof e||!isNaN(e))},isString=function(e){try{return!!e&&"string"==typeof JSON.parse(e)}catch(e){return!1}},defaultValue=function(e,n){if(e.map)return"{}";if(e.repeated)return"[]";switch(e.type){case"string":return isString(n)?n:'""';case"bool":return"true"===n?"true":"false";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return""+Number(n||0);default:return"null"}};module.exports=function(e,n){var t={},r={},o={},f=function(e,n){e.enums&&e.enums.forEach(function(e){e.id=n+(n?".":"")+e.name,r[e.id]=e,f(e,e.id)}),e.messages&&e.messages.forEach(function(r){r.id=n+(n?".":"")+r.name,t[r.id]=r,r.fields.forEach(function(r){if(r.map){var o="Map_"+r.map.from+"_"+r.map.to,f={name:o,enums:[],messages:[],fields:[{name:"key",type:r.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:r.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:n+(n?".":"")+o};t[f.id]||(t[f.id]=f,e.messages.push(f)),r.type=o,r.repeated=!0}}),f(r,r.id)})};f(e,"");var i=function(e,f,a){if(n&&n[e])return n[e];if(encodings[e])return encodings[e];var s=(f?f+"."+e:e).split(".").map(function(n,t,r){return r.slice(0,t).concat(e).join(".")}).reverse().reduce(function(e,n){return e||t[n]||r[n]},null);if(!1===a)return s;if(!s)throw new Error("Could not resolve "+e);return s.values?function(e){var n=Object.keys(e.values).map(function(n){return"val !== "+parseInt(e.values[n].value,10)}).join(" && ");n||(n="true");var t=genfun()("function encode (val, buf, offset) {")('if (%s) throw new Error("Invalid enum value: "+val)',n)("varint.encode(val, buf, offset)")("encode.bytes = varint.encode.bytes")("return buf")("}").toFunction({varint:varint}),r=genfun()("function decode (buf, offset) {")("var val = varint.decode(buf, offset)")('if (%s) throw new Error("Invalid enum value: "+val)',n)("decode.bytes = varint.decode.bytes")("return val")("}").toFunction({varint:varint});return encodings.make(0,t,r,varint.encodingLength)}(s):o[s.id]||function(e,n){e.messages.forEach(function(t){n[t.name]=i(t.name,e.id)}),e.enums.forEach(function(e){n[e.name]=flatten(e.values)}),n.type=2,n.message=!0,n.name=e.name;var t={};e.fields.forEach(function(e){e.oneof&&(t[e.oneof]||(t[e.oneof]=[]),t[e.oneof].push(e.name))});var r=e.fields.map(function(n){return i(n.type,e.id)}),o=function(n){for(var t=0;t<r.length;t++)n(r[t],e.fields[t],genobj("obj",e.fields[t].name),t)},f=genfun()("function encodingLength (obj) {")("var length = 0");Object.keys(t).forEach(function(e){var n=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=t[e].map(function(e){return"+defined("+genobj("obj",e)+")"}).join(" + ");f("if ((%s) > 1) throw new Error(%s)",r,n)}),o(function(e,n,t,r){var o=n.repeated&&n.options&&n.options.packed&&"false"!==n.options.packed,i=varint.encodingLength(n.tag<<3|e.type);n.required?f("if (!defined(%s)) throw new Error(%s)",t,JSON.stringify(n.name+" is required")):f("if (defined(%s)) {",t),n.map&&(f()("var tmp = Object.keys(%s)",t)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",t)("}"),t="tmp"),o?(f()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",t)("if (!defined(%s)) continue",t+"[i]")("var len = enc[%d].encodingLength(%s)",r,t+"[i]")("packedLen += len"),e.message&&f("packedLen += varint.encodingLength(len)"),f("}")("if (packedLen) {")("length += %d + packedLen + varint.encodingLength(packedLen)",i)("}")):(n.repeated&&(f("for (var i = 0; i < %s.length; i++) {",t),f("if (!defined(%s)) continue",t+="[i]")),f("var len = enc[%d].encodingLength(%s)",r,t),e.message&&f("length += varint.encodingLength(len)"),f("length += %d + len",i),n.repeated&&f("}")),n.required||f("}")}),f()("return length")("}"),f=f.toFunction({defined:defined,varint:varint,enc:r});var a=genfun()("function encode (obj, buf, offset) {")("if (!offset) offset = 0")("if (!buf) buf = new Buffer(encodingLength(obj))")("var oldOffset = offset");Object.keys(t).forEach(function(e){var n=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=t[e].map(function(e){return"+defined("+genobj("obj",e)+")"}).join(" + ");a("if ((%s) > 1) throw new Error(%s)",r,n)}),o(function(e,n,t,r){n.required?a("if (!defined(%s)) throw new Error(%s)",t,JSON.stringify(n.name+" is required")):a("if (defined(%s)) {",t);var o,f=n.repeated&&n.options&&n.options.packed&&"false"!==n.options.packed,i=varint.encode(n.tag<<3|2),s=varint.encode(n.tag<<3|e.type);if(n.map&&(a()("var tmp = Object.keys(%s)",t)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",t)("}"),t="tmp"),f){for(a()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",t)("if (!defined(%s)) continue",t+"[i]")("packedLen += enc[%d].encodingLength(%s)",r,t+"[i]")("}"),a("if (packedLen) {"),o=0;o<s.length;o++)a("buf[offset++] = %d",i[o]);a("varint.encode(packedLen, buf, offset)"),a("offset += varint.encode.bytes"),a("}")}if(n.repeated&&(a("for (var i = 0; i < %s.length; i++) {",t),a("if (!defined(%s)) continue",t+="[i]")),!f)for(o=0;o<s.length;o++)a("buf[offset++] = %d",s[o]);e.message&&(a("varint.encode(enc[%d].encodingLength(%s), buf, offset)",r,t),a("offset += varint.encode.bytes")),a("enc[%d].encode(%s, buf, offset)",r,t),a("offset += enc[%d].encode.bytes",r),n.repeated&&a("}"),n.required||a("}")}),a()("encode.bytes = offset - oldOffset")("return buf")("}"),a=a.toFunction({encodingLength:f,defined:defined,varint:varint,enc:r,Buffer:Buffer});var s=e.fields.map(function(e,n){return e.required&&"!found"+n}).filter(function(e){return e}).join(" || "),d=genfun(),u=[];return o(function(n,t){var r=t.options&&t.options.default,o=i(t.type,e.id,!1),f=o&&o.values;f?t.repeated?u.push(genobj.property(t.name)+": []"):(r=r&&f[r]?f[r].value:f[Object.keys(f)[0]].value,u.push(genobj.property(t.name)+": "+parseInt(r||0,10))):u.push(genobj.property(t.name)+": "+defaultValue(t,r))}),d()("function decode (buf, offset, end) {")("if (!offset) offset = 0")("if (!end) end = buf.length")('if (!(end <= buf.length && offset <= buf.length)) throw new Error("Decoded message is not valid")')("var oldOffset = offset")("var obj = {"),u.forEach(function(e,n){d(e+(n===u.length-1?"":","))}),d("}"),o(function(e,n,t,r){n.required&&d("var found%d = false",r)}),d("while (true) {")("if (end <= offset) {")(s&&'if (%s) throw new Error("Decoded message is not valid")',s)("decode.bytes = offset - oldOffset")("return obj")("}")("var prefix = varint.decode(buf, offset)")("offset += varint.decode.bytes")("var tag = prefix >> 3")("switch (tag) {"),o(function(n,t,r,o){var f=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed;d("case %d:",t.tag),t.oneof&&e.fields.forEach(function(e){e.oneof===t.oneof&&t.name!==e.name&&d("delete %s",genobj("obj",e.name))}),f&&d()("var packedEnd = varint.decode(buf, offset)")("offset += varint.decode.bytes")("packedEnd += offset")("while (offset < packedEnd) {"),n.message?(d("var len = varint.decode(buf, offset)"),d("offset += varint.decode.bytes"),t.map?(d("var tmp = enc[%d].decode(buf, offset, offset + len)",o),d("%s[tmp.key] = tmp.value",r)):d(t.repeated?"%s.push(enc[%d].decode(buf, offset, offset + len))":"%s = enc[%d].decode(buf, offset, offset + len)",r,o)):d(t.repeated?"%s.push(enc[%d].decode(buf, offset))":"%s = enc[%d].decode(buf, offset)",r,o),d("offset += enc[%d].decode.bytes",o),f&&d("}"),t.required&&d("found%d = true",o),d("break")}),d()("default:")("offset = skip(prefix & 7, buf, offset)")("}")("}")("}"),d=d.toFunction({varint:varint,skip:skip,enc:r}),a.bytes=d.bytes=0,n.buffer=!0,n.encode=a,n.decode=d,n.encodingLength=f,n}(s,o[s.id]={})};return(e.enums||[]).concat((e.messages||[]).map(function(e){return i(e.id)}))};

}).call(this,require(22).Buffer)
},{"141":141,"22":22,"45":45,"46":46,"89":89}],89:[function(require,module,exports){
(function (Buffer){
var varint=require(141),svarint=require(115),encoder=function(e,n,t,r){return n.bytes=t.bytes=0,{type:e,encode:n,decode:t,encodingLength:r}};exports.make=encoder,exports.bytes=function(e){var n=function(e){return Buffer.isBuffer(e)?e.length:Buffer.byteLength(e)},t=function(e,r,o){var i=o,u=n(e);return varint.encode(u,r,o),o+=varint.encode.bytes,Buffer.isBuffer(e)?e.copy(r,o):r.write(e,o,u),t.bytes=(o+=u)-i,r},r=function(e,n){var t=n,o=varint.decode(e,n),i=e.slice(n+=varint.decode.bytes,n+o);return r.bytes=(n+=i.length)-t,i};return encoder(2,t,r,function(e){var t=n(e);return varint.encodingLength(t)+t})}(),exports.string=function(){var e=function(n,t,r){var o=r,i=Buffer.byteLength(n);return varint.encode(i,t,r,"utf-8"),t.write(n,r+=varint.encode.bytes,i),e.bytes=(r+=i)-o,t},n=function(e,t){var r=t,o=varint.decode(e,t),i=e.toString("utf-8",t+=varint.decode.bytes,t+o);return n.bytes=(t+=o)-r,i};return encoder(2,e,n,function(e){var n=Buffer.byteLength(e);return varint.encodingLength(n)+n})}(),exports.bool=function(){var e=function(n,t,r){return t[r]=n?1:0,e.bytes=1,t},n=function(e,t){var r=e[t]>0;return n.bytes=1,r};return encoder(0,e,n,function(e){return 1})}(),exports.int32=function(){var e=function(n,t){var r=varint.decode(n,t);return e.bytes=varint.decode.bytes,r>2147483647?r-4294967296:r};return encoder(0,varint.encode,e,function(e){return varint.encodingLength(e<0?e+4294967296:e)})}(),exports.int64=function(){var e=function(n,t){var r=varint.decode(n,t);if(r>=Math.pow(2,63)){for(var o=9;255===n[t+o-1];)o--;o=o||9;var i=new Buffer(o);n.copy(i,0,t,t+o),i[o-1]=127&i[o-1],r=-1*varint.decode(i,0),e.bytes=10}else e.bytes=varint.decode.bytes;return r},n=function(e,t,r){if(e<0){var o=r+9;for(varint.encode(-1*e,t,r),t[r+=varint.encode.bytes-1]=128|t[r];r<o-1;)t[++r]=255;t[o]=1,n.bytes=10}else varint.encode(e,t,r),n.bytes=varint.encode.bytes;return t};return encoder(0,n,e,function(e){return e<0?10:varint.encodingLength(e)})}(),exports.sint32=exports.sint64=encoder(0,svarint.encode,svarint.decode,svarint.encodingLength),exports.uint32=exports.uint64=exports.enum=exports.varint=encoder(0,varint.encode,varint.decode,varint.encodingLength),exports.fixed64=exports.sfixed64=function(){var e=function(n,t,r){return n.copy(t,r),e.bytes=8,t},n=function(e,t){var r=e.slice(t,t+8);return n.bytes=8,r};return encoder(1,e,n,function(e){return 8})}(),exports.double=function(){var e=function(n,t,r){return t.writeDoubleLE(n,r),e.bytes=8,t},n=function(e,t){var r=e.readDoubleLE(t);return n.bytes=8,r};return encoder(1,e,n,function(e){return 8})}(),exports.fixed32=function(){var e=function(n,t,r){return t.writeUInt32LE(n,r),e.bytes=4,t},n=function(e,t){var r=e.readUInt32LE(t);return n.bytes=4,r};return encoder(5,e,n,function(e){return 4})}(),exports.sfixed32=function(){var e=function(n,t,r){return t.writeInt32LE(n,r),e.bytes=4,t},n=function(e,t){var r=e.readInt32LE(t);return n.bytes=4,r};return encoder(5,e,n,function(e){return 4})}(),exports.float=function(){var e=function(n,t,r){return t.writeFloatLE(n,r),e.bytes=4,t},n=function(e,t){var r=e.readFloatLE(t);return n.bytes=4,r};return encoder(5,e,n,function(e){return 4})}();

}).call(this,require(22).Buffer)
},{"115":115,"141":141,"22":22}],90:[function(require,module,exports){
(function (Buffer){
var schema=require(84),compile=require(88),flatten=function(e){if(!e)return null;var r={};return Object.keys(e).forEach(function(t){r[t]=e[t].value}),r};module.exports=function(e,r){if(r||(r={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var t="object"!=typeof e||Buffer.isBuffer(e)?schema.parse(e):e,o=function(){var e=this;compile(t,r.encodings||{}).forEach(function(r){e[r.name]=flatten(r.values)||r})};return o.prototype.toString=function(){return schema.stringify(t)},o.prototype.toJSON=function(){return t},new o};

}).call(this,{"isBuffer":require(60)})
},{"60":60,"84":84,"88":88}],91:[function(require,module,exports){
var once=require(80),eos=require(41),fs=require(18),noop=function(){},isFn=function(e){return"function"==typeof e},isFS=function(e){return!!fs&&((e instanceof(fs.ReadStream||noop)||e instanceof(fs.WriteStream||noop))&&isFn(e.close))},isRequest=function(e){return e.setHeader&&isFn(e.abort)},destroyer=function(e,r,n,o){o=once(o);var t=!1;e.on("close",function(){t=!0}),eos(e,{readable:r,writable:n},function(e){if(e)return o(e);t=!0,o()});var i=!1;return function(r){if(!t&&!i)return i=!0,isFS(e)?e.close(noop):isRequest(e)?e.abort():isFn(e.destroy)?e.destroy():void o(r||new Error("stream was destroyed"))}},call=function(e){e()},pipe=function(e,r){return e.pipe(r)},pump=function(){var e,r=Array.prototype.slice.call(arguments),n=isFn(r[r.length-1]||noop)&&r.pop()||noop;if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Error("pump requires two streams per minimum");var o=r.map(function(t,i){var s=i<r.length-1;return destroyer(t,s,i>0,function(r){e||(e=r),r&&o.forEach(call),s||(o.forEach(call),n(e))})});return r.reduce(pipe)};module.exports=pump;

},{"18":18,"41":41,"80":80}],92:[function(require,module,exports){
function RandomAccessFile(e,i){if(!(this instanceof RandomAccessFile))return new RandomAccessFile(e,i);i||(i={}),events.EventEmitter.call(this),i.directory&&(e=path.join(i.directory,e));var t=this;this.directory=i.directory,this.filename=e,this.fd=0,this.queued=0,this.readable=!1!==i.readable,this.writable=!1!==i.writable,this.mtime=i.mtime,this.atime=i.atime,this.length=i.length||0,this.opened=!1,this.rmdir=!!i.rmdir,this.open=thunky(function(n){function r(i){i&&debug("failed to create directory %s - %s",o,i),fs.open(e,mode(t),s)}function s(r,o){return r&&"EACCES"===r.code&&t.writable?(t.writable=!1,debug("failed to open file for writing, trying again in read only mode (file=%s)",e),void fs.open(e,mode(t),s)):r?(debug("failed to open file=%s err=%s",e,r),n(r)):(t.opened=!0,t.fd=o,debug("opened file=%s",e),t.emit("open"),t.length||i.truncate?fs.ftruncate(o,i.truncate?0:t.length,n):void fs.fstat(o,function(i,r){if(i)return debug("failed to stat file after open, file=%s err=%s",e,i),n(i);t.length=r.size,n()}))}var o=path.dirname(e);debug("open() file=%s",e),o?(debug("creating containing directory %s",o),mkdirp(o,r)):r()}),this.open()}function noop(){}function openAndDel(e,i,t,n){e.open(function(r){if(r)return n(r);e.del(i,t,n)})}function openAndRead(e,i,t,n){e.open(function(r){if(r)return n(r);e._read(i,t,n)})}function openAndWrite(e,i,t,n){e.open(function(r){if(r)return n(r);e._write(i,t,n)})}function mode(e){return e.readable&&e.writable?c.O_RDWR|c.O_CREAT:e.writable?c.O_WRONLY|c.O_CREAT:c.O_RDONLY}var thunky=require(131),fs=require(19),path=require(81),inherits=require(59),mkdirp=require(66),events=require(42),alloc=require(20),c=require(28),debug=require(31)("random-access-file");module.exports=RandomAccessFile,inherits(RandomAccessFile,events.EventEmitter),RandomAccessFile.prototype.read=function(e,i,t){if(this.queued++,!this.opened)return openAndRead(this,e,i,t);this._read(e,i,t)},RandomAccessFile.prototype._read=function(e,i,t){function n(o,d){return o?(debug("read() failed file=%s err=%s",r.filename,o),r.queued--,t(o)):d?(e+=d,(i-=d)?r.fd?void fs.read(r.fd,s,s.length-i,i,e,n):(debug("read() failed: fd is closed file=%s",r.filename),r.queued--,t(new Error("File is closed"))):(r.queued--,t(null,s))):(r.queued--,t(new Error("Could not satisfy length")))}var r=this;if(!this.fd)return debug("read() failed: fd is closed file=%s",this.filename),n(new Error("File is closed"),0);if(!this.readable)return n(new Error("File is not readable"),0);var s=alloc(i);if(!i)return this.queued--,t(null,s);fs.read(this.fd,s,0,i,e,n)},RandomAccessFile.prototype.write=function(e,i,t){if(this.queued++,t||(t=noop),!this.opened)return openAndWrite(this,e,i,t);this._write(e,i,t)},RandomAccessFile.prototype._write=function(e,i,t){if(!this.fd)return debug("write() failed: fd is closed file=%s",this.filename),this.queued--,t(new Error("File is closed"));if(!this.writable)return debug("write() failed: fd is not writable file=%s",this.filename),this.queued--,t(new Error("File is not writable"));var n=this,r=i.length;fs.write(this.fd,i,0,r,e,function s(o,d){return o?(debug("write() failed file=%s err=%s",n.filename,o),n.queued--,t(o)):(r-=d,(e+=d)>n.length&&(n.length=e),r?n.fd?void fs.write(n.fd,i,i.length-r,r,e,s):(debug("write() failed: fd is closed file=%s",n.filename),n.queued--,t(new Error("File is closed"))):(n.queued--,t(null)))})},RandomAccessFile.prototype.del=function(e,i,t){return t||(t=noop),this.opened?e+i<this.length?t(null):void fs.ftruncate(this.fd,e,t):openAndDel(this,e,i,t)},RandomAccessFile.prototype.close=function(e){function i(i){if(i)return debug("failed to close file=%s err=%s",t.filename,i),e(i);debug("closed file=%s",t.filename),t.fd=0,t.emit("close"),e()}if(e||(e=noop),this.opened&&!this.fd)return e();debug("close() file=%s",this.filename);var t=this;this.open(function n(r){if(r)return e();t.queued?setTimeout(n,500):fs.close(t.fd,i)})},RandomAccessFile.prototype.end=function(e,i){function t(e,t){fs.futimes(s.fd,e,t,i)}"function"==typeof e&&(i=e,e={});var n=e.atime||this.atime,r=e.mtime||this.mtime,s=this;this.open(function(e){if(e)return i(e);n||r?n&&r?t(n,r):fs.fstat(s.fd,function(e,s){if(e)return i(e);t(n||s.atime,r||s.mtime)}):i()}),debug("end() file=%s",this.filename)},RandomAccessFile.prototype.destroy=function(e){e||(e=noop);var i=this;this.close(function(){i.unlink(function(t){if(t)return e(t);if(!i.directory||!i.rmdir)return e();var n=path.resolve(path.join(i.directory,".")),r=path.resolve(path.dirname(i.filename));!function i(){return 0!==r.indexOf(n)?e():r===n?e():void fs.readdir(r,function(t,n){if(n&&n.length)return e();fs.rmdir(r,function(){r=path.join(r,".."),i()})})}()})})},RandomAccessFile.prototype.unlink=function(e){e||(e=noop),debug("unlink() file=%s",this.filename),fs.unlink(this.filename,e)};

},{"131":131,"19":19,"20":20,"28":28,"31":31,"42":42,"59":59,"66":66,"81":81}],93:[function(require,module,exports){
(function (Buffer){
function RAM(e,t){if(!(this instanceof RAM))return new RAM(e,t);Buffer.isBuffer(e)&&(t||(t={}),t.buffer=e,e=t.buffer.length),"object"==typeof e&&(t=e,e=0),t||(t={}),"number"!=typeof e&&(e=0),this.pageSize=e||t.pageSize||1048576,this.length=e||0,this.buffers=[],t.buffer&&this.buffers.push(t.buffer)}function calloc(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t}var nextTick=require(82);module.exports=RAM,RAM.prototype.open=function(e){e&&nextTick(e)},RAM.prototype.write=function(e,t,i){e+t.length>this.length&&(this.length=t.length+e);for(var f=Math.floor(e/this.pageSize),r=e-f*this.pageSize;t.length;){var n=r+t.length>this.pageSize?t.slice(0,this.pageSize-r):t,s=this.buffers[f];if(s||(s=0===r&&n.length===this.pageSize?n:calloc(this.pageSize),this.buffers[f]=s),s!==n&&n.copy(s,r),n===t)break;f++,r=0,t=t.slice(n.length)}i&&nextTick(i)},RAM.prototype.read=function(e,t,i){if(e+t>this.length)return nextTick(i,new Error("Could not satisfy length"));for(var f=new Buffer(t),r=0,n=Math.floor(e/this.pageSize),s=e-n*this.pageSize;r<f.length;){var h=this.buffers[n],o=this.pageSize-s;h?h.copy(f,r,s):f.fill(0,r,Math.min(f.length,r+o)),r+=o,n++,s=0}nextTick(i,null,f)},RAM.prototype.del=function(e,t,i){var f=e%this.pageSize,r=f&&this.pageSize-f;if(r<t)for(var n=(e+=r)+(t-=f),s=e/this.pageSize;e+this.pageSize<=n&&s<this.buffers.length;)this.buffers[s++]=void 0,e+=this.pageSize;i&&nextTick(i)},RAM.prototype.close=function(e){e&&nextTick(e)},RAM.prototype.destroy=function(e){this.buffers=[],e&&nextTick(e)},RAM.prototype.toBuffer=function(){var e=1===this.buffers.length?this.buffers[0]:Buffer.concat(this.buffers);return e.length===this.length?e:e.slice(0,this.length)};

}).call(this,require(22).Buffer)
},{"22":22,"82":82}],94:[function(require,module,exports){
(function (process,global){
"use strict";function oldBrowser(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}function randomBytes(r,e){if(r>65536)throw new Error("requested too many random bytes");var o=new global.Uint8Array(r);r>0&&crypto.getRandomValues(o);var t=Buffer.from(o.buffer);return"function"==typeof e?process.nextTick(function(){e(null,t)}):t}var Buffer=require(111).Buffer,crypto=global.crypto||global.msCrypto;module.exports=crypto&&crypto.getRandomValues?randomBytes:oldBrowser;

}).call(this,require(83),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"111":111,"83":83}],95:[function(require,module,exports){
module.exports=require(96);

},{"96":96}],96:[function(require,module,exports){
"use strict";function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);Readable.call(this,e),Writable.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(e){e.end()}function forEach(e,t){for(var r=0,i=e.length;r<i;r++)t(e[r],r)}var processNextTick=require(82),objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=Duplex;var util=require(29);util.inherits=require(59);var Readable=require(98),Writable=require(100);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Duplex.prototype._destroy=function(e,t){this.push(null),this.end(),processNextTick(t,e)};

},{"100":100,"29":29,"59":59,"82":82,"98":98}],97:[function(require,module,exports){
"use strict";function PassThrough(r){if(!(this instanceof PassThrough))return new PassThrough(r);Transform.call(this,r)}module.exports=PassThrough;var Transform=require(99),util=require(29);util.inherits=require(59),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(r,s,i){i(null,r)};

},{"29":29,"59":59,"99":99}],98:[function(require,module,exports){
(function (process,global){
"use strict";function _uint8ArrayToBuffer(e){return Buffer.from(e)}function _isUint8Array(e){return Buffer.isBuffer(e)||e instanceof OurUint8Array}function prependListener(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function ReadableState(e,t){Duplex=Duplex||require(96),this.objectMode=!!(e=e||{}).objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark;this.highWaterMark=r||0===r?r:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=require(105).StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){if(Duplex=Duplex||require(96),!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),Stream.call(this)}function readableAddChunk(e,t,r,n,a){var i,d=e._readableState;null===t?(d.reading=!1,onEofChunk(e,d)):(a||(i=chunkInvalid(d,t)),i?e.emit("error",i):d.objectMode||t&&t.length>0?("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===Buffer.prototype||(t=_uint8ArrayToBuffer(t)),n?d.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):addChunk(e,d,t,!0):d.ended?e.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!r?(t=d.decoder.write(t),d.objectMode||0!==t.length?addChunk(e,d,t,!1):maybeReadMore(e,d)):addChunk(e,d,t,!1))):n||(d.reading=!1));return needMoreData(d)}function addChunk(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}function chunkInvalid(e,t){var r;return _isUint8Array(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?processNextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,processNextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EElistenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,processNextTick(resume_,e,t))}function resume_(e,t){t.reading||(debug("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(debug("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=fromListPartial(e,t.buffer,t.decoder),r);var r}function fromListPartial(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?copyFromBufferString(e,t):copyFromBuffer(e,t),n}function copyFromBufferString(e,t){var r=t.head,n=1,a=r.data;for(e-=a.length;r=r.next;){var i=r.data,d=e>i.length?i.length:e;if(a+=d===i.length?i:i.slice(0,e),0===(e-=d)){d===i.length?(++n,t.head=r.next?r.next:t.tail=null):(t.head=r,r.data=i.slice(d));break}++n}return t.length-=n,a}function copyFromBuffer(e,t){var r=Buffer.allocUnsafe(e),n=t.head,a=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var i=n.data,d=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,d),0===(e-=d)){d===i.length?(++a,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=i.slice(d));break}++a}return t.length-=a,r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,processNextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function forEach(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var processNextTick=require(82);module.exports=Readable;var Duplex,isArray=require(104);Readable.ReadableState=ReadableState;var EE=require(42).EventEmitter,EElistenerCount=function(e,t){return e.listeners(t).length},Stream=require(103),Buffer=require(111).Buffer,OurUint8Array=global.Uint8Array||function(){},util=require(29);util.inherits=require(59);var debugUtil=require(18),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder,BufferList=require(101),destroyImpl=require(102);util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(e,t){this.push(null),t(e)},Readable.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=Buffer.from(e,t),t=""),r=!0),readableAddChunk(this,e,t,!1,r)},Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){return StringDecoder||(StringDecoder=require(105).StringDecoder),this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;Readable.prototype.read=function(e){debug("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var n,a=t.needReadable;return debug("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&debug("length less than watermark",a=!0),t.ended||t.reading?debug("reading or ended",a=!1):a&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t))),null===(n=e>0?fromList(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==n&&this.emit("data",n),n},Readable.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(e,t){function r(t,h){debug("onunpipe"),t===s&&h&&!1===h.hasUnpiped&&(h.hasUnpiped=!0,debug("cleanup"),e.removeListener("close",d),e.removeListener("finish",o),e.removeListener("drain",f),e.removeListener("error",i),e.removeListener("unpipe",r),s.removeListener("end",n),s.removeListener("end",u),s.removeListener("data",a),p=!0,!l.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function n(){debug("onend"),e.end()}function a(t){debug("ondata"),c=!1,!1!==e.write(t)||c||((1===l.pipesCount&&l.pipes===e||l.pipesCount>1&&-1!==indexOf(l.pipes,e))&&!p&&(debug("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++,c=!0),s.pause())}function i(t){debug("onerror",t),u(),e.removeListener("error",i),0===EElistenerCount(e,"error")&&e.emit("error",t)}function d(){e.removeListener("finish",o),u()}function o(){debug("onfinish"),e.removeListener("close",d),u()}function u(){debug("unpipe"),s.unpipe(e)}var s=this,l=this._readableState;switch(l.pipesCount){case 0:l.pipes=e;break;case 1:l.pipes=[l.pipes,e];break;default:l.pipes.push(e)}l.pipesCount+=1,debug("pipe count=%d opts=%j",l.pipesCount,t);var h=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?n:u;l.endEmitted?processNextTick(h):s.once("end",h),e.on("unpipe",r);var f=pipeOnDrain(s);e.on("drain",f);var p=!1,c=!1;return s.on("data",a),prependListener(e,"error",i),e.once("close",d),e.once("finish",o),e.emit("pipe",s),l.flowing||(debug("pipe resume"),s.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,r);return this}var d=indexOf(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},Readable.prototype.on=function(e,t){var r=Stream.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&emitReadable(this):processNextTick(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(debug("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(a){(debug("wrapped data"),t.decoder&&(a=t.decoder.write(a)),!t.objectMode||null!==a&&void 0!==a)&&((t.objectMode||a&&a.length)&&(n.push(a)||(r=!0,e.pause())))});for(var a in e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<kProxyEvents.length;i++)e.on(kProxyEvents[i],n.emit.bind(n,kProxyEvents[i]));return n._read=function(t){debug("wrapped _read",t),r&&(r=!1,e.resume())},n},Readable._fromList=fromList;

}).call(this,require(83),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"101":101,"102":102,"103":103,"104":104,"105":105,"111":111,"18":18,"29":29,"42":42,"59":59,"82":82,"83":83,"96":96}],99:[function(require,module,exports){
"use strict";function TransformState(r){this.afterTransform=function(t,n){return afterTransform(r,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(r,t,n){var e=r._transformState;e.transforming=!1;var i=e.writecb;if(!i)return r.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!==n&&void 0!==n&&r.push(n),i(t);var a=r._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&r._read(a.highWaterMark)}function Transform(r){if(!(this instanceof Transform))return new Transform(r);Duplex.call(this,r),this._transformState=new TransformState(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(r,n){done(t,r,n)}):done(t)})}function done(r,t,n){if(t)return r.emit("error",t);null!==n&&void 0!==n&&r.push(n);var e=r._transformState;if(r._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e.transforming)throw new Error("Calling transform done when still transforming");return r.push(null)}module.exports=Transform;var Duplex=require(96),util=require(29);util.inherits=require(59),util.inherits(Transform,Duplex),Transform.prototype.push=function(r,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,r,t)},Transform.prototype._transform=function(r,t,n){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(r,t,n){var e=this._transformState;if(e.writecb=n,e.writechunk=r,e.writeencoding=t,!e.transforming){var i=this._readableState;(e.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(r){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Transform.prototype._destroy=function(r,t){var n=this;Duplex.prototype._destroy.call(this,r,function(r){t(r),n.emit("close")})};

},{"29":29,"59":59,"96":96}],100:[function(require,module,exports){
(function (process,global){
"use strict";function WriteReq(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(t,e)}}function _uint8ArrayToBuffer(e){return Buffer.from(e)}function _isUint8Array(e){return Buffer.isBuffer(e)||e instanceof OurUint8Array}function nop(){}function WritableState(e,t){Duplex=Duplex||require(96),this.objectMode=!!(e=e||{}).objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark;this.highWaterMark=r||0===r?r:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){if(Duplex=Duplex||require(96),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),Stream.call(this)}function writeAfterEnd(e,t){var r=new Error("write after end");e.emit("error",r),processNextTick(t,r)}function validChunk(e,t,r,i){var n=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),processNextTick(i,o),n=!1),n}function decodeChunk(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Buffer.from(t,r)),t}function writeOrBuffer(e,t,r,i,n,o){if(!r){var s=decodeChunk(t,i,n);i!==s&&(r=!0,n="buffer",i=s)}var a=t.objectMode?1:i.length;t.length+=a;var f=t.length<t.highWaterMark;if(f||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,a,i,n,o);return f}function doWrite(e,t,r,i,n,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function onwriteError(e,t,r,i,n){--t.pendingcb,r?(processNextTick(n,i),processNextTick(finishMaybe,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(n(i),e._writableState.errorEmitted=!0,e.emit("error",i),finishMaybe(e,t))}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(onwriteStateUpdate(r),t)onwriteError(e,r,i,t,n);else{var o=needFinish(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),i?asyncWrite(afterWrite,e,r,o,n):afterWrite(e,r,o,n)}}function afterWrite(e,t,r,i){r||onwriteDrain(e,t),t.pendingcb--,i(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=new Array(t.bufferedRequestCount),n=t.corkedRequestsFree;n.entry=r;for(var o=0,s=!0;r;)i[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,doWrite(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new CorkedRequest(t)}else{for(;r;){var a=r.chunk;if(doWrite(e,t,!1,t.objectMode?1:a.length,a,r.encoding,r.callback),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),finishMaybe(e,t)})}function prefinish(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,processNextTick(callFinal,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function finishMaybe(e,t){var r=needFinish(t);return r&&(prefinish(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?processNextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function onCorkedFinish(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var processNextTick=require(82);module.exports=Writable;var Duplex,asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=require(29);util.inherits=require(59);var realHasInstance,internalUtil={deprecate:require(135)},Stream=require(103),Buffer=require(111).Buffer,OurUint8Array=global.Uint8Array||function(){},destroyImpl=require(102);util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!realHasInstance.call(this,e)||e&&e._writableState instanceof WritableState}})):realHasInstance=function(e){return e instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,r){var i=this._writableState,n=!1,o=_isUint8Array(e)&&!i.objectMode;return o&&!Buffer.isBuffer(e)&&(e=_uint8ArrayToBuffer(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=nop),i.ended?writeAfterEnd(this,r):(o||validChunk(this,i,e,r))&&(i.pendingcb++,n=writeOrBuffer(this,i,o,e,t,r)),n},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Writable.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||endWritable(this,i,r)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(e,t){this.end(),t(e)};

}).call(this,require(83),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"102":102,"103":103,"111":111,"135":135,"29":29,"59":59,"82":82,"83":83,"96":96}],101:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function copyBuffer(t,e,n){t.copy(e,n)}var Buffer=require(111).Buffer;module.exports=function(){function t(){_classCallCheck(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var e=Buffer.allocUnsafe(t>>>0),n=this.head,h=0;n;)copyBuffer(n.data,e,h),h+=n.data.length,n=n.next;return e},t}();

},{"111":111}],102:[function(require,module,exports){
"use strict";function destroy(t,e){var r=this;this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||processNextTick(emitErrorNT,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(processNextTick(emitErrorNT,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}))}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(t,e){t.emit("error",e)}var processNextTick=require(82);module.exports={destroy:destroy,undestroy:undestroy};

},{"82":82}],103:[function(require,module,exports){
module.exports=require(42).EventEmitter;

},{"42":42}],104:[function(require,module,exports){
var toString={}.toString;module.exports=Array.isArray||function(r){return"[object Array]"==toString.call(r)};

},{}],105:[function(require,module,exports){
"use strict";function _normalizeEncoding(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function normalizeEncoding(t){var e=_normalizeEncoding(t);if("string"!=typeof e&&(Buffer.isEncoding===isEncoding||!isEncoding(t)))throw new Error("Unknown encoding: "+t);return e||t}function StringDecoder(t){var e;switch(this.encoding=normalizeEncoding(t),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,e=4;break;case"utf8":this.fillLast=utf8FillLast,e=4;break;case"base64":this.text=base64Text,this.end=base64End,e=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(e)}function utf8CheckByte(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function utf8CheckIncomplete(t,e,s){var i=e.length-1;if(i<s)return 0;var a=utf8CheckByte(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s?0:(a=utf8CheckByte(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s?0:(a=utf8CheckByte(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function utf8CheckExtraBytes(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"�".repeat(s);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�".repeat(s+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�".repeat(s+2)}}function utf8FillLast(t){var e=this.lastTotal-this.lastNeed,s=utf8CheckExtraBytes(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function utf8Text(t,e){var s=utf8CheckIncomplete(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function utf8End(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�".repeat(this.lastTotal-this.lastNeed):e}function utf16Text(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function utf16End(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):e}function base64Text(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function base64End(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function simpleWrite(t){return t.toString(this.encoding)}function simpleEnd(t){return t&&t.length?this.write(t):""}var Buffer=require(111).Buffer,isEncoding=Buffer.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},StringDecoder.prototype.end=utf8End,StringDecoder.prototype.text=utf8Text,StringDecoder.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};

},{"111":111}],106:[function(require,module,exports){
module.exports=require(107).PassThrough;

},{"107":107}],107:[function(require,module,exports){
exports=module.exports=require(98),exports.Stream=exports,exports.Readable=exports,exports.Writable=require(100),exports.Duplex=require(96),exports.Transform=require(99),exports.PassThrough=require(97);

},{"100":100,"96":96,"97":97,"98":98,"99":99}],108:[function(require,module,exports){
module.exports=require(107).Transform;

},{"107":107}],109:[function(require,module,exports){
module.exports=require(100);

},{"100":100}],110:[function(require,module,exports){
"use strict";module.exports=function(t,e,r){var n,o=t.length;if(!(e>=o||0===r)){var f=o-(r=e+r>o?o-e:r);for(n=e;n<f;++n)t[n]=t[n+r];t.length=f}};

},{}],111:[function(require,module,exports){
function copyProps(f,r){for(var e in f)r[e]=f[e]}function SafeBuffer(f,r,e){return Buffer(f,r,e)}var buffer=require(22),Buffer=buffer.Buffer;Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(f,r,e){if("number"==typeof f)throw new TypeError("Argument must not be a number");return Buffer(f,r,e)},SafeBuffer.alloc=function(f,r,e){if("number"!=typeof f)throw new TypeError("Argument must be a number");var u=Buffer(f);return void 0!==r?"string"==typeof e?u.fill(r,e):u.fill(r):u.fill(0),u},SafeBuffer.allocUnsafe=function(f){if("number"!=typeof f)throw new TypeError("Argument must be a number");return Buffer(f)},SafeBuffer.allocUnsafeSlow=function(f){if("number"!=typeof f)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(f)};

},{"22":22}],112:[function(require,module,exports){
function scrollToAnchor(o,c){if(o)try{var r=document.querySelector(o);r&&r.scrollIntoView(c)}catch(o){}}module.exports=scrollToAnchor;

},{}],113:[function(require,module,exports){
"use strict";var SDPUtils={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};SDPUtils.localCName=SDPUtils.generateIdentifier(),SDPUtils.splitLines=function(r){return r.trim().split("\n").map(function(r){return r.trim()})},SDPUtils.splitSections=function(r){return r.split("\nm=").map(function(r,t){return(t>0?"m="+r:r).trim()+"\r\n"})},SDPUtils.matchPrefix=function(r,t){return SDPUtils.splitLines(r).filter(function(r){return 0===r.indexOf(t)})},SDPUtils.parseCandidate=function(r){for(var t,e={foundation:(t=0===r.indexOf("a=candidate:")?r.substring(12).split(" "):r.substring(10).split(" "))[0],component:t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},s=8;s<t.length;s+=2)switch(t[s]){case"raddr":e.relatedAddress=t[s+1];break;case"rport":e.relatedPort=parseInt(t[s+1],10);break;case"tcptype":e.tcpType=t[s+1];break;default:e[t[s]]=t[s+1]}return e},SDPUtils.writeCandidate=function(r){var t=[];t.push(r.foundation),t.push(r.component),t.push(r.protocol.toUpperCase()),t.push(r.priority),t.push(r.ip),t.push(r.port);var e=r.type;return t.push("typ"),t.push(e),"host"!==e&&r.relatedAddress&&r.relatedPort&&(t.push("raddr"),t.push(r.relatedAddress),t.push("rport"),t.push(r.relatedPort)),r.tcpType&&"tcp"===r.protocol.toLowerCase()&&(t.push("tcptype"),t.push(r.tcpType)),"candidate:"+t.join(" ")},SDPUtils.parseIceOptions=function(r){return r.substr(14).split(" ")},SDPUtils.parseRtpMap=function(r){var t=r.substr(9).split(" "),e={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),e.name=t[0],e.clockRate=parseInt(t[1],10),e.numChannels=3===t.length?parseInt(t[2],10):1,e},SDPUtils.writeRtpMap=function(r){var t=r.payloadType;return void 0!==r.preferredPayloadType&&(t=r.preferredPayloadType),"a=rtpmap:"+t+" "+r.name+"/"+r.clockRate+(1!==r.numChannels?"/"+r.numChannels:"")+"\r\n"},SDPUtils.parseExtmap=function(r){var t=r.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},SDPUtils.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&"sendrecv"!==r.direction?"/"+r.direction:"")+" "+r.uri+"\r\n"},SDPUtils.parseFmtp=function(r){for(var t,e={},s=r.substr(r.indexOf(" ")+1).split(";"),n=0;n<s.length;n++)e[(t=s[n].trim().split("="))[0].trim()]=t[1];return e},SDPUtils.writeFmtp=function(r){var t="",e=r.payloadType;if(void 0!==r.preferredPayloadType&&(e=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){var s=[];Object.keys(r.parameters).forEach(function(t){s.push(t+"="+r.parameters[t])}),t+="a=fmtp:"+e+" "+s.join(";")+"\r\n"}return t},SDPUtils.parseRtcpFb=function(r){var t=r.substr(r.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},SDPUtils.writeRtcpFb=function(r){var t="",e=r.payloadType;return void 0!==r.preferredPayloadType&&(e=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(function(r){t+="a=rtcp-fb:"+e+" "+r.type+(r.parameter&&r.parameter.length?" "+r.parameter:"")+"\r\n"}),t},SDPUtils.parseSsrcMedia=function(r){var t=r.indexOf(" "),e={ssrc:parseInt(r.substr(7,t-7),10)},s=r.indexOf(":",t);return s>-1?(e.attribute=r.substr(t+1,s-t-1),e.value=r.substr(s+1)):e.attribute=r.substr(t+1),e},SDPUtils.getMid=function(r){var t=SDPUtils.matchPrefix(r,"a=mid:")[0];if(t)return t.substr(6)},SDPUtils.parseFingerprint=function(r){var t=r.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},SDPUtils.getDtlsParameters=function(r,t){return{role:"auto",fingerprints:SDPUtils.matchPrefix(r+t,"a=fingerprint:").map(SDPUtils.parseFingerprint)}},SDPUtils.writeDtlsParameters=function(r,t){var e="a=setup:"+t+"\r\n";return r.fingerprints.forEach(function(r){e+="a=fingerprint:"+r.algorithm+" "+r.value+"\r\n"}),e},SDPUtils.getIceParameters=function(r,t){var e=SDPUtils.splitLines(r);return{usernameFragment:(e=e.concat(SDPUtils.splitLines(t))).filter(function(r){return 0===r.indexOf("a=ice-ufrag:")})[0].substr(12),password:e.filter(function(r){return 0===r.indexOf("a=ice-pwd:")})[0].substr(10)}},SDPUtils.writeIceParameters=function(r){return"a=ice-ufrag:"+r.usernameFragment+"\r\na=ice-pwd:"+r.password+"\r\n"},SDPUtils.parseRtpParameters=function(r){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},e=SDPUtils.splitLines(r)[0].split(" "),s=3;s<e.length;s++){var n=e[s],a=SDPUtils.matchPrefix(r,"a=rtpmap:"+n+" ")[0];if(a){var i=SDPUtils.parseRtpMap(a),c=SDPUtils.matchPrefix(r,"a=fmtp:"+n+" ");switch(i.parameters=c.length?SDPUtils.parseFmtp(c[0]):{},i.rtcpFeedback=SDPUtils.matchPrefix(r,"a=rtcp-fb:"+n+" ").map(SDPUtils.parseRtcpFb),t.codecs.push(i),i.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(i.name.toUpperCase())}}}return SDPUtils.matchPrefix(r,"a=extmap:").forEach(function(r){t.headerExtensions.push(SDPUtils.parseExtmap(r))}),t},SDPUtils.writeRtpDescription=function(r,t){var e="";e+="m="+r+" ",e+=t.codecs.length>0?"9":"0",e+=" UDP/TLS/RTP/SAVPF ",e+=t.codecs.map(function(r){return void 0!==r.preferredPayloadType?r.preferredPayloadType:r.payloadType}).join(" ")+"\r\n",e+="c=IN IP4 0.0.0.0\r\n",e+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(r){e+=SDPUtils.writeRtpMap(r),e+=SDPUtils.writeFmtp(r),e+=SDPUtils.writeRtcpFb(r)});var s=0;return t.codecs.forEach(function(r){r.maxptime>s&&(s=r.maxptime)}),s>0&&(e+="a=maxptime:"+s+"\r\n"),e+="a=rtcp-mux\r\n",t.headerExtensions.forEach(function(r){e+=SDPUtils.writeExtmap(r)}),e},SDPUtils.parseRtpEncodingParameters=function(r){var t,e=[],s=SDPUtils.parseRtpParameters(r),n=-1!==s.fecMechanisms.indexOf("RED"),a=-1!==s.fecMechanisms.indexOf("ULPFEC"),i=SDPUtils.matchPrefix(r,"a=ssrc:").map(function(r){return SDPUtils.parseSsrcMedia(r)}).filter(function(r){return"cname"===r.attribute}),c=i.length>0&&i[0].ssrc,p=SDPUtils.matchPrefix(r,"a=ssrc-group:FID").map(function(r){var t=r.split(" ");return t.shift(),t.map(function(r){return parseInt(r,10)})});p.length>0&&p[0].length>1&&p[0][0]===c&&(t=p[0][1]),s.codecs.forEach(function(r){if("RTX"===r.name.toUpperCase()&&r.parameters.apt){var s={ssrc:c,codecPayloadType:parseInt(r.parameters.apt,10),rtx:{ssrc:t}};e.push(s),n&&((s=JSON.parse(JSON.stringify(s))).fec={ssrc:t,mechanism:a?"red+ulpfec":"red"},e.push(s))}}),0===e.length&&c&&e.push({ssrc:c});var o=SDPUtils.matchPrefix(r,"b=");return o.length&&(0===o[0].indexOf("b=TIAS:")?o=parseInt(o[0].substr(7),10):0===o[0].indexOf("b=AS:")&&(o=parseInt(o[0].substr(5),10)),e.forEach(function(r){r.maxBitrate=o})),e},SDPUtils.parseRtcpParameters=function(r){var t={},e=SDPUtils.matchPrefix(r,"a=ssrc:").map(function(r){return SDPUtils.parseSsrcMedia(r)}).filter(function(r){return"cname"===r.attribute})[0];e&&(t.cname=e.value,t.ssrc=e.ssrc);var s=SDPUtils.matchPrefix(r,"a=rtcp-rsize");t.reducedSize=s.length>0,t.compound=0===s.length;var n=SDPUtils.matchPrefix(r,"a=rtcp-mux");return t.mux=n.length>0,t},SDPUtils.parseMsid=function(r){var t,e=SDPUtils.matchPrefix(r,"a=msid:");if(1===e.length)return{stream:(t=e[0].substr(7).split(" "))[0],track:t[1]};var s=SDPUtils.matchPrefix(r,"a=ssrc:").map(function(r){return SDPUtils.parseSsrcMedia(r)}).filter(function(r){return"msid"===r.attribute});return s.length>0?{stream:(t=s[0].value.split(" "))[0],track:t[1]}:void 0},SDPUtils.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},SDPUtils.writeMediaSection=function(r,t,e,s){var n=SDPUtils.writeRtpDescription(r.kind,t);if(n+=SDPUtils.writeIceParameters(r.iceGatherer.getLocalParameters()),n+=SDPUtils.writeDtlsParameters(r.dtlsTransport.getLocalParameters(),"offer"===e?"actpass":"active"),n+="a=mid:"+r.mid+"\r\n",n+=r.direction?"a="+r.direction+"\r\n":r.rtpSender&&r.rtpReceiver?"a=sendrecv\r\n":r.rtpSender?"a=sendonly\r\n":r.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",r.rtpSender){var a="msid:"+s.id+" "+r.rtpSender.track.id+"\r\n";n+="a="+a,n+="a=ssrc:"+r.sendEncodingParameters[0].ssrc+" "+a,r.sendEncodingParameters[0].rtx&&(n+="a=ssrc:"+r.sendEncodingParameters[0].rtx.ssrc+" "+a,n+="a=ssrc-group:FID "+r.sendEncodingParameters[0].ssrc+" "+r.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return n+="a=ssrc:"+r.sendEncodingParameters[0].ssrc+" cname:"+SDPUtils.localCName+"\r\n",r.rtpSender&&r.sendEncodingParameters[0].rtx&&(n+="a=ssrc:"+r.sendEncodingParameters[0].rtx.ssrc+" cname:"+SDPUtils.localCName+"\r\n"),n},SDPUtils.getDirection=function(r,t){for(var e=SDPUtils.splitLines(r),s=0;s<e.length;s++)switch(e[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return e[s].substr(2)}return t?SDPUtils.getDirection(t):"sendrecv"},SDPUtils.getKind=function(r){return SDPUtils.splitLines(r)[0].split(" ")[0].substr(2)},SDPUtils.isRejected=function(r){return"0"===r.split(" ",2)[1]},module.exports=SDPUtils;

},{}],114:[function(require,module,exports){
(function (process){
function SignalhubWs(e,s){this.opened=!1,this.sockets=[],this.app=e;const t=this.channels=new Map;this.subscribers={get length(){return t.size}},Array.isArray(s)||(s=[s]),s=s.map(function(e){return-1===(e=e.replace(/\/$/,"")).indexOf("://")?"ws://"+e:e});let n=0;for(let t=0;t<s.length;t++){const i=new window.WebSocket(`${s[t]}/${e}`);this.sockets.push(i),i.addEventListener("open",()=>{if(++n===s.length){this.opened=!0,this.emit("open");for(let e of this.channels.values())e.emit("open")}}),i.addEventListener("message",e=>{this.onMessage(e)})}}const events=require(42),through2=require(130),inherits=require(59);inherits(SignalhubWs,events.EventEmitter),SignalhubWs.prototype.subscribe=function(e){if(this.closed)throw new Error("Cannot subscribe after close");return this.channels.has(e)?this.channels.get(e):(this.channels.set(e,through2.obj()),this.channels.get(e).on("close",function(){this.channels.remove(e)}),this.opened&&process.nextTick(()=>{this.channels.has(e)&&this.channels.get(e).emit("open")}),this.channels.get(e))},SignalhubWs.prototype.broadcast=function(e,s,t){if(this.closed)throw new Error("Cannot broadcast after close");const n={app:this.app,channel:e,message:s};this.sockets.forEach(e=>{e.send(JSON.stringify(n))}),t&&t()},SignalhubWs.prototype.onMessage=function(e){e=JSON.parse(e.data);for(let s of this.channels.keys())if(e.channel!==s){if(Array.isArray(s))for(let t=0;t<s.length;t++)s[t]===e.channel&&this.channels.get(s).write(e.message)}else this.channels.get(s).write(e.message)},SignalhubWs.prototype.close=function(e){if(this.closed)return;this.once("close:socket",()=>{this._closeChannels(e)});const s=this.sockets.length;if(0===s)return void this.emit("close");let t=0;this.sockets.forEach(e=>{e.addEventListener("close",()=>{++t===s&&this.emit("close:socket")}),process.nextTick(function(){e.close()})})},SignalhubWs.prototype._closeChannels=function(e){if(this.closed)return;this.closed=!0,e&&this.on("close",e);const s=this.channels.size;if(0===s)return void this.emit("close");let t=0;for(let e of this.channels.values())process.nextTick(()=>{e.end(()=>{++t===s&&(this.channels.clear(),this.emit("close"))})})},module.exports=function(e,s){return new SignalhubWs(e,s)};

}).call(this,require(83))
},{"130":130,"42":42,"59":59,"83":83}],115:[function(require,module,exports){
var varint=require(141);exports.encode=function e(n,t,r){var o=varint.encode(n=n>=0?2*n:-2*n-1,t,r);return e.bytes=varint.encode.bytes,o},exports.decode=function e(n,t){var r=varint.decode(n,t);return e.bytes=varint.decode.bytes,1&r?(r+1)/-2:r/2},exports.encodingLength=function(e){return varint.encodingLength(e>=0?2*e:-2*e-1)};

},{"141":141}],116:[function(require,module,exports){
(function (Buffer){
function Peer(e){var n=this;if(!(n instanceof Peer))return new Peer(e);if(n._id=randombytes(4).toString("hex").slice(0,7),n._debug("new peer %o",e),e=Object.assign({allowHalfOpen:!1},e),stream.Duplex.call(n,e),n.channelName=e.initiator?e.channelName||randombytes(20).toString("hex"):null,n._isChromium="undefined"!=typeof window&&!!window.webkitRTCPeerConnection,n.initiator=e.initiator||!1,n.channelConfig=e.channelConfig||Peer.channelConfig,n.config=e.config||Peer.config,n.constraints=n._transformConstraints(e.constraints||Peer.constraints),n.offerConstraints=n._transformConstraints(e.offerConstraints||{}),n.answerConstraints=n._transformConstraints(e.answerConstraints||{}),n.reconnectTimer=e.reconnectTimer||!1,n.sdpTransform=e.sdpTransform||function(e){return e},n.stream=e.stream||!1,n.trickle=void 0===e.trickle||e.trickle,n.destroyed=!1,n.connected=!1,n.remoteAddress=void 0,n.remoteFamily=void 0,n.remotePort=void 0,n.localAddress=void 0,n.localPort=void 0,n._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:getBrowserRTC(),!n._wrtc)throw"undefined"==typeof window?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser");if(n._pcReady=!1,n._channelReady=!1,n._iceComplete=!1,n._channel=null,n._pendingCandidates=[],n._previousStreams=[],n._chunk=null,n._cb=null,n._interval=null,n._reconnectTimeout=null,n._pc=new n._wrtc.RTCPeerConnection(n.config,n.constraints),n._isWrtc=Array.isArray(n._pc.RTCIceConnectionStates),n._isReactNativeWebrtc="number"==typeof n._pc._peerConnectionId,n._pc.oniceconnectionstatechange=function(){n._onIceConnectionStateChange()},n._pc.onsignalingstatechange=function(){n._onSignalingStateChange()},n._pc.onicecandidate=function(e){n._onIceCandidate(e)},n.initiator){var t=!1;n._pc.onnegotiationneeded=function(){t||n._createOffer(),t=!0},n._setupData({channel:n._pc.createDataChannel(n.channelName,n.channelConfig)})}else n._pc.ondatachannel=function(e){n._setupData(e)};"addTrack"in n._pc?(n.stream&&n.stream.getTracks().forEach(function(e){n._pc.addTrack(e,n.stream)}),n._pc.ontrack=function(e){n._onTrack(e)}):(n.stream&&n._pc.addStream(n.stream),n._pc.onaddstream=function(e){n._onAddStream(e)}),n.initiator&&n._isWrtc&&n._pc.onnegotiationneeded(),n._onFinishBound=function(){n._onFinish()},n.once("finish",n._onFinishBound)}function noop(){}module.exports=Peer;var debug=require(31)("simple-peer"),getBrowserRTC=require(47),inherits=require(59),randombytes=require(94),stream=require(107),MAX_BUFFERED_AMOUNT=65536;inherits(Peer,stream.Duplex),Peer.WEBRTC_SUPPORT=!!getBrowserRTC(),Peer.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}]},Peer.constraints={},Peer.channelConfig={},Object.defineProperty(Peer.prototype,"bufferSize",{get:function(){return this._channel&&this._channel.bufferedAmount||0}}),Peer.prototype.address=function(){return{port:this.localPort,family:"IPv4",address:this.localAddress}},Peer.prototype.signal=function(e){var n=this;if(n.destroyed)throw new Error("cannot signal after peer is destroyed");if("string"==typeof e)try{e=JSON.parse(e)}catch(n){e={}}n._debug("signal()"),e.candidate&&(n._pc.remoteDescription?n._addIceCandidate(e.candidate):n._pendingCandidates.push(e.candidate)),e.sdp&&n._pc.setRemoteDescription(new n._wrtc.RTCSessionDescription(e),function(){n.destroyed||(n._pendingCandidates.forEach(function(e){n._addIceCandidate(e)}),n._pendingCandidates=[],"offer"===n._pc.remoteDescription.type&&n._createAnswer())},function(e){n._onError(e)}),e.sdp||e.candidate||n._destroy(new Error("signal() called with invalid signal data"))},Peer.prototype._addIceCandidate=function(e){var n=this;try{n._pc.addIceCandidate(new n._wrtc.RTCIceCandidate(e),noop,function(e){n._onError(e)})}catch(e){n._destroy(new Error("error adding candidate: "+e.message))}},Peer.prototype.send=function(e){this._isWrtc&&Buffer.isBuffer(e)&&(e=new Uint8Array(e)),this._channel.send(e)},Peer.prototype.destroy=function(e){this._destroy(null,e)},Peer.prototype._destroy=function(e,n){var t=this;if(!t.destroyed){if(n&&t.once("close",n),t._debug("destroy (error: %s)",e&&e.message),t.readable=t.writable=!1,t._readableState.ended||t.push(null),t._writableState.finished||t.end(),t.destroyed=!0,t.connected=!1,t._pcReady=!1,t._channelReady=!1,t._previousStreams=null,clearInterval(t._interval),clearTimeout(t._reconnectTimeout),t._interval=null,t._reconnectTimeout=null,t._chunk=null,t._cb=null,t._onFinishBound&&t.removeListener("finish",t._onFinishBound),t._onFinishBound=null,t._pc){try{t._pc.close()}catch(e){}t._pc.oniceconnectionstatechange=null,t._pc.onsignalingstatechange=null,t._pc.onicecandidate=null,"addTrack"in t._pc?t._pc.ontrack=null:t._pc.onaddstream=null,t._pc.onnegotiationneeded=null,t._pc.ondatachannel=null}if(t._channel){try{t._channel.close()}catch(e){}t._channel.onmessage=null,t._channel.onopen=null,t._channel.onclose=null}t._pc=null,t._channel=null,e&&t.emit("error",e),t.emit("close")}},Peer.prototype._setupData=function(e){var n=this;n._channel=e.channel,n._channel.binaryType="arraybuffer","number"==typeof n._channel.bufferedAmountLowThreshold&&(n._channel.bufferedAmountLowThreshold=MAX_BUFFERED_AMOUNT),n.channelName=n._channel.label,n._channel.onmessage=function(e){n._onChannelMessage(e)},n._channel.onbufferedamountlow=function(){n._onChannelBufferedAmountLow()},n._channel.onopen=function(){n._onChannelOpen()},n._channel.onclose=function(){n._onChannelClose()}},Peer.prototype._read=function(){},Peer.prototype._write=function(e,n,t){var o=this;if(o.destroyed)return t(new Error("cannot write after peer is destroyed"));if(o.connected){try{o.send(e)}catch(e){return o._onError(e)}o._channel.bufferedAmount>MAX_BUFFERED_AMOUNT?(o._debug("start backpressure: bufferedAmount %d",o._channel.bufferedAmount),o._cb=t):t(null)}else o._debug("write before connect"),o._chunk=e,o._cb=t},Peer.prototype._onFinish=function(){function e(){setTimeout(function(){n._destroy()},100)}var n=this;n.destroyed||(n.connected?e():n.once("connect",e))},Peer.prototype._createOffer=function(){var e=this;e.destroyed||e._pc.createOffer(function(n){if(!e.destroyed){n.sdp=e.sdpTransform(n.sdp),e._pc.setLocalDescription(n,noop,function(n){e._onError(n)});var t=function(){var t=e._pc.localDescription||n;e._debug("signal"),e.emit("signal",{type:t.type,sdp:t.sdp})};e.trickle||e._iceComplete?t():e.once("_iceComplete",t)}},function(n){e._onError(n)},e.offerConstraints)},Peer.prototype._createAnswer=function(){var e=this;e.destroyed||e._pc.createAnswer(function(n){function t(){var t=e._pc.localDescription||n;e._debug("signal"),e.emit("signal",{type:t.type,sdp:t.sdp})}e.destroyed||(n.sdp=e.sdpTransform(n.sdp),e._pc.setLocalDescription(n,noop,function(n){e._onError(n)}),e.trickle||e._iceComplete?t():e.once("_iceComplete",t))},function(n){e._onError(n)},e.answerConstraints)},Peer.prototype._onIceConnectionStateChange=function(){var e=this;if(!e.destroyed){var n=e._pc.iceGatheringState,t=e._pc.iceConnectionState;e._debug("iceConnectionStateChange %s %s",n,t),e.emit("iceConnectionStateChange",n,t),"connected"!==t&&"completed"!==t||(clearTimeout(e._reconnectTimeout),e._pcReady=!0,e._maybeReady()),"disconnected"===t&&(e.reconnectTimer?(clearTimeout(e._reconnectTimeout),e._reconnectTimeout=setTimeout(function(){e._destroy()},e.reconnectTimer)):e._destroy()),"failed"===t&&e._destroy(new Error("Ice connection failed.")),"closed"===t&&e._destroy()}},Peer.prototype.getStats=function(e){var n=this;0===n._pc.getStats.length?n._pc.getStats().then(function(n){var t=[];n.forEach(function(e){t.push(e)}),e(t)},function(e){n._onError(e)}):n._isReactNativeWebrtc?n._pc.getStats(null,function(n){var t=[];n.forEach(function(e){t.push(e)}),e(t)},function(e){n._onError(e)}):n._pc.getStats.length>0?n._pc.getStats(function(n){var t=[];n.result().forEach(function(e){var n={};e.names().forEach(function(t){n[t]=e.stat(t)}),n.id=e.id,n.type=e.type,n.timestamp=e.timestamp,t.push(n)}),e(t)},function(e){n._onError(e)}):e([])},Peer.prototype._maybeReady=function(){var e=this;e._debug("maybeReady pc %s channel %s",e._pcReady,e._channelReady),!e.connected&&!e._connecting&&e._pcReady&&e._channelReady&&(e._connecting=!0,e.getStats(function(n){function t(n){var t=r[n.localCandidateId];t&&t.ip?(e.localAddress=t.ip,e.localPort=Number(t.port)):t&&t.ipAddress?(e.localAddress=t.ipAddress,e.localPort=Number(t.portNumber)):"string"==typeof n.googLocalAddress&&(t=n.googLocalAddress.split(":"),e.localAddress=t[0],e.localPort=Number(t[1]));var i=o[n.remoteCandidateId];i&&i.ip?(e.remoteAddress=i.ip,e.remotePort=Number(i.port)):i&&i.ipAddress?(e.remoteAddress=i.ipAddress,e.remotePort=Number(i.portNumber)):"string"==typeof n.googRemoteAddress&&(i=n.googRemoteAddress.split(":"),e.remoteAddress=i[0],e.remotePort=Number(i[1])),e.remoteFamily="IPv4",e._debug("connect local: %s:%s remote: %s:%s",e.localAddress,e.localPort,e.remoteAddress,e.remotePort)}e._connecting=!1,e.connected=!0;var o={},r={},i={};if(n.forEach(function(e){"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(o[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(r[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(i[e.id]=e)}),n.forEach(function(e){"transport"===e.type&&t(i[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&t(e)}),e._chunk){try{e.send(e._chunk)}catch(n){return e._onError(n)}e._chunk=null,e._debug('sent chunk from "write before connect"');var a=e._cb;e._cb=null,a(null)}"number"!=typeof e._channel.bufferedAmountLowThreshold&&(e._interval=setInterval(function(){e._onInterval()},150),e._interval.unref&&e._interval.unref()),e._debug("connect"),e.emit("connect")}))},Peer.prototype._onInterval=function(){!this._cb||!this._channel||this._channel.bufferedAmount>MAX_BUFFERED_AMOUNT||this._onChannelBufferedAmountLow()},Peer.prototype._onSignalingStateChange=function(){var e=this;e.destroyed||(e._debug("signalingStateChange %s",e._pc.signalingState),e.emit("signalingStateChange",e._pc.signalingState))},Peer.prototype._onIceCandidate=function(e){var n=this;n.destroyed||(e.candidate&&n.trickle?n.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||(n._iceComplete=!0,n.emit("_iceComplete")))},Peer.prototype._onChannelMessage=function(e){if(!this.destroyed){var n=e.data;n instanceof ArrayBuffer&&(n=new Buffer(n)),this.push(n)}},Peer.prototype._onChannelBufferedAmountLow=function(){var e=this;if(!e.destroyed&&e._cb){e._debug("ending backpressure: bufferedAmount %d",e._channel.bufferedAmount);var n=e._cb;e._cb=null,n(null)}},Peer.prototype._onChannelOpen=function(){var e=this;e.connected||e.destroyed||(e._debug("on channel open"),e._channelReady=!0,e._maybeReady())},Peer.prototype._onChannelClose=function(){this.destroyed||(this._debug("on channel close"),this._destroy())},Peer.prototype._onAddStream=function(e){this.destroyed||(this._debug("on add stream"),this.emit("stream",e.stream))},Peer.prototype._onTrack=function(e){var n=this;if(!n.destroyed){n._debug("on track");var t=e.streams[0].id;-1===n._previousStreams.indexOf(t)&&(n._previousStreams.push(t),n.emit("stream",e.streams[0]))}},Peer.prototype._onError=function(e){this.destroyed||(this._debug("error %s",e.message||e),this._destroy(e))},Peer.prototype._debug=function(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],debug.apply(null,e)},Peer.prototype._transformConstraints=function(e){if(0===Object.keys(e).length)return e;if((e.mandatory||e.optional)&&!this._isChromium){var n=Object.assign({},e.optional,e.mandatory);return void 0!==n.OfferToReceiveVideo&&(n.offerToReceiveVideo=n.OfferToReceiveVideo,delete n.OfferToReceiveVideo),void 0!==n.OfferToReceiveAudio&&(n.offerToReceiveAudio=n.OfferToReceiveAudio,delete n.OfferToReceiveAudio),n}return e.mandatory||e.optional||!this._isChromium?e:(void 0!==e.offerToReceiveVideo&&(e.OfferToReceiveVideo=e.offerToReceiveVideo,delete e.offerToReceiveVideo),void 0!==e.offerToReceiveAudio&&(e.OfferToReceiveAudio=e.offerToReceiveAudio,delete e.offerToReceiveAudio),{mandatory:e})};

}).call(this,require(22).Buffer)
},{"107":107,"22":22,"31":31,"47":47,"59":59,"94":94}],117:[function(require,module,exports){
function _add(_,r){var l=_.l+r.l,o={h:_.h+r.h+(l/2>>>31)>>>0,l:l>>>0};_.h=o.h,_.l=o.l}function _xor(_,r){_.h^=r.h,_.h>>>=0,_.l^=r.l,_.l>>>=0}function _rotl(_,r){var l={h:_.h<<r|_.l>>>32-r,l:_.l<<r|_.h>>>32-r};_.h=l.h,_.l=l.l}function _rotl32(_){var r=_.l;_.l=_.h,_.h=r}function _compress(_,r,l,o){_add(_,r),_add(l,o),_rotl(r,13),_rotl(o,16),_xor(r,_),_xor(o,l),_rotl32(_),_add(l,r),_add(_,o),_rotl(r,17),_rotl(o,21),_xor(r,l),_xor(o,_),_rotl32(l)}function _get_int(_,r){return _[r+3]<<24|_[r+2]<<16|_[r+1]<<8|_[r]}function fallback(_,r,l){var o,h={h:_get_int(l,4),l:_get_int(l,0)},t={h:_get_int(l,12),l:_get_int(l,8)},n={h:h.h,l:h.l},e=h,s={h:t.h,l:t.l},c=t,x=0,a=r.length,i=a-7,f=new Uint8Array(new ArrayBuffer(8));for(_xor(n,{h:1936682341,l:1886610805}),_xor(s,{h:1685025377,l:1852075885}),_xor(e,{h:1819895653,l:1852142177}),_xor(c,{h:1952801890,l:2037671283});x<i;)_xor(c,o={h:_get_int(r,x+4),l:_get_int(r,x)}),_compress(n,s,e,c),_compress(n,s,e,c),_xor(n,o),x+=8;f[7]=a;for(var d=0;x<a;)f[d++]=r[x++];for(;d<7;)f[d++]=0;_xor(c,o={h:f[7]<<24|f[6]<<16|f[5]<<8|f[4],l:f[3]<<24|f[2]<<16|f[1]<<8|f[0]}),_compress(n,s,e,c),_compress(n,s,e,c),_xor(n,o),_xor(e,{h:0,l:255}),_compress(n,s,e,c),_compress(n,s,e,c),_compress(n,s,e,c),_compress(n,s,e,c);var m=n;_xor(m,s),_xor(m,e),_xor(m,c),_[0]=255&m.l,_[1]=m.l>>8&255,_[2]=m.l>>16&255,_[3]=m.l>>24&255,_[4]=255&m.h,_[5]=m.h>>8&255,_[6]=m.h>>16&255,_[7]=m.h>>24&255}module.exports=fallback;

},{}],118:[function(require,module,exports){
function siphash24(s,e,a,o){return a||(a=new Uint8Array(8)),mod&&mod.exports?(s.length+24>mod.memory.length&&mod.realloc(s.length+24),mod.memory.set(e,8),mod.memory.set(s,24),mod.exports.siphash(24,s.length),a.set(mod.memory.subarray(0,8))):fallback(a,s,e),a}var wasm=require(119),fallback=require(117),assert=require(68);module.exports=siphash24;var BYTES=siphash24.BYTES=8,KEYBYTES=siphash24.KEYBYTES=16,mod=wasm();siphash24.WASM_SUPPORTED="undefined"!=typeof WebAssembly,siphash24.WASM_LOADED=!1,mod&&mod.onload(function(s){siphash24.WASM_LOADED=!s});

},{"117":117,"119":119,"68":68}],119:[function(require,module,exports){
function loadWebAssembly(A){function I(e){if(h.exports)return e();if(E)E.then(e.bind(null,null)).catch(e);else{try{if(A&&A.async)throw new Error("async");Q({instance:new WebAssembly.Instance(new WebAssembly.Module(g),C)})}catch(A){E=WebAssembly.instantiate(g,C).then(Q)}I(e)}}function Q(A){h.exports=A.instance.exports,h.memory=h.exports.memory&&h.exports.memory.buffer&&new Uint8Array(h.exports.memory.buffer)}if(!loadWebAssembly.supported)return null;var C=A&&A.imports,g=toUint8Array("AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArvCAHsCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgAEEGajEAAEIwhoQhBgsgBiAAQQVqMQAAQiiGhCEGCyAGIABBBGoxAABCIIaEIQYLIAYgAEEDajEAAEIYhoQhBgsgBiAAQQJqMQAAQhCGhCEGCyAGIABBAWoxAABCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs="),E=null,h={buffer:g,memory:null,exports:null,realloc:function(A){h.exports.memory.grow(Math.ceil(Math.abs(A-h.memory.length)/65536)),h.memory=new Uint8Array(h.exports.memory.buffer)},onload:I};return I(function(){}),h}function toUint8Array(A){return"function"==typeof atob?new Uint8Array(atob(A).split("").map(charCodeAt)):new(require(22).Buffer)(A,"base64")}function charCodeAt(A){return A.charCodeAt(0)}module.exports=loadWebAssembly,loadWebAssembly.supported="undefined"!=typeof WebAssembly;

},{"22":22}],120:[function(require,module,exports){
var blake2b=require(17);module.exports.crypto_generichash_PRIMITIVE="blake2b",module.exports.crypto_generichash_BYTES_MIN=blake2b.BYTES_MIN,module.exports.crypto_generichash_BYTES_MAX=blake2b.BYTES_MAX,module.exports.crypto_generichash_BYTES=blake2b.BYTES,module.exports.crypto_generichash_KEYBYTES_MIN=blake2b.KEYBYTES_MIN,module.exports.crypto_generichash_KEYBYTES_MAX=blake2b.KEYBYTES_MAX,module.exports.crypto_generichash_KEYBYTES=blake2b.KEYBYTES,module.exports.crypto_generichash_WASM_SUPPORTED=blake2b.WASM_SUPPORTED,module.exports.crypto_generichash_WASM_LOADED=!1,module.exports.crypto_generichash=function(e,r,o){blake2b(e.length,o).update(r).final(e)},module.exports.crypto_generichash_ready=blake2b.ready,module.exports.crypto_generichash_batch=function(e,r,o){for(var a=blake2b(e.length,o),t=0;t<r.length;t++)a.update(r[t]);a.final(e)},module.exports.crypto_generichash_instance=function(e,r){return null==r&&(r=module.exports.crypto_generichash_BYTES),blake2b(r,e)},blake2b.ready(function(e){module.exports.crypto_generichash_WASM_LOADED=blake2b.WASM_LOADED});

},{"17":17}],121:[function(require,module,exports){
function STORE64_LE(e,r){var o=1,t=0;for(e[0]=255&r;++t<8&&(o*=256);)e[t]=r/o&255}var assert=require(68),randombytes_buf=require(125).randombytes_buf,blake2b=require(17);module.exports.crypto_kdf_PRIMITIVE="blake2b",module.exports.crypto_kdf_BYTES_MIN=16,module.exports.crypto_kdf_BYTES_MAX=64,module.exports.crypto_kdf_CONTEXTBYTES=8,module.exports.crypto_kdf_KEYBYTES=64,module.exports.crypto_kdf_derive_from_key=function(e,r,o,t){var _=new Uint8Array(blake2b.PERSONALBYTES),d=new Uint8Array(blake2b.SALTBYTES);_.set(o,0,module.exports.crypto_kdf_CONTEXTBYTES),STORE64_LE(d,r);var a=Math.min(e.length,module.exports.crypto_kdf_BYTES_MAX);blake2b(a,t,d,_,!0).final(e)},module.exports.crypto_kdf_keygen=function(e){randombytes_buf(e.subarray(0,module.exports.crypto_kdf_KEYBYTES))};

},{"125":125,"17":17,"68":68}],122:[function(require,module,exports){
function shorthash(h,s,r,o){siphash(s,r,h,o)}var siphash=require(118);exports.crypto_shorthash_PRIMITIVE="siphash24",exports.crypto_shorthash_BYTES=siphash.BYTES,exports.crypto_shorthash_KEYBYTES=siphash.KEYBYTES,exports.crypto_shorthash_WASM_SUPPORTED=siphash.WASM_SUPPORTED,exports.crypto_shorthash_WASM_LOADED=siphash.WASM_LOADED,exports.crypto_shorthash=shorthash;

},{"118":118}],123:[function(require,module,exports){
function XOR(t,s){this._instance=xsalsa20(t,s)}var xsalsa20=require(157);exports.crypto_stream_KEYBYTES=32,exports.crypto_stream_NONCEBYTES=24,exports.crypto_stream_PRIMITIVE="xsalsa20",exports.crypto_stream=function(t,s,r){t.fill(0),exports.crypto_stream_xor(t,t,s,r)},exports.crypto_stream_xor=function(t,s,r,a){var e=xsalsa20(r,a);e.update(s,t),e.final()},exports.crypto_stream_xor_instance=function(t,s){return new XOR(t,s)},XOR.prototype.update=function(t,s){this._instance.update(s,t)},XOR.prototype.final=function(){this._instance.finalize(),this._instance=null};

},{"157":157}],124:[function(require,module,exports){
"use strict";function ts64(r,t,o,e){r[t]=o>>24&255,r[t+1]=o>>16&255,r[t+2]=o>>8&255,r[t+3]=255&o,r[t+4]=e>>24&255,r[t+5]=e>>16&255,r[t+6]=e>>8&255,r[t+7]=255&e}function vn(r,t,o,e,s){var c,h=0;for(c=0;c<s;c++)h|=r[t+c]^o[e+c];return(1&h-1>>>8)-1}function crypto_verify_16(r,t,o,e){return vn(r,t,o,e,16)}function crypto_verify_32(r,t,o,e){return vn(r,t,o,e,32)}function crypto_stream_xor(r,t,o,e,s,c,h){cs.crypto_stream_xor(r,o,c,h)}function crypto_stream(r,t,o,e,s){cs.crypto_stream(r,e,s)}function crypto_onetimeauth(r,t,o,e,s,c){var h=new poly1305(c);return h.update(o,e,s),h.finish(r,t),0}function crypto_onetimeauth_verify(r,t,o,e,s,c){var h=new Uint8Array(16);return crypto_onetimeauth(h,0,o,e,s,c),crypto_verify_16(r,t,h,0)}function crypto_secretbox(r,t,o,e,s){var c;if(o<32)return-1;for(crypto_stream_xor(r,0,t,0,o,e,s),crypto_onetimeauth(r,16,r,32,o-32,r),c=0;c<16;c++)r[c]=0;return 0}function crypto_secretbox_open(r,t,o,e,s){var c,h=new Uint8Array(32);if(o<32)return-1;if(crypto_stream(h,0,32,e,s),0!==crypto_onetimeauth_verify(t,16,t,32,o-32,h))return-1;for(crypto_stream_xor(r,0,t,0,o,e,s),c=0;c<32;c++)r[c]=0;return 0}function set25519(r,t){var o;for(o=0;o<16;o++)r[o]=0|t[o]}function car25519(r){var t,o,e=1;for(t=0;t<16;t++)o=r[t]+e+65535,e=Math.floor(o/65536),r[t]=o-65536*e;r[0]+=e-1+37*(e-1)}function sel25519(r,t,o){for(var e,s=~(o-1),c=0;c<16;c++)r[c]^=e=s&(r[c]^t[c]),t[c]^=e}function pack25519(r,t){var o,e,s,c=gf(),h=gf();for(o=0;o<16;o++)h[o]=t[o];for(car25519(h),car25519(h),car25519(h),e=0;e<2;e++){for(c[0]=h[0]-65517,o=1;o<15;o++)c[o]=h[o]-65535-(c[o-1]>>16&1),c[o-1]&=65535;c[15]=h[15]-32767-(c[14]>>16&1),s=c[15]>>16&1,c[14]&=65535,sel25519(h,c,1-s)}for(o=0;o<16;o++)r[2*o]=255&h[o],r[2*o+1]=h[o]>>8}function neq25519(r,t){var o=new Uint8Array(32),e=new Uint8Array(32);return pack25519(o,r),pack25519(e,t),crypto_verify_32(o,0,e,0)}function par25519(r){var t=new Uint8Array(32);return pack25519(t,r),1&t[0]}function unpack25519(r,t){var o;for(o=0;o<16;o++)r[o]=t[2*o]+(t[2*o+1]<<8);r[15]&=32767}function A(r,t,o){for(var e=0;e<16;e++)r[e]=t[e]+o[e]}function Z(r,t,o){for(var e=0;e<16;e++)r[e]=t[e]-o[e]}function M(r,t,o){var e,s,c=0,h=0,i=0,n=0,a=0,f=0,_=0,y=0,p=0,u=0,g=0,l=0,E=0,d=0,S=0,Y=0,b=0,B=0,m=0,v=0,T=0,M=0,A=0,x=0,k=0,w=0,U=0,O=0,C=0,R=0,Z=0,K=o[0],L=o[1],N=o[2],I=o[3],q=o[4],X=o[5],D=o[6],F=o[7],P=o[8],j=o[9],z=o[10],G=o[11],H=o[12],J=o[13],Q=o[14],V=o[15];c+=(e=t[0])*K,h+=e*L,i+=e*N,n+=e*I,a+=e*q,f+=e*X,_+=e*D,y+=e*F,p+=e*P,u+=e*j,g+=e*z,l+=e*G,E+=e*H,d+=e*J,S+=e*Q,Y+=e*V,h+=(e=t[1])*K,i+=e*L,n+=e*N,a+=e*I,f+=e*q,_+=e*X,y+=e*D,p+=e*F,u+=e*P,g+=e*j,l+=e*z,E+=e*G,d+=e*H,S+=e*J,Y+=e*Q,b+=e*V,i+=(e=t[2])*K,n+=e*L,a+=e*N,f+=e*I,_+=e*q,y+=e*X,p+=e*D,u+=e*F,g+=e*P,l+=e*j,E+=e*z,d+=e*G,S+=e*H,Y+=e*J,b+=e*Q,B+=e*V,n+=(e=t[3])*K,a+=e*L,f+=e*N,_+=e*I,y+=e*q,p+=e*X,u+=e*D,g+=e*F,l+=e*P,E+=e*j,d+=e*z,S+=e*G,Y+=e*H,b+=e*J,B+=e*Q,m+=e*V,a+=(e=t[4])*K,f+=e*L,_+=e*N,y+=e*I,p+=e*q,u+=e*X,g+=e*D,l+=e*F,E+=e*P,d+=e*j,S+=e*z,Y+=e*G,b+=e*H,B+=e*J,m+=e*Q,v+=e*V,f+=(e=t[5])*K,_+=e*L,y+=e*N,p+=e*I,u+=e*q,g+=e*X,l+=e*D,E+=e*F,d+=e*P,S+=e*j,Y+=e*z,b+=e*G,B+=e*H,m+=e*J,v+=e*Q,T+=e*V,_+=(e=t[6])*K,y+=e*L,p+=e*N,u+=e*I,g+=e*q,l+=e*X,E+=e*D,d+=e*F,S+=e*P,Y+=e*j,b+=e*z,B+=e*G,m+=e*H,v+=e*J,T+=e*Q,M+=e*V,y+=(e=t[7])*K,p+=e*L,u+=e*N,g+=e*I,l+=e*q,E+=e*X,d+=e*D,S+=e*F,Y+=e*P,b+=e*j,B+=e*z,m+=e*G,v+=e*H,T+=e*J,M+=e*Q,A+=e*V,p+=(e=t[8])*K,u+=e*L,g+=e*N,l+=e*I,E+=e*q,d+=e*X,S+=e*D,Y+=e*F,b+=e*P,B+=e*j,m+=e*z,v+=e*G,T+=e*H,M+=e*J,A+=e*Q,x+=e*V,u+=(e=t[9])*K,g+=e*L,l+=e*N,E+=e*I,d+=e*q,S+=e*X,Y+=e*D,b+=e*F,B+=e*P,m+=e*j,v+=e*z,T+=e*G,M+=e*H,A+=e*J,x+=e*Q,k+=e*V,g+=(e=t[10])*K,l+=e*L,E+=e*N,d+=e*I,S+=e*q,Y+=e*X,b+=e*D,B+=e*F,m+=e*P,v+=e*j,T+=e*z,M+=e*G,A+=e*H,x+=e*J,k+=e*Q,w+=e*V,l+=(e=t[11])*K,E+=e*L,d+=e*N,S+=e*I,Y+=e*q,b+=e*X,B+=e*D,m+=e*F,v+=e*P,T+=e*j,M+=e*z,A+=e*G,x+=e*H,k+=e*J,w+=e*Q,U+=e*V,E+=(e=t[12])*K,d+=e*L,S+=e*N,Y+=e*I,b+=e*q,B+=e*X,m+=e*D,v+=e*F,T+=e*P,M+=e*j,A+=e*z,x+=e*G,k+=e*H,w+=e*J,U+=e*Q,O+=e*V,d+=(e=t[13])*K,S+=e*L,Y+=e*N,b+=e*I,B+=e*q,m+=e*X,v+=e*D,T+=e*F,M+=e*P,A+=e*j,x+=e*z,k+=e*G,w+=e*H,U+=e*J,O+=e*Q,C+=e*V,S+=(e=t[14])*K,Y+=e*L,b+=e*N,B+=e*I,m+=e*q,v+=e*X,T+=e*D,M+=e*F,A+=e*P,x+=e*j,k+=e*z,w+=e*G,U+=e*H,O+=e*J,C+=e*Q,R+=e*V,Y+=(e=t[15])*K,h+=38*(B+=e*N),i+=38*(m+=e*I),n+=38*(v+=e*q),a+=38*(T+=e*X),f+=38*(M+=e*D),_+=38*(A+=e*F),y+=38*(x+=e*P),p+=38*(k+=e*j),u+=38*(w+=e*z),g+=38*(U+=e*G),l+=38*(O+=e*H),E+=38*(C+=e*J),d+=38*(R+=e*Q),S+=38*(Z+=e*V),c=(e=(c+=38*(b+=e*L))+(s=1)+65535)-65536*(s=Math.floor(e/65536)),h=(e=h+s+65535)-65536*(s=Math.floor(e/65536)),i=(e=i+s+65535)-65536*(s=Math.floor(e/65536)),n=(e=n+s+65535)-65536*(s=Math.floor(e/65536)),a=(e=a+s+65535)-65536*(s=Math.floor(e/65536)),f=(e=f+s+65535)-65536*(s=Math.floor(e/65536)),_=(e=_+s+65535)-65536*(s=Math.floor(e/65536)),y=(e=y+s+65535)-65536*(s=Math.floor(e/65536)),p=(e=p+s+65535)-65536*(s=Math.floor(e/65536)),u=(e=u+s+65535)-65536*(s=Math.floor(e/65536)),g=(e=g+s+65535)-65536*(s=Math.floor(e/65536)),l=(e=l+s+65535)-65536*(s=Math.floor(e/65536)),E=(e=E+s+65535)-65536*(s=Math.floor(e/65536)),d=(e=d+s+65535)-65536*(s=Math.floor(e/65536)),S=(e=S+s+65535)-65536*(s=Math.floor(e/65536)),Y=(e=Y+s+65535)-65536*(s=Math.floor(e/65536)),c=(e=(c+=s-1+37*(s-1))+(s=1)+65535)-65536*(s=Math.floor(e/65536)),h=(e=h+s+65535)-65536*(s=Math.floor(e/65536)),i=(e=i+s+65535)-65536*(s=Math.floor(e/65536)),n=(e=n+s+65535)-65536*(s=Math.floor(e/65536)),a=(e=a+s+65535)-65536*(s=Math.floor(e/65536)),f=(e=f+s+65535)-65536*(s=Math.floor(e/65536)),_=(e=_+s+65535)-65536*(s=Math.floor(e/65536)),y=(e=y+s+65535)-65536*(s=Math.floor(e/65536)),p=(e=p+s+65535)-65536*(s=Math.floor(e/65536)),u=(e=u+s+65535)-65536*(s=Math.floor(e/65536)),g=(e=g+s+65535)-65536*(s=Math.floor(e/65536)),l=(e=l+s+65535)-65536*(s=Math.floor(e/65536)),E=(e=E+s+65535)-65536*(s=Math.floor(e/65536)),d=(e=d+s+65535)-65536*(s=Math.floor(e/65536)),S=(e=S+s+65535)-65536*(s=Math.floor(e/65536)),Y=(e=Y+s+65535)-65536*(s=Math.floor(e/65536)),r[0]=c+=s-1+37*(s-1),r[1]=h,r[2]=i,r[3]=n,r[4]=a,r[5]=f,r[6]=_,r[7]=y,r[8]=p,r[9]=u,r[10]=g,r[11]=l,r[12]=E,r[13]=d,r[14]=S,r[15]=Y}function S(r,t){M(r,t,t)}function inv25519(r,t){var o,e=gf();for(o=0;o<16;o++)e[o]=t[o];for(o=253;o>=0;o--)S(e,e),2!==o&&4!==o&&M(e,e,t);for(o=0;o<16;o++)r[o]=e[o]}function pow2523(r,t){var o,e=gf();for(o=0;o<16;o++)e[o]=t[o];for(o=250;o>=0;o--)S(e,e),1!==o&&M(e,e,t);for(o=0;o<16;o++)r[o]=e[o]}function crypto_scalarmult(r,t,o){check(r,crypto_scalarmult_BYTES),check(t,crypto_scalarmult_SCALARBYTES),check(o,crypto_scalarmult_BYTES);var e,s,c=new Uint8Array(32),h=new Float64Array(80),i=gf(),n=gf(),a=gf(),f=gf(),_=gf(),y=gf();for(s=0;s<31;s++)c[s]=t[s];for(c[31]=127&t[31]|64,c[0]&=248,unpack25519(h,o),s=0;s<16;s++)n[s]=h[s],f[s]=i[s]=a[s]=0;for(i[0]=f[0]=1,s=254;s>=0;--s)sel25519(i,n,e=c[s>>>3]>>>(7&s)&1),sel25519(a,f,e),A(_,i,a),Z(i,i,a),A(a,n,f),Z(n,n,f),S(f,_),S(y,i),M(i,a,i),M(a,n,_),A(_,i,a),Z(i,i,a),S(n,i),Z(a,f,y),M(i,a,_121665),A(i,i,f),M(a,a,i),M(i,f,y),M(f,n,h),S(n,_),sel25519(i,n,e),sel25519(a,f,e);for(s=0;s<16;s++)h[s+16]=i[s],h[s+32]=a[s],h[s+48]=n[s],h[s+64]=f[s];var p=h.subarray(32),u=h.subarray(16);return inv25519(p,p),M(u,u,p),pack25519(r,u),0}function crypto_scalarmult_base(r,t){return crypto_scalarmult(r,t,_9)}function crypto_hashblocks_hl(r,t,o,e){for(var s,c,h,i,n,a,f,_,y,p,u,g,l,E,d,S,Y,b,B,m,v,T,M=new Int32Array(16),A=new Int32Array(16),x=r[0],k=r[1],w=r[2],U=r[3],O=r[4],C=r[5],R=r[6],Z=r[7],L=t[0],N=t[1],I=t[2],q=t[3],X=t[4],D=t[5],F=t[6],P=t[7],j=0;e>=128;){for(d=0;d<16;d++)M[d]=o[(S=8*d+j)+0]<<24|o[S+1]<<16|o[S+2]<<8|o[S+3],A[d]=o[S+4]<<24|o[S+5]<<16|o[S+6]<<8|o[S+7];for(d=0;d<80;d++)if(s=k,c=w,h=O,i=C,n=R,a=Z,f=N,_=I,y=X,p=D,u=F,g=P,B=65535&(b=P),m=b>>>16,v=65535&(Y=Z),T=Y>>>16,B+=65535&(b=(X>>>14|O<<18)^(X>>>18|O<<14)^(O>>>9|X<<23)),m+=b>>>16,v+=65535&(Y=(O>>>14|X<<18)^(O>>>18|X<<14)^(X>>>9|O<<23)),T+=Y>>>16,B+=65535&(b=X&D^~X&F),m+=b>>>16,v+=65535&(Y=O&C^~O&R),T+=Y>>>16,B+=65535&(b=K[2*d+1]),m+=b>>>16,v+=65535&(Y=K[2*d]),T+=Y>>>16,m+=(b=A[d%16])>>>16,v+=65535&(Y=M[d%16]),T+=Y>>>16,v+=(m+=(B+=65535&b)>>>16)>>>16,B=65535&(b=E=65535&B|m<<16),m=b>>>16,v=65535&(Y=l=65535&v|(T+=v>>>16)<<16),T=Y>>>16,B+=65535&(b=(L>>>28|x<<4)^(x>>>2|L<<30)^(x>>>7|L<<25)),m+=b>>>16,v+=65535&(Y=(x>>>28|L<<4)^(L>>>2|x<<30)^(L>>>7|x<<25)),T+=Y>>>16,m+=(b=L&N^L&I^N&I)>>>16,v+=65535&(Y=x&k^x&w^k&w),T+=Y>>>16,a=65535&(v+=(m+=(B+=65535&b)>>>16)>>>16)|(T+=v>>>16)<<16,g=65535&B|m<<16,B=65535&(b=q),m=b>>>16,v=65535&(Y=U),T=Y>>>16,m+=(b=E)>>>16,v+=65535&(Y=l),T+=Y>>>16,k=x,w=s,U=c,O=65535&(v+=(m+=(B+=65535&b)>>>16)>>>16)|(T+=v>>>16)<<16,C=h,R=i,Z=n,x=a,N=L,I=f,q=_,X=65535&B|m<<16,D=y,F=p,P=u,L=g,d%16==15)for(S=0;S<16;S++)B=65535&(b=A[S]),m=b>>>16,v=65535&(Y=M[S]),T=Y>>>16,B+=65535&(b=A[(S+9)%16]),m+=b>>>16,v+=65535&(Y=M[(S+9)%16]),T+=Y>>>16,B+=65535&(b=((E=A[(S+1)%16])>>>1|(l=M[(S+1)%16])<<31)^(E>>>8|l<<24)^(E>>>7|l<<25)),m+=b>>>16,v+=65535&(Y=(l>>>1|E<<31)^(l>>>8|E<<24)^l>>>7),T+=Y>>>16,m+=(b=((E=A[(S+14)%16])>>>19|(l=M[(S+14)%16])<<13)^(l>>>29|E<<3)^(E>>>6|l<<26))>>>16,v+=65535&(Y=(l>>>19|E<<13)^(E>>>29|l<<3)^l>>>6),T+=Y>>>16,M[S]=65535&(v+=(m+=(B+=65535&b)>>>16)>>>16)|(T+=v>>>16)<<16,A[S]=65535&B|m<<16;B=65535&(b=L),m=b>>>16,v=65535&(Y=x),T=Y>>>16,m+=(b=t[0])>>>16,v+=65535&(Y=r[0]),T+=Y>>>16,r[0]=x=65535&(v+=(m+=(B+=65535&b)>>>16)>>>16)|(T+=v>>>16)<<16,t[0]=L=65535&B|m<<16,B=65535&(b=N),m=b>>>16,v=65535&(Y=k),T=Y>>>16,m+=(b=t[1])>>>16,v+=65535&(Y=r[1]),T+=Y>>>16,r[1]=k=65535&(v+=(m+=(B+=65535&b)>>>16)>>>16)|(T+=v>>>16)<<16,t[1]=N=65535&B|m<<16,B=65535&(b=I),m=b>>>16,v=65535&(Y=w),T=Y>>>16,m+=(b=t[2])>>>16,v+=65535&(Y=r[2]),T+=Y>>>16,r[2]=w=65535&(v+=(m+=(B+=65535&b)>>>16)>>>16)|(T+=v>>>16)<<16,t[2]=I=65535&B|m<<16,B=65535&(b=q),m=b>>>16,v=65535&(Y=U),T=Y>>>16,m+=(b=t[3])>>>16,v+=65535&(Y=r[3]),T+=Y>>>16,r[3]=U=65535&(v+=(m+=(B+=65535&b)>>>16)>>>16)|(T+=v>>>16)<<16,t[3]=q=65535&B|m<<16,B=65535&(b=X),m=b>>>16,v=65535&(Y=O),T=Y>>>16,m+=(b=t[4])>>>16,v+=65535&(Y=r[4]),T+=Y>>>16,r[4]=O=65535&(v+=(m+=(B+=65535&b)>>>16)>>>16)|(T+=v>>>16)<<16,t[4]=X=65535&B|m<<16,B=65535&(b=D),m=b>>>16,v=65535&(Y=C),T=Y>>>16,m+=(b=t[5])>>>16,v+=65535&(Y=r[5]),T+=Y>>>16,r[5]=C=65535&(v+=(m+=(B+=65535&b)>>>16)>>>16)|(T+=v>>>16)<<16,t[5]=D=65535&B|m<<16,B=65535&(b=F),m=b>>>16,v=65535&(Y=R),T=Y>>>16,m+=(b=t[6])>>>16,v+=65535&(Y=r[6]),T+=Y>>>16,r[6]=R=65535&(v+=(m+=(B+=65535&b)>>>16)>>>16)|(T+=v>>>16)<<16,t[6]=F=65535&B|m<<16,B=65535&(b=P),m=b>>>16,v=65535&(Y=Z),T=Y>>>16,m+=(b=t[7])>>>16,v+=65535&(Y=r[7]),T+=Y>>>16,r[7]=Z=65535&(v+=(m+=(B+=65535&b)>>>16)>>>16)|(T+=v>>>16)<<16,t[7]=P=65535&B|m<<16,j+=128,e-=128}return e}function crypto_hash(r,t,o){var e,s=new Int32Array(8),c=new Int32Array(8),h=new Uint8Array(256),i=o;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,c[0]=4089235720,c[1]=2227873595,c[2]=4271175723,c[3]=1595750129,c[4]=2917565137,c[5]=725511199,c[6]=4215389547,c[7]=327033209,crypto_hashblocks_hl(s,c,t,o),o%=128,e=0;e<o;e++)h[e]=t[i-o+e];for(h[o]=128,h[(o=256-128*(o<112?1:0))-9]=0,ts64(h,o-8,i/536870912|0,i<<3),crypto_hashblocks_hl(s,c,h,o),e=0;e<8;e++)ts64(r,8*e,s[e],c[e]);return 0}function add(r,t){var o=gf(),e=gf(),s=gf(),c=gf(),h=gf(),i=gf(),n=gf(),a=gf(),f=gf();Z(o,r[1],r[0]),Z(f,t[1],t[0]),M(o,o,f),A(e,r[0],r[1]),A(f,t[0],t[1]),M(e,e,f),M(s,r[3],t[3]),M(s,s,D2),M(c,r[2],t[2]),A(c,c,c),Z(h,e,o),Z(i,c,s),A(n,c,s),A(a,e,o),M(r[0],h,i),M(r[1],a,n),M(r[2],n,i),M(r[3],h,a)}function cswap(r,t,o){var e;for(e=0;e<4;e++)sel25519(r[e],t[e],o)}function pack(r,t){var o=gf(),e=gf(),s=gf();inv25519(s,t[2]),M(o,t[0],s),M(e,t[1],s),pack25519(r,e),r[31]^=par25519(o)<<7}function scalarmult(r,t,o){var e,s;for(set25519(r[0],gf0),set25519(r[1],gf1),set25519(r[2],gf1),set25519(r[3],gf0),s=255;s>=0;--s)cswap(r,t,e=o[s/8|0]>>(7&s)&1),add(t,r),add(r,r),cswap(r,t,e)}function scalarbase(r,t){var o=[gf(),gf(),gf(),gf()];set25519(o[0],X),set25519(o[1],Y),set25519(o[2],gf1),M(o[3],X,Y),scalarmult(r,o,t)}function crypto_sign_keypair(r,t,o){check(r,sodium.crypto_sign_PUBLICKEYBYTES),check(t,sodium.crypto_sign_SECRETKEYBYTES);var e,s=new Uint8Array(64),c=[gf(),gf(),gf(),gf()];for(o||randombytes(t,32),crypto_hash(s,t,32),s[0]&=248,s[31]&=127,s[31]|=64,scalarbase(c,s),pack(r,c),e=0;e<32;e++)t[e+32]=r[e];return 0}function crypto_sign_seed_keypair(r,t,o){check(o,sodium.crypto_sign_SEEDBYTES),o.copy(t),crypto_sign_keypair(r,t,!0)}function modL(r,t){var o,e,s,c;for(e=63;e>=32;--e){for(o=0,s=e-32,c=e-12;s<c;++s)t[s]+=o-16*t[e]*L[s-(e-32)],t[s]-=256*(o=t[s]+128>>8);t[s]+=o,t[e]=0}for(o=0,s=0;s<32;s++)t[s]+=o-(t[31]>>4)*L[s],o=t[s]>>8,t[s]&=255;for(s=0;s<32;s++)t[s]-=o*L[s];for(e=0;e<32;e++)t[e+1]+=t[e]>>8,r[e]=255&t[e]}function reduce(r){var t,o=new Float64Array(64);for(t=0;t<64;t++)o[t]=r[t];for(t=0;t<64;t++)r[t]=0;modL(r,o)}function crypto_sign(r,t,o){check(r,crypto_sign_BYTES+t.length),check(t,0),check(o,crypto_sign_SECRETKEYBYTES);var e,s,c=t.length,h=new Uint8Array(64),i=new Uint8Array(64),n=new Uint8Array(64),a=new Float64Array(64),f=[gf(),gf(),gf(),gf()];crypto_hash(h,o,32),h[0]&=248,h[31]&=127,h[31]|=64;for(e=0;e<c;e++)r[64+e]=t[e];for(e=0;e<32;e++)r[32+e]=h[32+e];for(crypto_hash(n,r.subarray(32),c+32),reduce(n),scalarbase(f,n),pack(r,f),e=32;e<64;e++)r[e]=o[e];for(crypto_hash(i,r,c+64),reduce(i),e=0;e<64;e++)a[e]=0;for(e=0;e<32;e++)a[e]=n[e];for(e=0;e<32;e++)for(s=0;s<32;s++)a[e+s]+=i[e]*h[s];modL(r.subarray(32),a)}function crypto_sign_detached(r,t,o){var e=new Uint8Array(t.length+crypto_sign_BYTES);crypto_sign(e,t,o);for(var s=0;s<crypto_sign_BYTES;s++)r[s]=e[s]}function unpackneg(r,t){var o=gf(),e=gf(),s=gf(),c=gf(),h=gf(),i=gf(),n=gf();return set25519(r[2],gf1),unpack25519(r[1],t),S(s,r[1]),M(c,s,D),Z(s,s,r[2]),A(c,r[2],c),S(h,c),S(i,h),M(n,i,h),M(o,n,s),M(o,o,c),pow2523(o,o),M(o,o,s),M(o,o,c),M(o,o,c),M(r[0],o,c),S(e,r[0]),M(e,e,c),neq25519(e,s)&&M(r[0],r[0],I),S(e,r[0]),M(e,e,c),neq25519(e,s)?-1:(par25519(r[0])===t[31]>>7&&Z(r[0],gf0,r[0]),M(r[3],r[0],r[1]),0)}function crypto_sign_open(r,t,o){check(r,t.length-crypto_sign_BYTES),check(t,crypto_sign_BYTES),check(o,crypto_sign_PUBLICKEYBYTES);var e,s=t.length,c=new Uint8Array(t.length),h=new Uint8Array(32),i=new Uint8Array(64),n=[gf(),gf(),gf(),gf()],a=[gf(),gf(),gf(),gf()];if(-1,s<64)return!1;if(unpackneg(a,o))return!1;for(e=0;e<s;e++)c[e]=t[e];for(e=0;e<32;e++)c[e+32]=o[e];if(crypto_hash(i,c,s),reduce(i),scalarmult(n,a,i),scalarbase(a,t.subarray(32)),add(n,a),pack(h,n),s-=64,crypto_verify_32(t,0,h,0)){for(e=0;e<s;e++)c[e]=0;return!1}for(e=0;e<s;e++)r[e]=t[e+64];return s,!0}function crypto_sign_verify_detached(r,t,o){check(r,crypto_sign_BYTES);var e=new Uint8Array(t.length+crypto_sign_BYTES),s=0;for(s=0;s<crypto_sign_BYTES;s++)e[s]=r[s];for(s=0;s<t.length;s++)e[s+crypto_sign_BYTES]=t[s];return crypto_sign_open(t,e,o)}function crypto_secretbox_detached(r,t,o,e,s){check(t,sodium.crypto_secretbox_MACBYTES);var c=new Uint8Array(o.length+t.length);crypto_secretbox_easy(c,o,e,s),r.set(c.subarray(0,o.length)),t.set(c.subarray(o.length))}function crypto_secretbox_open_detached(r,t,o,e,s){check(o,sodium.crypto_secretbox_MACBYTES);var c=new Uint8Array(t.length+o.length);return c.set(t),c.set(o,r.length),crypto_secretbox_open_easy(r,c,e,s)}function crypto_secretbox_easy(r,t,o,e){var s;check(t,0),check(r,t.length+sodium.crypto_secretbox_MACBYTES),check(o,crypto_secretbox_NONCEBYTES),check(e,crypto_secretbox_KEYBYTES);var c=new Uint8Array(crypto_secretbox_ZEROBYTES+t.length),h=new Uint8Array(c.length);for(s=0;s<t.length;s++)c[s+crypto_secretbox_ZEROBYTES]=t[s];for(crypto_secretbox(h,c,c.length,o,e),s=crypto_secretbox_BOXZEROBYTES;s<h.length;s++)r[s-crypto_secretbox_BOXZEROBYTES]=h[s]}function crypto_secretbox_open_easy(r,t,o,e){var s;check(t,sodium.crypto_secretbox_MACBYTES),check(r,t.length-sodium.crypto_secretbox_MACBYTES),check(o,crypto_secretbox_NONCEBYTES),check(e,crypto_secretbox_KEYBYTES);var c=new Uint8Array(crypto_secretbox_BOXZEROBYTES+t.length),h=new Uint8Array(c.length);for(s=0;s<t.length;s++)c[s+crypto_secretbox_BOXZEROBYTES]=t[s];if(c.length<32)return!1;if(0!==crypto_secretbox_open(h,c,c.length,o,e))return!1;for(s=crypto_secretbox_ZEROBYTES;s<h.length;s++)r[s-crypto_secretbox_ZEROBYTES]=h[s];return!0}function cleanup(r){for(var t=0;t<r.length;t++)r[t]=0}function check(r,t){if(!r||t&&r.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}function forward(r){Object.keys(r).forEach(function(t){module.exports[t]=r[t]})}var sodium=module.exports,cs=require(123),gf=function(r){var t,o=new Float64Array(16);if(r)for(t=0;t<r.length;t++)o[t]=r[t];return o},randombytes=require(125).randombytes,_0=new Uint8Array(16),_9=new Uint8Array(32);_9[0]=9;var gf0=gf(),gf1=gf([1]),_121665=gf([56129,1]),D=gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),D2=gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),X=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Y=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),I=gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),poly1305=function(r){var t,o,e,s,c,h,i,n;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,this.r[0]=8191&(t=255&r[0]|(255&r[1])<<8),this.r[1]=8191&(t>>>13|(o=255&r[2]|(255&r[3])<<8)<<3),this.r[2]=7939&(o>>>10|(e=255&r[4]|(255&r[5])<<8)<<6),this.r[3]=8191&(e>>>7|(s=255&r[6]|(255&r[7])<<8)<<9),this.r[4]=255&(s>>>4|(c=255&r[8]|(255&r[9])<<8)<<12),this.r[5]=c>>>1&8190,this.r[6]=8191&(c>>>14|(h=255&r[10]|(255&r[11])<<8)<<2),this.r[7]=8065&(h>>>11|(i=255&r[12]|(255&r[13])<<8)<<5),this.r[8]=8191&(i>>>8|(n=255&r[14]|(255&r[15])<<8)<<8),this.r[9]=n>>>5&127,this.pad[0]=255&r[16]|(255&r[17])<<8,this.pad[1]=255&r[18]|(255&r[19])<<8,this.pad[2]=255&r[20]|(255&r[21])<<8,this.pad[3]=255&r[22]|(255&r[23])<<8,this.pad[4]=255&r[24]|(255&r[25])<<8,this.pad[5]=255&r[26]|(255&r[27])<<8,this.pad[6]=255&r[28]|(255&r[29])<<8,this.pad[7]=255&r[30]|(255&r[31])<<8};poly1305.prototype.blocks=function(r,t,o){for(var e,s,c,h,i,n,a,f,_,y,p,u,g,l,E,d,S,Y,b,B=this.fin?0:2048,m=this.h[0],v=this.h[1],T=this.h[2],M=this.h[3],A=this.h[4],x=this.h[5],k=this.h[6],w=this.h[7],U=this.h[8],O=this.h[9],C=this.r[0],R=this.r[1],Z=this.r[2],K=this.r[3],L=this.r[4],N=this.r[5],I=this.r[6],q=this.r[7],X=this.r[8],D=this.r[9];o>=16;)y=_=0,y+=(m+=8191&(e=255&r[t+0]|(255&r[t+1])<<8))*C,y+=(v+=8191&(e>>>13|(s=255&r[t+2]|(255&r[t+3])<<8)<<3))*(5*D),y+=(T+=8191&(s>>>10|(c=255&r[t+4]|(255&r[t+5])<<8)<<6))*(5*X),y+=(M+=8191&(c>>>7|(h=255&r[t+6]|(255&r[t+7])<<8)<<9))*(5*q),_=(y+=(A+=8191&(h>>>4|(i=255&r[t+8]|(255&r[t+9])<<8)<<12))*(5*I))>>>13,y&=8191,y+=(x+=i>>>1&8191)*(5*N),y+=(k+=8191&(i>>>14|(n=255&r[t+10]|(255&r[t+11])<<8)<<2))*(5*L),y+=(w+=8191&(n>>>11|(a=255&r[t+12]|(255&r[t+13])<<8)<<5))*(5*K),y+=(U+=8191&(a>>>8|(f=255&r[t+14]|(255&r[t+15])<<8)<<8))*(5*Z),p=_+=(y+=(O+=f>>>5|B)*(5*R))>>>13,p+=m*R,p+=v*C,p+=T*(5*D),p+=M*(5*X),_=(p+=A*(5*q))>>>13,p&=8191,p+=x*(5*I),p+=k*(5*N),p+=w*(5*L),p+=U*(5*K),_+=(p+=O*(5*Z))>>>13,p&=8191,u=_,u+=m*Z,u+=v*R,u+=T*C,u+=M*(5*D),_=(u+=A*(5*X))>>>13,u&=8191,u+=x*(5*q),u+=k*(5*I),u+=w*(5*N),u+=U*(5*L),g=_+=(u+=O*(5*K))>>>13,g+=m*K,g+=v*Z,g+=T*R,g+=M*C,_=(g+=A*(5*D))>>>13,g&=8191,g+=x*(5*X),g+=k*(5*q),g+=w*(5*I),g+=U*(5*N),l=_+=(g+=O*(5*L))>>>13,l+=m*L,l+=v*K,l+=T*Z,l+=M*R,_=(l+=A*C)>>>13,l&=8191,l+=x*(5*D),l+=k*(5*X),l+=w*(5*q),l+=U*(5*I),E=_+=(l+=O*(5*N))>>>13,E+=m*N,E+=v*L,E+=T*K,E+=M*Z,_=(E+=A*R)>>>13,E&=8191,E+=x*C,E+=k*(5*D),E+=w*(5*X),E+=U*(5*q),d=_+=(E+=O*(5*I))>>>13,d+=m*I,d+=v*N,d+=T*L,d+=M*K,_=(d+=A*Z)>>>13,d&=8191,d+=x*R,d+=k*C,d+=w*(5*D),d+=U*(5*X),S=_+=(d+=O*(5*q))>>>13,S+=m*q,S+=v*I,S+=T*N,S+=M*L,_=(S+=A*K)>>>13,S&=8191,S+=x*Z,S+=k*R,S+=w*C,S+=U*(5*D),Y=_+=(S+=O*(5*X))>>>13,Y+=m*X,Y+=v*q,Y+=T*I,Y+=M*N,_=(Y+=A*L)>>>13,Y&=8191,Y+=x*K,Y+=k*Z,Y+=w*R,Y+=U*C,b=_+=(Y+=O*(5*D))>>>13,b+=m*D,b+=v*X,b+=T*q,b+=M*I,_=(b+=A*N)>>>13,b&=8191,b+=x*L,b+=k*K,b+=w*Z,b+=U*R,m=y=8191&(_=(_=((_+=(b+=O*C)>>>13)<<2)+_|0)+(y&=8191)|0),v=p+=_>>>=13,T=u&=8191,M=g&=8191,A=l&=8191,x=E&=8191,k=d&=8191,w=S&=8191,U=Y&=8191,O=b&=8191,t+=16,o-=16;this.h[0]=m,this.h[1]=v,this.h[2]=T,this.h[3]=M,this.h[4]=A,this.h[5]=x,this.h[6]=k,this.h[7]=w,this.h[8]=U,this.h[9]=O},poly1305.prototype.finish=function(r,t){var o,e,s,c,h=new Uint16Array(10);if(this.leftover){for(c=this.leftover,this.buffer[c++]=1;c<16;c++)this.buffer[c]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(o=this.h[1]>>>13,this.h[1]&=8191,c=2;c<10;c++)this.h[c]+=o,o=this.h[c]>>>13,this.h[c]&=8191;for(this.h[0]+=5*o,o=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=o,o=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=o,h[0]=this.h[0]+5,o=h[0]>>>13,h[0]&=8191,c=1;c<10;c++)h[c]=this.h[c]+o,o=h[c]>>>13,h[c]&=8191;for(h[9]-=8192,e=(1^o)-1,c=0;c<10;c++)h[c]&=e;for(e=~e,c=0;c<10;c++)this.h[c]=this.h[c]&e|h[c];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),this.h[0]=65535&(s=this.h[0]+this.pad[0]),c=1;c<8;c++)this.h[c]=65535&(s=(this.h[c]+this.pad[c]|0)+(s>>>16)|0);r[t+0]=this.h[0]>>>0&255,r[t+1]=this.h[0]>>>8&255,r[t+2]=this.h[1]>>>0&255,r[t+3]=this.h[1]>>>8&255,r[t+4]=this.h[2]>>>0&255,r[t+5]=this.h[2]>>>8&255,r[t+6]=this.h[3]>>>0&255,r[t+7]=this.h[3]>>>8&255,r[t+8]=this.h[4]>>>0&255,r[t+9]=this.h[4]>>>8&255,r[t+10]=this.h[5]>>>0&255,r[t+11]=this.h[5]>>>8&255,r[t+12]=this.h[6]>>>0&255,r[t+13]=this.h[6]>>>8&255,r[t+14]=this.h[7]>>>0&255,r[t+15]=this.h[7]>>>8&255},poly1305.prototype.update=function(r,t,o){var e,s;if(this.leftover){for((s=16-this.leftover)>o&&(s=o),e=0;e<s;e++)this.buffer[this.leftover+e]=r[t+e];if(o-=s,t+=s,this.leftover+=s,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(o>=16&&(this.blocks(r,t,s=o-o%16),t+=s,o-=s),o){for(e=0;e<o;e++)this.buffer[this.leftover+e]=r[t+e];this.leftover+=o}};var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],L=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),crypto_secretbox_KEYBYTES=32,crypto_secretbox_NONCEBYTES=24,crypto_secretbox_ZEROBYTES=32,crypto_secretbox_BOXZEROBYTES=16,crypto_scalarmult_BYTES=32,crypto_scalarmult_SCALARBYTES=32,crypto_box_PUBLICKEYBYTES=32,crypto_box_SECRETKEYBYTES=32,crypto_box_BEFORENMBYTES=32,crypto_box_NONCEBYTES=crypto_secretbox_NONCEBYTES,crypto_box_ZEROBYTES=crypto_secretbox_ZEROBYTES,crypto_box_BOXZEROBYTES=crypto_secretbox_BOXZEROBYTES,crypto_sign_BYTES=64,crypto_sign_PUBLICKEYBYTES=32,crypto_sign_SECRETKEYBYTES=64,crypto_sign_SEEDBYTES=32,crypto_hash_BYTES=64;sodium.memzero=function(r,t){for(var o=t;o<r;o++)arr[o]=0},sodium.crypto_sign_BYTES=crypto_sign_BYTES,sodium.crypto_sign_PUBLICKEYBYTES=crypto_sign_PUBLICKEYBYTES,sodium.crypto_sign_SECRETKEYBYTES=crypto_sign_SECRETKEYBYTES,sodium.crypto_sign_SEEDBYTES=crypto_sign_SEEDBYTES,sodium.crypto_sign_keypair=crypto_sign_keypair,sodium.crypto_sign_seed_keypair=crypto_sign_seed_keypair,sodium.crypto_sign=crypto_sign,sodium.crypto_sign_open=crypto_sign_open,sodium.crypto_sign_detached=crypto_sign_detached,sodium.crypto_sign_verify_detached=crypto_sign_verify_detached,forward(require(120)),forward(require(121)),forward(require(122)),forward(require(125)),forward(require(123)),sodium.crypto_scalarmult_BYTES=crypto_scalarmult_BYTES,sodium.crypto_scalarmult_SCALARBYTES=crypto_scalarmult_SCALARBYTES,sodium.crypto_scalarmult_base=crypto_scalarmult_base,sodium.crypto_scalarmult=crypto_scalarmult,sodium.crypto_secretbox_KEYBYTES=crypto_secretbox_KEYBYTES,sodium.crypto_secretbox_NONCEBYTES=crypto_secretbox_NONCEBYTES,sodium.crypto_secretbox_MACBYTES=16,sodium.crypto_secretbox_easy=crypto_secretbox_easy,sodium.crypto_secretbox_open_easy=crypto_secretbox_open_easy,sodium.crypto_secretbox_detached=crypto_secretbox_detached,sodium.crypto_secretbox_open_detached=crypto_secretbox_open_detached;

},{"120":120,"121":121,"122":122,"123":123,"125":125}],125:[function(require,module,exports){
(function (global){
var assert=require(68),randombytes=function(){var e=65536,r="undefined"!=typeof global?r=global.crypto||global.msCrypto:null;return r&&r.getRandomValues?function(n,o){for(var t=0;t<o;t+=e)r.getRandomValues(n.subarray(t,t+Math.min(o-t,e)))}:"undefined"!=typeof require&&(r=require(18))&&r.randomBytes?function(e,n){e.set(r.randomBytes(n))}:function(){throw new Error("No secure random number generator available")}}();Object.defineProperty(module.exports,"randombytes",{value:randombytes}),module.exports.randombytes_buf=function(e){randombytes(e,e.length)};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"18":18,"68":68}],126:[function(require,module,exports){
module.exports=require(124);

},{"124":124}],127:[function(require,module,exports){
function indexOf(e,n){for(var r=new Array(n.length),t=0,f=0;t<e.length&&f<n.length;){var l=e[t],o=n[f];l!==o?l<o?t++:r[f++]=-1:r[f++]=t}for(;f<n.length;f++)r[f]=-1;return r}module.exports=indexOf;

},{}],128:[function(require,module,exports){
(function (Buffer){
function Bitfield(e){if(!(this instanceof Bitfield))return new Bitfield(e);if(e||(e={}),Buffer.isBuffer(e)&&(e={buffer:e}),this.pageOffset=e.pageOffset||0,this.pageSize=e.pageSize||1024,this.pages=e.pages||pager(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,!powerOfTwo(this.pageSize))throw new Error("The page size should be a power of two");if(this._trackUpdates=!!e.trackUpdates,this._pageMask=this.pageSize-1,e.buffer){for(var t=0;t<e.buffer.length;t+=this.pageSize)this.pages.set(t/this.pageSize,e.buffer.slice(t,t+this.pageSize));this.byteLength=e.buffer.length,this.length=8*this.byteLength}}function alloc(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t}function powerOfTwo(e){return!(e&e-1)}var pager=require(64);module.exports=Bitfield,Bitfield.prototype.get=function(e){var t=7&e;return!!(this.getByte((e-t)/8)&128>>t)},Bitfield.prototype.getByte=function(e){var t=e&this._pageMask,i=this.pages.get((e-t)/this.pageSize,!0);return i?i.buffer[t+this.pageOffset]:0},Bitfield.prototype.set=function(e,t){var i=7&e,s=(e-i)/8,f=this.getByte(s);return this.setByte(s,t?f|128>>i:f&(255^128>>i))},Bitfield.prototype.toBuffer=function(){for(var e=alloc(this.pages.length*this.pageSize),t=0;t<this.pages.length;t++){var i=this.pages.get(t,!0);i&&i.buffer.copy(e,t*this.pageSize,this.pageOffset,this.pageOffset+this.pageSize)}return e},Bitfield.prototype.setByte=function(e,t){var i=e&this._pageMask,s=this.pages.get((e-i)/this.pageSize,!1);return s.buffer[i+=this.pageOffset]!==t&&(s.buffer[i]=t,e>=this.byteLength&&(this.byteLength=e+1,this.length=8*this.byteLength),this._trackUpdates&&this.pages.updated(s),!0)};

}).call(this,require(22).Buffer)
},{"22":22,"64":64}],129:[function(require,module,exports){
function Stream(){EE.call(this)}module.exports=Stream;var EE=require(42).EventEmitter,inherits=require(59);inherits(Stream,EE),Stream.Readable=require(107),Stream.Writable=require(109),Stream.Duplex=require(95),Stream.Transform=require(108),Stream.PassThrough=require(106),Stream.Stream=Stream,Stream.prototype.pipe=function(e,r){function t(r){e.writable&&!1===e.write(r)&&m.pause&&m.pause()}function n(){m.readable&&m.resume&&m.resume()}function a(){u||(u=!0,e.end())}function o(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function i(e){if(s(),0===EE.listenerCount(this,"error"))throw e}function s(){m.removeListener("data",t),e.removeListener("drain",n),m.removeListener("end",a),m.removeListener("close",o),m.removeListener("error",i),e.removeListener("error",i),m.removeListener("end",s),m.removeListener("close",s),e.removeListener("close",s)}var m=this;m.on("data",t),e.on("drain",n),e._isStdio||r&&!1===r.end||(m.on("end",a),m.on("close",o));var u=!1;return m.on("error",i),e.on("error",i),m.on("end",s),m.on("close",s),e.on("close",s),e.emit("pipe",m),e};

},{"106":106,"107":107,"108":108,"109":109,"42":42,"59":59,"95":95}],130:[function(require,module,exports){
(function (process){
function DestroyableTransform(r){Transform.call(this,r),this._destroyed=!1}function noop(r,t,o){o(null,r)}function through2(r){return function(t,o,e){return"function"==typeof t&&(e=o,o=t,t={}),"function"!=typeof o&&(o=noop),"function"!=typeof e&&(e=null),r(t,o,e)}}var Transform=require(108),inherits=require(138).inherits,xtend=require(159);inherits(DestroyableTransform,Transform),DestroyableTransform.prototype.destroy=function(r){if(!this._destroyed){this._destroyed=!0;var t=this;process.nextTick(function(){r&&t.emit("error",r),t.emit("close")})}},module.exports=through2(function(r,t,o){var e=new DestroyableTransform(r);return e._transform=t,o&&(e._flush=o),e}),module.exports.ctor=through2(function(r,t,o){function e(t){if(!(this instanceof e))return new e(t);this.options=xtend(r,t),DestroyableTransform.call(this,this.options)}return inherits(e,DestroyableTransform),e.prototype._transform=t,o&&(e.prototype._flush=o),e}),module.exports.obj=through2(function(r,t,o){var e=new DestroyableTransform(xtend({objectMode:!0,highWaterMark:16},r));return e._transform=t,o&&(e._flush=o),e});

}).call(this,require(83))
},{"108":108,"138":138,"159":159,"83":83}],131:[function(require,module,exports){
(function (process){
"use strict";function thunky(n){var t=function o(r){var c=[r];t=function(n){c.push(n)},n(function(n){function r(n){nextTick(apply,n,i)}var i=arguments;for(t=isError(n)?o:r;c.length;)r(c.shift())})};return function(n){t(n||noop)}}function isError(n){return"[object Error]"===Object.prototype.toString.call(n)}function noop(){}function apply(n,t){n.apply(null,t)}function upgrade(n){42===n&&(nextTick=process.nextTick)}function nextTickArgs(n,t,o){process.nextTick(function(){n(t,o)})}var nextTick=nextTickArgs;process.nextTick(upgrade,42),module.exports=thunky;

}).call(this,require(83))
},{"83":83}],132:[function(require,module,exports){
(function (Buffer){
var UINT_32_MAX=Math.pow(2,32);exports.encodingLength=function(){return 8},exports.encode=function(e,t,r){t||(t=new Buffer(8)),r||(r=0);var n=Math.floor(e/UINT_32_MAX),o=e-n*UINT_32_MAX;return t.writeUInt32BE(n,r),t.writeUInt32BE(o,r+4),t},exports.decode=function(e,t){t||(t=0);var r=e.readUInt32BE(t),n=e.readUInt32BE(t+4);return r*UINT_32_MAX+n},exports.encode.bytes=8,exports.decode.bytes=8;

}).call(this,require(22).Buffer)
},{"22":22}],133:[function(require,module,exports){
function remove(e,r){if(!(r>=e.length||r<0)){var n=e.pop();if(r<e.length){var o=e[r];return e[r]=n,o}return n}}module.exports=remove;

},{}],134:[function(require,module,exports){
function add(e,n){return has(e,n)?n:(n._index=e.length,e.push(n),n)}function has(e,n){return e[n._index]===n}function remove(e,n){if(!has(e,n))return null;var d=e.pop();return d!==n&&(e[n._index]=d,d._index=n._index),n}function swap(e,n,d){if(has(e,n)&&has(e,d)){var i=n._index;n._index=d._index,e[n._index]=n,d._index=i,e[d._index]=d}}exports.add=add,exports.has=has,exports.remove=remove,exports.swap=swap;

},{}],135:[function(require,module,exports){
(function (global){
function deprecate(r,e){if(config("noDeprecation"))return r;var o=!1;return function(){if(!o){if(config("throwDeprecation"))throw new Error(e);config("traceDeprecation")?console.trace(e):console.warn(e),o=!0}return r.apply(this,arguments)}}function config(r){try{if(!global.localStorage)return!1}catch(r){return!1}var e=global.localStorage[r];return null!=e&&"true"===String(e).toLowerCase()}module.exports=deprecate;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],136:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};

},{}],137:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};

},{}],138:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r))return e.stylize("[Function"+(r.name?": "+r.name:"")+"]","special");if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var u,c="",a=!1,l=["{","}"];(isArray(r)&&(a=!0,l=["[","]"]),isFunction(r))&&(c=" [Function"+(r.name?": "+r.name:"")+"]");return isRegExp(r)&&(c=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(c=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(c=" "+formatError(r)),0!==o.length||a&&0!=r.length?t<0?isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=a?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,a)}),e.seen.pop(),reduceToSingleString(u,c,l)):l[0]+c+l[1]}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;s<u;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,c;if((c=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]}).get?u=e.stylize(c.set?"[Getter/Setter]":"[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=isNull(t)?formatValue(e,c.value,null):formatValue(e,c.value,t-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){return e.reduce(function(e,r){return 0,r.indexOf("\n")>=0&&0,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}t=1;for(var n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(e){return"[Circular]"}default:return e}}),s=n[t];t<i;s=n[++t])isNull(s)||!isObject(s)?o+=" "+s:o+=" "+inspect(s);return o},exports.deprecate=function(e,r){if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(!0===process.noDeprecation)return e;var t=!1;return function(){if(!t){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),t=!0}return e.apply(this,arguments)}};var debugEnviron,debugs={};exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require(137);var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require(136),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};

}).call(this,require(83),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"136":136,"137":137,"83":83}],139:[function(require,module,exports){
function read(e,r){var o,t=0,a=0,d=r=r||0,n=e.length;do{if(d>=n)throw read.bytes=0,new RangeError("Could not decode varint");o=e[d++],t+=a<28?(o&REST)<<a:(o&REST)*Math.pow(2,a),a+=7}while(o>=MSB);return read.bytes=d-r,t}module.exports=read;var MSB=128,REST=127;

},{}],140:[function(require,module,exports){
function encode(e,o,r){o=o||[];for(var S=r=r||0;e>=INT;)o[r++]=255&e|MSB,e/=128;for(;e&MSBALL;)o[r++]=255&e|MSB,e>>>=7;return o[r]=0|e,encode.bytes=r-S+1,o}module.exports=encode;var MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);

},{}],141:[function(require,module,exports){
module.exports={encode:require(140),decode:require(139),encodingLength:require(142)};

},{"139":139,"140":140,"142":142}],142:[function(require,module,exports){
var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63);module.exports=function(N){return N<N1?1:N<N2?2:N<N3?3:N<N4?4:N<N5?5:N<N6?6:N<N7?7:N<N8?8:N<N9?9:10};

},{}],143:[function(require,module,exports){
function Wayfarer(r){function e(r){var e=t(r),a=new Array(arguments.length);a[0]=e.params;for(var n=1;n<a.length;n++)a[n]=arguments[n];return e.cb.apply(e.cb,a)}function t(r){var e=i.match(r);if(e&&e.cb)return new a(e);var t=i.match(n);if(t&&t.cb)return new a(t);throw new Error("route '"+r+"' did not match")}function a(r){this.cb=r.cb,this.route=r.cb.route,this.params=r.params}if(!(this instanceof Wayfarer))return new Wayfarer(r);var n=(r||"").replace(/^\//,""),i=trie();return e._trie=i,e.on=function(r,t){return t.route=r=r||"/",t&&t._wayfarer&&t._trie?i.mount(r,t._trie.trie):i.create(r).cb=t,e},e.emit=e,e.match=t,e._wayfarer=!0,e}var trie=require(144);module.exports=Wayfarer;

},{"144":144}],144:[function(require,module,exports){
function Trie(){if(!(this instanceof Trie))return new Trie;this.trie={nodes:{}}}var mutate=require(160),xtend=require(159);module.exports=Trie,Trie.prototype.create=function(e){var n=e.replace(/^\//,"").split("/");return function e(r,t){var o=n.hasOwnProperty(r)&&n[r];if(!1===o)return t;var i=null;return/^:|^\*/.test(o)?(t.nodes.hasOwnProperty("$$")?i=t.nodes.$$:t.nodes.$$=i={nodes:{}},"*"===o[0]&&(t.wildcard=!0),t.name=o.replace(/^:|^\*/,"")):t.nodes.hasOwnProperty(o)?i=t.nodes[o]:t.nodes[o]=i={nodes:{}},e(r+1,i)}(0,this.trie)},Trie.prototype.match=function(e){var n=e.replace(/^\//,"").split("/"),r={},t=function e(t,o){if(void 0!==o){var i=n[t];if(void 0===i)return o;if(o.nodes.hasOwnProperty(i))return e(t+1,o.nodes[i]);if(o.name){try{r[o.name]=decodeURIComponent(i)}catch(n){return e(t,void 0)}return e(t+1,o.nodes.$$)}if(o.wildcard){try{r.wildcard=decodeURIComponent(n.slice(t).join("/"))}catch(n){return e(t,void 0)}return o.nodes.$$}return e(t+1)}}(0,this.trie);if(t)return(t=xtend(t)).params=r,t},Trie.prototype.mount=function(e,n){var r=e.replace(/^\//,"").split("/"),t=null;if(1===r.length)t=this.create(r[0]);else{var o=r.join("/");r[0],t=this.create(o)}mutate(t.nodes,n.nodes),n.name&&(t.name=n.name),t.nodes[""]&&(Object.keys(t.nodes[""]).forEach(function(e){"nodes"!==e&&(t[e]=t.nodes[""][e])}),mutate(t.nodes,t.nodes[""].nodes),delete t.nodes[""].nodes)};

},{"159":159,"160":160}],145:[function(require,module,exports){
(function (Buffer){
function createStream(){var e=new ebml.Encoder,r=new ebml.Decoder,n=[];e.on("data",function(e){n.push(e)}),r.on("data",function(r){"start"===r[0]&&"Cluster"===r[1].name&&(t.push(Buffer.concat(n)),n=[]),e.write(r)});var t=through(function(e,n,t){r.write(e),t(null)},function(u){r.end(),e.end(),t.push(Buffer.concat(n)),n=[],u(null)});return t}var ebml=require(34),through=require(130);module.exports=createStream;

}).call(this,require(22).Buffer)
},{"130":130,"22":22,"34":34}],146:[function(require,module,exports){
"use strict";!function(){var e=require(154).log,r=require(154).browserDetails;module.exports.browserDetails=r,module.exports.extractVersion=require(154).extractVersion,module.exports.disableLog=require(154).disableLog;var i=require(147)||null,s=require(149)||null,o=require(151)||null,a=require(153)||null;switch(r.browser){case"opera":case"chrome":if(!i||!i.shimPeerConnection)return void e("Chrome shim is not included in this adapter release.");e("adapter.js shimming chrome."),module.exports.browserShim=i,i.shimGetUserMedia(),i.shimMediaStream(),i.shimSourceObject(),i.shimPeerConnection(),i.shimOnTrack();break;case"firefox":if(!o||!o.shimPeerConnection)return void e("Firefox shim is not included in this adapter release.");e("adapter.js shimming firefox."),module.exports.browserShim=o,o.shimGetUserMedia(),o.shimSourceObject(),o.shimPeerConnection(),o.shimOnTrack();break;case"edge":if(!s||!s.shimPeerConnection)return void e("MS edge shim is not included in this adapter release.");e("adapter.js shimming edge."),module.exports.browserShim=s,s.shimGetUserMedia(),s.shimPeerConnection();break;case"safari":if(!a)return void e("Safari shim is not included in this adapter release.");e("adapter.js shimming safari."),module.exports.browserShim=a,a.shimGetUserMedia();break;default:e("Unsupported browser!")}}();

},{"147":147,"149":149,"151":151,"153":153,"154":154}],147:[function(require,module,exports){
"use strict";var logging=require(154).log,browserDetails=require(154).browserDetails,chromeShim={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){var t=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",function(n){var r=new Event("track");r.track=n.track,r.receiver={track:n.track},r.streams=[e.stream],t.dispatchEvent(r)}),e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var t=this;this._srcObject=e,this.src&&URL.revokeObjectURL(this.src),e?(this.src=URL.createObjectURL(e),e.addEventListener("addtrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}),e.addEventListener("removetrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})):this.src=""}}))},shimPeerConnection:function(){window.RTCPeerConnection=function(e,t){logging("PeerConnection"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new webkitRTCPeerConnection(e,t),r=n.getStats.bind(n);return n.getStats=function(e,t,n){var i=this,o=arguments;if(arguments.length>0&&"function"==typeof e)return r(e,t);var c=function(e){var t={};return e.result().forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},a=function(e,t){var n=new Map(Object.keys(e).map(function(t){return[t,e[t]]}));return t=t||e,Object.keys(t).forEach(function(e){n[e]=t[e]}),n};if(arguments.length>=2){return r.apply(this,[function(e){o[1](a(c(e)))},arguments[0]])}return new Promise(function(t,n){r.apply(i,1===o.length&&"object"==typeof e?[function(e){t(a(c(e)))},n]:[function(e){t(a(c(e),e.result()))},n])}).then(t,n)},n},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise(function(r,i){t.apply(e,[r,i,n])})}return t.apply(this,arguments)}}),browserDetails.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this,r=new Promise(function(r,i){t.apply(n,[e[0],r,i])});return e.length<2?r:r.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};module.exports={shimMediaStream:chromeShim.shimMediaStream,shimOnTrack:chromeShim.shimOnTrack,shimSourceObject:chromeShim.shimSourceObject,shimPeerConnection:chromeShim.shimPeerConnection,shimGetUserMedia:require(148)};

},{"148":148,"154":154}],148:[function(require,module,exports){
"use strict";var logging=require(154).log;module.exports=function(){var e=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var i={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var t="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==t.exact&&"number"==typeof t.exact&&(t.min=t.max=t.exact);var a=function(e,i){return e?e+i.charAt(0).toUpperCase()+i.slice(1):"deviceId"===i?"sourceId":i};if(void 0!==t.ideal){i.optional=i.optional||[];var o={};"number"==typeof t.ideal?(o[a("min",n)]=t.ideal,i.optional.push(o),(o={})[a("max",n)]=t.ideal,i.optional.push(o)):(o[a("",n)]=t.ideal,i.optional.push(o))}void 0!==t.exact&&"number"!=typeof t.exact?(i.mandatory=i.mandatory||{},i.mandatory[a("",n)]=t.exact):["min","max"].forEach(function(e){void 0!==t[e]&&(i.mandatory=i.mandatory||{},i.mandatory[a(e,n)]=t[e])})}}),e.advanced&&(i.optional=(i.optional||[]).concat(e.advanced)),i},i=function(i,n){if((i=JSON.parse(JSON.stringify(i)))&&i.audio&&(i.audio=e(i.audio)),i&&"object"==typeof i.video){var t=i.video.facingMode;if((t=t&&("object"==typeof t?t:{ideal:t}))&&("user"===t.exact||"environment"===t.exact||"user"===t.ideal||"environment"===t.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete i.video.facingMode,"environment"===t.exact||"environment"===t.ideal))return navigator.mediaDevices.enumerateDevices().then(function(a){var o=(a=a.filter(function(e){return"videoinput"===e.kind})).find(function(e){return-1!==e.label.toLowerCase().indexOf("back")})||a.length&&a[a.length-1];return o&&(i.video.deviceId=t.exact?{exact:o.deviceId}:{ideal:o.deviceId}),i.video=e(i.video),logging("chrome: "+JSON.stringify(i)),n(i)});i.video=e(i.video)}return logging("chrome: "+JSON.stringify(i)),n(i)},n=function(e){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};navigator.getUserMedia=function(e,t,a){i(e,function(e){navigator.webkitGetUserMedia(e,t,function(e){a(n(e))})})};var t=function(e){return new Promise(function(i,n){navigator.getUserMedia(e,i,n)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:t,enumerateDevices:function(){return new Promise(function(e){var i={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){e(n.map(function(e){return{label:e.label,kind:i[e.kind],deviceId:e.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return i(e,function(e){return a(e).then(function(i){if(e.audio&&!i.getAudioTracks().length||e.video&&!i.getVideoTracks().length)throw i.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return i},function(e){return Promise.reject(n(e))})})}}else navigator.mediaDevices.getUserMedia=function(e){return t(e)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){logging("Dummy mediaDevices.addEventListener called.")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){logging("Dummy mediaDevices.removeEventListener called.")})};

},{"154":154}],149:[function(require,module,exports){
"use strict";var SDPUtils=require(113),browserDetails=require(154).browserDetails,edgeShim={shimPeerConnection:function(){if(window.RTCIceGatherer){window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e});var e=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(t){e.set.call(this,t);var n=new Event("enabled");n.enabled=t,this.dispatchEvent(n)}})}window.RTCPeerConnection=function(e){var t=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){t[e]=n[e].bind(n)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return t.localStreams},this.getRemoteStreams=function(){return t.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},e&&e.iceTransportPolicy)switch(e.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=e.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}if(this.usingBundle=e&&"max-bundle"===e.bundlePolicy,e&&e.iceServers){var i=JSON.parse(JSON.stringify(e.iceServers));this.iceOptions.iceServers=i.filter(function(e){if(e&&e.urls){var t=e.urls;return"string"==typeof t&&(t=[t]),!!(t=t.filter(function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")||0===e.indexOf("stun:")&&browserDetails.version>=14393})[0])}return!1})}this._config=e,this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this,t=SDPUtils.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(n){if(!n.candidate||0===Object.keys(n.candidate).length)for(var i=1;i<t.length;i++)-1===t[i].indexOf("\r\na=end-of-candidates\r\n")&&(t[i]+="a=end-of-candidates\r\n");else-1===n.candidate.candidate.indexOf("typ endOfCandidates")&&(t[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n");(e.localDescription.sdp=t.join(""),e.dispatchEvent(n),null!==e.onicecandidate&&e.onicecandidate(n),n.candidate||"complete"===e.iceGatheringState)||e.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state})&&(e.iceGatheringState="complete")}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this._config},window.RTCPeerConnection.prototype.addStream=function(e){var t=e.clone();e.getTracks().forEach(function(e,n){var i=t.getTracks()[n];e.addEventListener("enabled",function(e){i.enabled=e.enabled})}),this.localStreams.push(t),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return e.codecs.forEach(function(e){for(var i=0;i<t.codecs.length;i++){var r=t.codecs[i];if(e.name.toLowerCase()===r.name.toLowerCase()&&e.clockRate===r.clockRate){r.numChannels=Math.min(e.numChannels,r.numChannels),n.codecs.push(r),r.rtcpFeedback=r.rtcpFeedback.filter(function(t){for(var n=0;n<e.rtcpFeedback.length;n++)if(e.rtcpFeedback[n].type===t.type&&e.rtcpFeedback[n].parameter===t.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var i=0;i<t.headerExtensions.length;i++){var r=t.headerExtensions[i];if(e.uri===r.uri){n.headerExtensions.push(r);break}}}),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var n=this,i=new RTCIceGatherer(n.iceOptions),r=new RTCIceTransport(i);i.onlocalcandidate=function(a){var s=new Event("icecandidate");s.candidate={sdpMid:e,sdpMLineIndex:t};var o=a.candidate,c=!o||0===Object.keys(o).length;c?(void 0===i.state&&(i.state="completed"),s.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(o.component="RTCP"===r.component?2:1,s.candidate.candidate=SDPUtils.writeCandidate(o));var d=SDPUtils.splitSections(n.localDescription.sdp);-1===s.candidate.candidate.indexOf("typ endOfCandidates")?d[s.candidate.sdpMLineIndex+1]+="a="+s.candidate.candidate+"\r\n":d[s.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n",n.localDescription.sdp=d.join("");var l=n.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});switch(n.iceGatheringState){case"new":n._localIceCandidatesBuffer.push(s),c&&l&&n._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":n._emitBufferedCandidates(),n.dispatchEvent(s),null!==n.onicecandidate&&n.onicecandidate(s),l&&(n.dispatchEvent(new Event("icecandidate")),null!==n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete")}},r.onicestatechange=function(){n._updateConnectionState()};var a=new RTCDtlsTransport(r);return a.ondtlsstatechange=function(){n._updateConnectionState()},a.onerror=function(){a.state="failed",n._updateConnectionState()},{iceGatherer:i,iceTransport:r,dtlsTransport:a}},window.RTCPeerConnection.prototype._transceive=function(e,t,n){var i=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:SDPUtils.localCName},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),n&&e.rtpReceiver&&("video"===e.kind&&e.recvEncodingParameters&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),i.encodings=e.recvEncodingParameters,i.rtcp={cname:e.cname},e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,n,i=this;if("offer"===e.type)this._pendingOffer&&(t=SDPUtils.splitSections(e.sdp),n=t.shift(),t.forEach(function(e,t){var n=SDPUtils.parseRtpParameters(e);i._pendingOffer[t].localCapabilities=n}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===e.type){t=SDPUtils.splitSections(i.remoteDescription.sdp),n=t.shift();var r=SDPUtils.matchPrefix(n,"a=ice-lite").length>0;t.forEach(function(e,t){var a=i.transceivers[t],s=a.iceGatherer,o=a.iceTransport,c=a.dtlsTransport,d=a.localCapabilities,l=a.remoteCapabilities;if(!("0"===e.split("\n",1)[0].split(" ",2)[1])&&!a.isDatachannel){var p=SDPUtils.getIceParameters(e,n);if(r){var f=SDPUtils.matchPrefix(e,"a=candidate:").map(function(e){return SDPUtils.parseCandidate(e)}).filter(function(e){return"1"===e.component});f.length&&o.setRemoteCandidates(f)}var h=SDPUtils.getDtlsParameters(e,n);r&&(h.role="server"),i.usingBundle&&0!==t||(o.start(s,p,r?"controlling":"controlled"),c.start(h));var u=i._getCommonCapabilities(d,l);i._transceive(a,u.codecs.length>0,!1)}})}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var a=arguments.length>1&&"function"==typeof arguments[1];if(a){var s=arguments[1];window.setTimeout(function(){s(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),i._emitBufferedCandidates()},0)}var o=Promise.resolve();return o.then(function(){a||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),window.setTimeout(i._emitBufferedCandidates.bind(i),500))}),o},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,n=new MediaStream,i=[],r=SDPUtils.splitSections(e.sdp),a=r.shift(),s=SDPUtils.matchPrefix(a,"a=ice-lite").length>0;switch(this.usingBundle=SDPUtils.matchPrefix(a,"a=group:BUNDLE ").length>0,r.forEach(function(r,o){var c=SDPUtils.splitLines(r)[0].substr(2).split(" "),d=c[0],l="0"===c[1],p=SDPUtils.getDirection(r,a),f=SDPUtils.matchPrefix(r,"a=mid:");if(f=f.length?f[0].substr(6):SDPUtils.generateIdentifier(),"application"!==d||"DTLS/SCTP"!==c[2]){var h,u,m,v,g,w,S,C,T,P,y,R,D,E=SDPUtils.parseRtpParameters(r);l||(y=SDPUtils.getIceParameters(r,a),(R=SDPUtils.getDtlsParameters(r,a)).role="client"),C=SDPUtils.parseRtpEncodingParameters(r);var b=SDPUtils.matchPrefix(r,"a=ssrc:").map(function(e){return SDPUtils.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];b&&(D=b.value);var k=SDPUtils.matchPrefix(r,"a=end-of-candidates",a).length>0,_=SDPUtils.matchPrefix(r,"a=candidate:").map(function(e){return SDPUtils.parseCandidate(e)}).filter(function(e){return"1"===e.component});if("offer"!==e.type||l)"answer"!==e.type||l||(u=(h=t.transceivers[o]).iceGatherer,m=h.iceTransport,v=h.dtlsTransport,g=h.rtpSender,w=h.rtpReceiver,S=h.sendEncodingParameters,T=h.localCapabilities,t.transceivers[o].recvEncodingParameters=C,t.transceivers[o].remoteCapabilities=E,t.transceivers[o].cname=D,(s||k)&&_.length&&m.setRemoteCandidates(_),t.usingBundle&&0!==o||(m.start(u,y,"controlling"),v.start(R)),t._transceive(h,"sendrecv"===p||"recvonly"===p,"sendrecv"===p||"sendonly"===p),!w||"sendrecv"!==p&&"sendonly"!==p?delete h.rtpReceiver:(i.push([P=w.track,w]),n.addTrack(P)));else{var U,O=t.usingBundle&&o>0?{iceGatherer:t.transceivers[0].iceGatherer,iceTransport:t.transceivers[0].iceTransport,dtlsTransport:t.transceivers[0].dtlsTransport}:t._createIceAndDtlsTransports(f,o);if(k&&O.iceTransport.setRemoteCandidates(_),(T=RTCRtpReceiver.getCapabilities(d)).codecs=T.codecs.filter(function(e){return"rtx"!==e.name}),S=[{ssrc:1001*(2*o+2)}],w=new RTCRtpReceiver(O.dtlsTransport,d),i.push([P=w.track,w]),n.addTrack(P),t.localStreams.length>0&&t.localStreams[0].getTracks().length>=o)"audio"===d?U=t.localStreams[0].getAudioTracks()[0]:"video"===d&&(U=t.localStreams[0].getVideoTracks()[0]),U&&(g=new RTCRtpSender(U,O.dtlsTransport));t.transceivers[o]={iceGatherer:O.iceGatherer,iceTransport:O.iceTransport,dtlsTransport:O.dtlsTransport,localCapabilities:T,remoteCapabilities:E,rtpSender:g,rtpReceiver:w,kind:d,mid:f,cname:D,sendEncodingParameters:S,recvEncodingParameters:C},t._transceive(t.transceivers[o],!1,"sendrecv"===p||"sendonly"===p)}}else t.transceivers[o]={mid:f,isDatachannel:!0}}),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return n.getTracks().length&&(t.remoteStreams.push(n),window.setTimeout(function(){var e=new Event("addstream");e.stream=n,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout(function(){t.onaddstream(e)},0),i.forEach(function(i){var r=i[0],a=i[1],s=new Event("track");s.track=r,s.receiver=a,s.streams=[n],t.dispatchEvent(e),null!==t.ontrack&&window.setTimeout(function(){t.ontrack(s)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0||t.checking>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":(t.connected>0||t.completed>0)&&(e="connected"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this.dispatchEvent(n),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(n)}},window.RTCPeerConnection.prototype.createOffer=function(){var e,t=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");1===arguments.length&&"function"!=typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var n=[],i=0,r=0;if(this.localStreams.length&&(i=this.localStreams[0].getAudioTracks().length,r=this.localStreams[0].getVideoTracks().length),e){if(e.mandatory||e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==e.offerToReceiveAudio&&(i=e.offerToReceiveAudio),void 0!==e.offerToReceiveVideo&&(r=e.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(e){n.push({kind:e.kind,track:e,wantReceive:"audio"===e.kind?i>0:r>0}),"audio"===e.kind?i--:"video"===e.kind&&r--});i>0||r>0;)i>0&&(n.push({kind:"audio",wantReceive:!0}),i--),r>0&&(n.push({kind:"video",wantReceive:!0}),r--);var a=SDPUtils.writeSessionBoilerplate(),s=[];n.forEach(function(e,n){var i,r,a=e.track,o=e.kind,c=SDPUtils.generateIdentifier(),d=t.usingBundle&&n>0?{iceGatherer:s[0].iceGatherer,iceTransport:s[0].iceTransport,dtlsTransport:s[0].dtlsTransport}:t._createIceAndDtlsTransports(c,n),l=RTCRtpSender.getCapabilities(o);l.codecs=l.codecs.filter(function(e){return"rtx"!==e.name}),l.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1")});var p=[{ssrc:1001*(2*n+1)}];a&&(i=new RTCRtpSender(a,d.dtlsTransport)),e.wantReceive&&(r=new RTCRtpReceiver(d.dtlsTransport,o)),s[n]={iceGatherer:d.iceGatherer,iceTransport:d.iceTransport,dtlsTransport:d.dtlsTransport,localCapabilities:l,remoteCapabilities:null,rtpSender:i,rtpReceiver:r,kind:o,mid:c,sendEncodingParameters:p,recvEncodingParameters:null}}),this.usingBundle&&(a+="a=group:BUNDLE "+s.map(function(e){return e.mid}).join(" ")+"\r\n"),n.forEach(function(e,n){var i=s[n];a+=SDPUtils.writeMediaSection(i,i.localCapabilities,"offer",t.localStreams[0])}),this._pendingOffer=s;var o=new RTCSessionDescription({type:"offer",sdp:a});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,o),Promise.resolve(o)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=SDPUtils.writeSessionBoilerplate();this.usingBundle&&(t+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),this.transceivers.forEach(function(n){if(n.isDatachannel)t+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+n.mid+"\r\n";else{var i=e._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);t+=SDPUtils.writeMediaSection(n,i,"answer",e.localStreams[0])}});var n=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(e){var t=e.sdpMLineIndex;if(e.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===e.sdpMid){t=n;break}var i=this.transceivers[t];if(i){var r=Object.keys(e.candidate).length>0?SDPUtils.parseCandidate(e.candidate):{};if("tcp"===r.protocol&&(0===r.port||9===r.port))return;if("1"!==r.component)return;"endOfCandidates"===r.type&&(r={}),i.iceTransport.addRemoteCandidate(r);var a=SDPUtils.splitSections(this.remoteDescription.sdp);a[t+1]+=(r.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=a.join("")}}else this.transceivers.forEach(function(e){e.iceTransport.addRemoteCandidate({})});return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){t[n]&&e.push(t[n].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(n){var i=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){i.set(t,e[t]),i[t]=e[t]})}),t&&window.setTimeout(t,0,i),n(i)})})}}};module.exports={shimPeerConnection:edgeShim.shimPeerConnection,shimGetUserMedia:require(150)};

},{"113":113,"150":150,"154":154}],150:[function(require,module,exports){
"use strict";module.exports=function(){var e=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(r){return e(r).catch(function(e){return Promise.reject({name:{PermissionDeniedError:"NotAllowedError"}[(r=e).name]||r.name,message:r.message,constraint:r.constraint,toString:function(){return this.name}});var r})}};

},{}],151:[function(require,module,exports){
"use strict";var browserDetails=require(154).browserDetails,firefoxShim={shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(browserDetails.version<38&&e&&e.iceServers){for(var n=[],o=0;o<e.iceServers.length;o++){var r=e.iceServers[o];if(r.hasOwnProperty("urls"))for(var i=0;i<r.urls.length;i++){var c={url:r.urls[i]};0===r.urls[i].indexOf("turn")&&(c.username=r.username,c.credential=r.credential),n.push(c)}else n.push(e.iceServers[o])}e.iceServers=n}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;if(RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())},browserDetails.version<48){var t=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,n,o){return t.apply(this,[e||null]).then(function(e){return t=e,n=new Map,Object.keys(t).forEach(function(e){n.set(e,t[e]),n[e]=t[e]}),n;var t,n}).then(n,o)}}}}};module.exports={shimOnTrack:firefoxShim.shimOnTrack,shimSourceObject:firefoxShim.shimSourceObject,shimPeerConnection:firefoxShim.shimPeerConnection,shimGetUserMedia:require(152)};

},{"152":152,"154":154}],152:[function(require,module,exports){
"use strict";var logging=require(154).log,browserDetails=require(154).browserDetails;module.exports=function(){var e=function(e){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},i=function(i,r,t){var n=function(e){if("object"!=typeof e||e.require)return e;var i=[];return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var t=e[r]="object"==typeof e[r]?e[r]:{ideal:e[r]};if(void 0===t.min&&void 0===t.max&&void 0===t.exact||i.push(r),void 0!==t.exact&&("number"==typeof t.exact?t.min=t.max=t.exact:e[r]=t.exact,delete t.exact),void 0!==t.ideal){e.advanced=e.advanced||[];var n={};n[r]="number"==typeof t.ideal?{min:t.ideal,max:t.ideal}:t.ideal,e.advanced.push(n),delete t.ideal,Object.keys(t).length||delete e[r]}}}),i.length&&(e.require=i),e};return i=JSON.parse(JSON.stringify(i)),browserDetails.version<38&&(logging("spec: "+JSON.stringify(i)),i.audio&&(i.audio=n(i.audio)),i.video&&(i.video=n(i.video)),logging("ff37: "+JSON.stringify(i))),navigator.mozGetUserMedia(i,r,function(i){t(e(i))})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:function(e){return new Promise(function(r,t){i(e,r,t)})},addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},browserDetails.version<41){var r=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return r().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(browserDetails.version<49){var t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(i){return t(i).then(function(e){if(i.audio&&!e.getAudioTracks().length||i.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return e},function(i){return Promise.reject(e(i))})}}navigator.getUserMedia=function(e,r,t){if(browserDetails.version<44)return i(e,r,t);console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),navigator.mediaDevices.getUserMedia(e).then(r,t)}};

},{"154":154}],153:[function(require,module,exports){
"use strict";var safariShim={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}};module.exports={shimGetUserMedia:safariShim.shimGetUserMedia};

},{}],154:[function(require,module,exports){
"use strict";var logDisabled_=!0,utils={disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(logDisabled_=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(logDisabled_)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(e,r,o){var t=e.match(r);return t&&t.length>=o&&parseInt(t[o],10)},detectBrowser:function(){var e={};if(e.browser=null,e.version=null,"undefined"==typeof window||!window.navigator)return e.browser="Not a browser.",e;if(navigator.mozGetUserMedia)e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.browser="safari",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1)}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return e.browser="Not a supported browser.",e;e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2)}return e}};module.exports={log:utils.log,disableLog:utils.disableLog,browserDetails:utils.detectBrowser(),extractVersion:utils.extractVersion};

},{}],155:[function(require,module,exports){
(function (process){
function WebRTCSwarm(e,n){if(!(this instanceof WebRTCSwarm))return new WebRTCSwarm(e,n);if(!e)throw new Error("SignalHub instance required");n||(n={}),events.EventEmitter.call(this),this.setMaxListeners(0),this.hub=e,this.wrtc=n.wrtc,this.channelConfig=n.channelConfig,this.config=n.config,this.stream=n.stream,this.wrap=n.wrap||function(e){return e},this.unwrap=n.unwrap||function(e){return e},this.offerConstraints=n.offerConstraints||{},this.maxPeers=n.maxPeers||1/0,this.me=n.uuid||cuid(),debug("my uuid:",this.me),this.remotes={},this.peers=[],this.closed=!1,subscribe(this,e)}function setup(e,n,r){n.on("connect",function(){debug("connected to peer",r),e.peers.push(n),e.emit("peer",n,r),e.emit("connect",n,r)});var t=once(function(t){debug("disconnected from peer",r,t),e.remotes[r]===n&&delete e.remotes[r];var i=e.peers.indexOf(n);i>-1&&e.peers.splice(i,1),e.emit("disconnect",n,r)}),i=[],o=!1;n.on("signal",function(n){i.push(n),function n(){if(!e.closed&&!o&&i.length){o=!0;var t={from:e.me,signal:i.shift()};t=e.wrap(t,r),e.hub.broadcast(r,t,function(){o=!1,n()})}}()}),n.on("error",t),n.once("close",t)}function subscribe(e,n){n.subscribe("all").pipe(through.obj(function(n,r,t){if(n=e.unwrap(n,"all"),e.closed||!n)return t();if(debug("/all",n),n.from===e.me)return debug("skipping self",n.from),t();if("connect"===n.type){if(e.peers.length>=e.maxPeers)return debug("skipping because maxPeers is met",n.from),t();if(e.remotes[n.from])return debug("skipping existing remote",n.from),t();debug("connecting to new peer (as initiator)",n.from);var i=new SimplePeer({wrtc:e.wrtc,initiator:!0,channelConfig:e.channelConfig,config:e.config,stream:e.stream,offerConstraints:e.offerConstraints});setup(e,i,n.from),e.remotes[n.from]=i}t()})),n.subscribe(e.me).once("open",connect.bind(null,e,n)).pipe(through.obj(function(n,r,t){if(n=e.unwrap(n,e.me),e.closed||!n)return t();var i=e.remotes[n.from];if(!i){if(!n.signal||"offer"!==n.signal.type)return debug("skipping non-offer",n),t();debug("connecting to new peer (as not initiator)",n.from),i=e.remotes[n.from]=new SimplePeer({wrtc:e.wrtc,channelConfig:e.channelConfig,config:e.config,stream:e.stream,offerConstraints:e.offerConstraints}),setup(e,i,n.from)}debug("signalling",n.from,n.signal),i.signal(n.signal),t()}))}function connect(e,n){if(!(e.closed||e.peers.length>=e.maxPeers)){var r={type:"connect",from:e.me};r=e.wrap(r,"all"),n.broadcast("all",r,function(){setTimeout(connect.bind(null,e,n),Math.floor(2e3*Math.random())+(e.peers.length?13e3:3e3))})}}var SimplePeer=require(116),inherits=require(59),events=require(42),through=require(130),cuid=require(30),once=require(80),debug=require(31)("webrtc-swarm");module.exports=WebRTCSwarm,inherits(WebRTCSwarm,events.EventEmitter),WebRTCSwarm.WEBRTC_SUPPORT=SimplePeer.WEBRTC_SUPPORT,WebRTCSwarm.prototype.close=function(e){if(!this.closed){this.closed=!0,e&&this.once("close",e);var n=this;this.hub.close(function(){var e=n.peers.length;if(e>0){var r=0;n.peers.forEach(function(t){t.once("close",function(){++r===e&&n.emit("close")}),process.nextTick(function(){t.destroy()})})}else n.emit("close")})}};

}).call(this,require(83))
},{"116":116,"130":130,"30":30,"31":31,"42":42,"59":59,"80":80,"83":83}],156:[function(require,module,exports){
function wrappy(n,r){function e(){for(var r=new Array(arguments.length),e=0;e<r.length;e++)r[e]=arguments[e];var t=n.apply(this,r),o=r[r.length-1];return"function"==typeof t&&t!==o&&Object.keys(o).forEach(function(n){t[n]=o[n]}),t}if(n&&r)return wrappy(n)(r);if("function"!=typeof n)throw new TypeError("need wrapper function");return Object.keys(n).forEach(function(r){e[r]=n[r]}),e}module.exports=wrappy;

},{}],157:[function(require,module,exports){
function XSalsa20(t,e){if(!(this instanceof XSalsa20))return new XSalsa20(t,e);if(!t||t.length<24)throw new Error("nonce must be at least 24 bytes");if(!e||e.length<32)throw new Error("key must be at least 32 bytes");this._xor=xsalsa20&&xsalsa20.exports?new WASM(t,e):new Fallback(t,e)}function WASM(t,e){free.length||(free.push(head),head+=64),this._pointer=free.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,xsalsa20.memory.fill(0,this._pointer,this._pointer+8),xsalsa20.memory.set(t,this._nonce),xsalsa20.memory.set(e,this._key)}function Fallback(t,e){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,core_hsalsa20(this._s,t,e,SIGMA);for(var s=0;s<8;s++)this._z[s]=t[s+16]}function core_salsa20(t,e,s,a){for(var o,r=255&a[0]|(255&a[1])<<8|(255&a[2])<<16|(255&a[3])<<24,i=255&s[0]|(255&s[1])<<8|(255&s[2])<<16|(255&s[3])<<24,l=255&s[4]|(255&s[5])<<8|(255&s[6])<<16|(255&s[7])<<24,n=255&s[8]|(255&s[9])<<8|(255&s[10])<<16|(255&s[11])<<24,h=255&s[12]|(255&s[13])<<8|(255&s[14])<<16|(255&s[15])<<24,f=255&a[4]|(255&a[5])<<8|(255&a[6])<<16|(255&a[7])<<24,_=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,p=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,y=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,u=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,c=255&a[8]|(255&a[9])<<8|(255&a[10])<<16|(255&a[11])<<24,w=255&s[16]|(255&s[17])<<8|(255&s[18])<<16|(255&s[19])<<24,x=255&s[20]|(255&s[21])<<8|(255&s[22])<<16|(255&s[23])<<24,m=255&s[24]|(255&s[25])<<8|(255&s[26])<<16|(255&s[27])<<24,S=255&s[28]|(255&s[29])<<8|(255&s[30])<<16|(255&s[31])<<24,d=255&a[12]|(255&a[13])<<8|(255&a[14])<<16|(255&a[15])<<24,v=r,A=i,b=l,k=n,X=h,g=f,z=_,M=p,E=y,U=u,F=c,G=w,I=x,W=m,B=S,Y=d,N=0;N<20;N+=2)v^=(o=(I^=(o=(E^=(o=(X^=(o=v+I|0)<<7|o>>>25)+v|0)<<9|o>>>23)+X|0)<<13|o>>>19)+E|0)<<18|o>>>14,g^=(o=(A^=(o=(W^=(o=(U^=(o=g+A|0)<<7|o>>>25)+g|0)<<9|o>>>23)+U|0)<<13|o>>>19)+W|0)<<18|o>>>14,F^=(o=(z^=(o=(b^=(o=(B^=(o=F+z|0)<<7|o>>>25)+F|0)<<9|o>>>23)+B|0)<<13|o>>>19)+b|0)<<18|o>>>14,Y^=(o=(G^=(o=(M^=(o=(k^=(o=Y+G|0)<<7|o>>>25)+Y|0)<<9|o>>>23)+k|0)<<13|o>>>19)+M|0)<<18|o>>>14,v^=(o=(k^=(o=(b^=(o=(A^=(o=v+k|0)<<7|o>>>25)+v|0)<<9|o>>>23)+A|0)<<13|o>>>19)+b|0)<<18|o>>>14,g^=(o=(X^=(o=(M^=(o=(z^=(o=g+X|0)<<7|o>>>25)+g|0)<<9|o>>>23)+z|0)<<13|o>>>19)+M|0)<<18|o>>>14,F^=(o=(U^=(o=(E^=(o=(G^=(o=F+U|0)<<7|o>>>25)+F|0)<<9|o>>>23)+G|0)<<13|o>>>19)+E|0)<<18|o>>>14,Y^=(o=(B^=(o=(W^=(o=(I^=(o=Y+B|0)<<7|o>>>25)+Y|0)<<9|o>>>23)+I|0)<<13|o>>>19)+W|0)<<18|o>>>14;A=A+i|0,b=b+l|0,k=k+n|0,X=X+h|0,g=g+f|0,z=z+_|0,M=M+p|0,E=E+y|0,U=U+u|0,F=F+c|0,G=G+w|0,I=I+x|0,W=W+m|0,B=B+S|0,Y=Y+d|0,t[0]=(v=v+r|0)>>>0&255,t[1]=v>>>8&255,t[2]=v>>>16&255,t[3]=v>>>24&255,t[4]=A>>>0&255,t[5]=A>>>8&255,t[6]=A>>>16&255,t[7]=A>>>24&255,t[8]=b>>>0&255,t[9]=b>>>8&255,t[10]=b>>>16&255,t[11]=b>>>24&255,t[12]=k>>>0&255,t[13]=k>>>8&255,t[14]=k>>>16&255,t[15]=k>>>24&255,t[16]=X>>>0&255,t[17]=X>>>8&255,t[18]=X>>>16&255,t[19]=X>>>24&255,t[20]=g>>>0&255,t[21]=g>>>8&255,t[22]=g>>>16&255,t[23]=g>>>24&255,t[24]=z>>>0&255,t[25]=z>>>8&255,t[26]=z>>>16&255,t[27]=z>>>24&255,t[28]=M>>>0&255,t[29]=M>>>8&255,t[30]=M>>>16&255,t[31]=M>>>24&255,t[32]=E>>>0&255,t[33]=E>>>8&255,t[34]=E>>>16&255,t[35]=E>>>24&255,t[36]=U>>>0&255,t[37]=U>>>8&255,t[38]=U>>>16&255,t[39]=U>>>24&255,t[40]=F>>>0&255,t[41]=F>>>8&255,t[42]=F>>>16&255,t[43]=F>>>24&255,t[44]=G>>>0&255,t[45]=G>>>8&255,t[46]=G>>>16&255,t[47]=G>>>24&255,t[48]=I>>>0&255,t[49]=I>>>8&255,t[50]=I>>>16&255,t[51]=I>>>24&255,t[52]=W>>>0&255,t[53]=W>>>8&255,t[54]=W>>>16&255,t[55]=W>>>24&255,t[56]=B>>>0&255,t[57]=B>>>8&255,t[58]=B>>>16&255,t[59]=B>>>24&255,t[60]=Y>>>0&255,t[61]=Y>>>8&255,t[62]=Y>>>16&255,t[63]=Y>>>24&255}function core_hsalsa20(t,e,s,a){for(var o,r=255&a[0]|(255&a[1])<<8|(255&a[2])<<16|(255&a[3])<<24,i=255&s[0]|(255&s[1])<<8|(255&s[2])<<16|(255&s[3])<<24,l=255&s[4]|(255&s[5])<<8|(255&s[6])<<16|(255&s[7])<<24,n=255&s[8]|(255&s[9])<<8|(255&s[10])<<16|(255&s[11])<<24,h=255&s[12]|(255&s[13])<<8|(255&s[14])<<16|(255&s[15])<<24,f=255&a[4]|(255&a[5])<<8|(255&a[6])<<16|(255&a[7])<<24,_=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,p=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,y=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,u=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,c=255&a[8]|(255&a[9])<<8|(255&a[10])<<16|(255&a[11])<<24,w=255&s[16]|(255&s[17])<<8|(255&s[18])<<16|(255&s[19])<<24,x=255&s[20]|(255&s[21])<<8|(255&s[22])<<16|(255&s[23])<<24,m=255&s[24]|(255&s[25])<<8|(255&s[26])<<16|(255&s[27])<<24,S=255&s[28]|(255&s[29])<<8|(255&s[30])<<16|(255&s[31])<<24,d=255&a[12]|(255&a[13])<<8|(255&a[14])<<16|(255&a[15])<<24,v=0;v<20;v+=2)r^=(o=(x^=(o=(y^=(o=(h^=(o=r+x|0)<<7|o>>>25)+r|0)<<9|o>>>23)+h|0)<<13|o>>>19)+y|0)<<18|o>>>14,f^=(o=(i^=(o=(m^=(o=(u^=(o=f+i|0)<<7|o>>>25)+f|0)<<9|o>>>23)+u|0)<<13|o>>>19)+m|0)<<18|o>>>14,c^=(o=(_^=(o=(l^=(o=(S^=(o=c+_|0)<<7|o>>>25)+c|0)<<9|o>>>23)+S|0)<<13|o>>>19)+l|0)<<18|o>>>14,d^=(o=(w^=(o=(p^=(o=(n^=(o=d+w|0)<<7|o>>>25)+d|0)<<9|o>>>23)+n|0)<<13|o>>>19)+p|0)<<18|o>>>14,r^=(o=(n^=(o=(l^=(o=(i^=(o=r+n|0)<<7|o>>>25)+r|0)<<9|o>>>23)+i|0)<<13|o>>>19)+l|0)<<18|o>>>14,f^=(o=(h^=(o=(p^=(o=(_^=(o=f+h|0)<<7|o>>>25)+f|0)<<9|o>>>23)+_|0)<<13|o>>>19)+p|0)<<18|o>>>14,c^=(o=(u^=(o=(y^=(o=(w^=(o=c+u|0)<<7|o>>>25)+c|0)<<9|o>>>23)+w|0)<<13|o>>>19)+y|0)<<18|o>>>14,d^=(o=(S^=(o=(m^=(o=(x^=(o=d+S|0)<<7|o>>>25)+d|0)<<9|o>>>23)+x|0)<<13|o>>>19)+m|0)<<18|o>>>14;t[0]=r>>>0&255,t[1]=r>>>8&255,t[2]=r>>>16&255,t[3]=r>>>24&255,t[4]=f>>>0&255,t[5]=f>>>8&255,t[6]=f>>>16&255,t[7]=f>>>24&255,t[8]=c>>>0&255,t[9]=c>>>8&255,t[10]=c>>>16&255,t[11]=c>>>24&255,t[12]=d>>>0&255,t[13]=d>>>8&255,t[14]=d>>>16&255,t[15]=d>>>24&255,t[16]=_>>>0&255,t[17]=_>>>8&255,t[18]=_>>>16&255,t[19]=_>>>24&255,t[20]=p>>>0&255,t[21]=p>>>8&255,t[22]=p>>>16&255,t[23]=p>>>24&255,t[24]=y>>>0&255,t[25]=y>>>8&255,t[26]=y>>>16&255,t[27]=y>>>24&255,t[28]=u>>>0&255,t[29]=u>>>8&255,t[30]=u>>>16&255,t[31]=u>>>24&255}var xsalsa20=require(158)(),SIGMA=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),head=144,top=head,free=[];module.exports=XSalsa20,XSalsa20.NONCEBYTES=24,XSalsa20.KEYBYTES=32,XSalsa20.prototype.update=function(t,e){if(!t)throw new Error("input must be Uint8Array or Buffer");return e||(e=new Uint8Array(t.length)),t.length&&this._xor.update(t,e),e},XSalsa20.prototype.final=XSalsa20.prototype.finalize=function(){this._xor.finalize(),this._xor=null},WASM.prototype.update=function(t,e){var s=this._overflow+t.length,a=head+this._overflow;(top=head+s)>=xsalsa20.memory.length&&xsalsa20.realloc(top),xsalsa20.memory.set(t,a),xsalsa20.exports.xsalsa20_xor(this._pointer,head,head,s,this._nonce,this._key),e.set(xsalsa20.memory.subarray(a,head+s)),this._overflow=63&s},WASM.prototype.finalize=function(){xsalsa20.memory.fill(0,this._pointer,this._key+32),top>head&&(xsalsa20.memory.fill(0,head,top),top=0),free.push(this._pointer)},Fallback.prototype.update=function(t,e){for(var s=new Uint8Array(64),a=0,o=this._overflow,r=t.length+this._overflow,i=this._z,l=-this._overflow,n=-this._overflow;r>=64;){for(core_salsa20(s,i,this._s,SIGMA);o<64;o++)e[n+o]=t[l+o]^s[o];for(a=1,o=8;o<16;o++)i[o]=255&(a+=255&i[o]|0),a>>>=8;r-=64,n+=64,l+=64,o=0}if(r>0)for(core_salsa20(s,i,this._s,SIGMA);o<r;o++)e[n+o]=t[l+o]^s[o];this._overflow=63&r},Fallback.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)};

},{"158":158}],158:[function(require,module,exports){
function loadWebAssembly(A){function I(o){if(C.exports)return o();if(Q)Q.then(o.bind(null,null)).catch(o);else{try{if(A&&A.async)throw new Error("async");B({instance:new WebAssembly.Instance(new WebAssembly.Module(g),E)})}catch(A){Q=WebAssembly.instantiate(g,E).then(B)}I(o)}}function B(A){C.exports=A.instance.exports,C.memory=C.exports.memory&&C.exports.memory.buffer&&new Uint8Array(C.exports.memory.buffer)}if(!loadWebAssembly.supported)return null;var E=A&&A.imports,g=toUint8Array("AGFzbQEAAAABGgNgBn9/f39/fwBgBn9/f39+fwF+YAN/f38AAwcGAAEBAgICBQUBAQroBwcoAwZtZW1vcnkCAAx4c2Fsc2EyMF94b3IAAAxjb3JlX3NhbHNhMjAABArqEQYYACAAIAEgAiADIAQgACkDACAFEAE3AwALPQBB8AAgAyAFEAMgACABIAIgA0EQaiAEQfAAEAJB8ABCADcDAEH4AEIANwMAQYABQgA3AwBBiAFCADcDAAuHBQEBfyACQQBGBEBCAA8LQdAAIAUpAwA3AwBB2AAgBUEIaikDADcDAEHgACAFQRBqKQMANwMAQegAIAVBGGopAwA3AwBBACADKQMANwMAQQggBDcDAAJAA0AgAkHAAEkNAUEQQQBB0AAQBSAAIAEpAwBBECkDAIU3AwAgAEEIaiABQQhqKQMAQRgpAwCFNwMAIABBEGogAUEQaikDAEEgKQMAhTcDACAAQRhqIAFBGGopAwBBKCkDAIU3AwAgAEEgaiABQSBqKQMAQTApAwCFNwMAIABBKGogAUEoaikDAEE4KQMAhTcDACAAQTBqIAFBMGopAwBBwAApAwCFNwMAIABBOGogAUE4aikDAEHIACkDAIU3AwBBCEEIKQMAQgF8NwMAIABBwABqIQAgAUHAAGohASACQcAAayECDAALC0EIKQMAIQQgAkEASwRAQRBBAEHQABAFAkACQAJAAkACQAJAAkACQCACQQhuDgcHBgUEAwIBAAsgAEE4aiABQThqKQMAQcgAKQMAhTcDAAsgAEEwaiABQTBqKQMAQcAAKQMAhTcDAAsgAEEoaiABQShqKQMAQTgpAwCFNwMACyAAQSBqIAFBIGopAwBBMCkDAIU3AwALIABBGGogAUEYaikDAEEoKQMAhTcDAAsgAEEQaiABQRBqKQMAQSApAwCFNwMACyAAQQhqIAFBCGopAwBBGCkDAIU3AwALIAAgASkDAEEQKQMAhTcDAAtBEEIANwMAQRhCADcDAEEgQgA3AwBBKEIANwMAQTBCADcDAEE4QgA3AwBBwABCADcDAEHIAEIANwMAQdAAQgA3AwBB2ABCADcDAEHgAEIANwMAQegAQgA3AwAgBA8LnQUBEX9B5fDBiwYhA0HuyIGZAyEIQbLaiMsHIQ1B9MqB2QYhEiACKAIAIQQgAkEEaigCACEFIAJBCGooAgAhBiACQQxqKAIAIQcgAkEQaigCACEOIAJBFGooAgAhDyACQRhqKAIAIRAgAkEcaigCACERIAEoAgAhCSABQQRqKAIAIQogAUEIaigCACELIAFBDGooAgAhDEEUIRMCQANAIBNBAEYNASAHIAMgD2pBB3dzIQcgCyAHIANqQQl3cyELIA8gCyAHakENd3MhDyADIA8gC2pBEndzIQMgDCAIIARqQQd3cyEMIBAgDCAIakEJd3MhECAEIBAgDGpBDXdzIQQgCCAEIBBqQRJ3cyEIIBEgDSAJakEHd3MhESAFIBEgDWpBCXdzIQUgCSAFIBFqQQ13cyEJIA0gCSAFakESd3MhDSAGIBIgDmpBB3dzIQYgCiAGIBJqQQl3cyEKIA4gCiAGakENd3MhDiASIA4gCmpBEndzIRIgBCADIAZqQQd3cyEEIAUgBCADakEJd3MhBSAGIAUgBGpBDXdzIQYgAyAGIAVqQRJ3cyEDIAkgCCAHakEHd3MhCSAKIAkgCGpBCXdzIQogByAKIAlqQQ13cyEHIAggByAKakESd3MhCCAOIA0gDGpBB3dzIQ4gCyAOIA1qQQl3cyELIAwgCyAOakENd3MhDCANIAwgC2pBEndzIQ0gDyASIBFqQQd3cyEPIBAgDyASakEJd3MhECARIBAgD2pBDXdzIREgEiARIBBqQRJ3cyESIBNBAmshEwwACwsgACADNgIAIABBBGogCDYCACAAQQhqIA02AgAgAEEMaiASNgIAIABBEGogCTYCACAAQRRqIAo2AgAgAEEYaiALNgIAIABBHGogDDYCAAsKACAAIAEgAhAFC90GASF/QeXwwYsGIQNB7siBmQMhCEGy2ojLByENQfTKgdkGIRIgAigCACEEIAJBBGooAgAhBSACQQhqKAIAIQYgAkEMaigCACEHIAJBEGooAgAhDiACQRRqKAIAIQ8gAkEYaigCACEQIAJBHGooAgAhESABKAIAIQkgAUEEaigCACEKIAFBCGooAgAhCyABQQxqKAIAIQwgAyETIAQhFCAFIRUgBiEWIAchFyAIIRggCSEZIAohGiALIRsgDCEcIA0hHSAOIR4gDyEfIBAhICARISEgEiEiQRQhIwJAA0AgI0EARg0BIAcgAyAPakEHd3MhByALIAcgA2pBCXdzIQsgDyALIAdqQQ13cyEPIAMgDyALakESd3MhAyAMIAggBGpBB3dzIQwgECAMIAhqQQl3cyEQIAQgECAMakENd3MhBCAIIAQgEGpBEndzIQggESANIAlqQQd3cyERIAUgESANakEJd3MhBSAJIAUgEWpBDXdzIQkgDSAJIAVqQRJ3cyENIAYgEiAOakEHd3MhBiAKIAYgEmpBCXdzIQogDiAKIAZqQQ13cyEOIBIgDiAKakESd3MhEiAEIAMgBmpBB3dzIQQgBSAEIANqQQl3cyEFIAYgBSAEakENd3MhBiADIAYgBWpBEndzIQMgCSAIIAdqQQd3cyEJIAogCSAIakEJd3MhCiAHIAogCWpBDXdzIQcgCCAHIApqQRJ3cyEIIA4gDSAMakEHd3MhDiALIA4gDWpBCXdzIQsgDCALIA5qQQ13cyEMIA0gDCALakESd3MhDSAPIBIgEWpBB3dzIQ8gECAPIBJqQQl3cyEQIBEgECAPakENd3MhESASIBEgEGpBEndzIRIgI0ECayEjDAALCyAAIAMgE2o2AgAgAEEEaiAEIBRqNgIAIABBCGogBSAVajYCACAAQQxqIAYgFmo2AgAgAEEQaiAHIBdqNgIAIABBFGogCCAYajYCACAAQRhqIAkgGWo2AgAgAEEcaiAKIBpqNgIAIABBIGogCyAbajYCACAAQSRqIAwgHGo2AgAgAEEoaiANIB1qNgIAIABBLGogDiAeajYCACAAQTBqIA8gH2o2AgAgAEE0aiAQICBqNgIAIABBOGogESAhajYCACAAQTxqIBIgImo2AgAL"),Q=null,C={buffer:g,memory:null,exports:null,realloc:function(A){C.exports.memory.grow(Math.ceil(Math.abs(A-C.memory.length)/65536)),C.memory=new Uint8Array(C.exports.memory.buffer)},onload:I};return I(function(){}),C}function toUint8Array(A){return"function"==typeof atob?new Uint8Array(atob(A).split("").map(charCodeAt)):new(require(22).Buffer)(A,"base64")}function charCodeAt(A){return A.charCodeAt(0)}module.exports=loadWebAssembly,loadWebAssembly.supported="undefined"!=typeof WebAssembly;

},{"22":22}],159:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],160:[function(require,module,exports){
function extend(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],161:[function(require,module,exports){
module.exports=function e(t,n){for(var o=0;o<n.length;o++){var i=n[o];if(Array.isArray(i))e(t,i);else{if(("number"==typeof i||"boolean"==typeof i||i instanceof Date||i instanceof RegExp)&&(i=i.toString()),"string"==typeof i){if(/^[\n\r\s]+$/.test(i))continue;if(t.lastChild&&"#text"===t.lastChild.nodeName){t.lastChild.nodeValue+=i;continue}i=document.createTextNode(i)}i&&i.nodeType&&t.appendChild(i)}}};

},{}],162:[function(require,module,exports){
function watch(e,t){function n(){var e=r.addSourceBuffer(mimeType),t=document.getElementById("key-input").value,n=hypercore(ram,t,{sparse:!0});n.on("ready",function(){function t(t){n.get(a,function(n,r){if(console.log("⚡️ appending block "+a),e.appendBuffer(r.buffer),a++,t)return t()})}n.download({linear:!0});var r=n.discoveryKey.toString("hex"),o=signalhub(r,config.signalhub),i=swarm(o);console.log("🌐 connecting to swarm"),i.on("peer",function(e,t){console.log("🙋 new peer found:",t),pump(e,n.replicate({live:!0,download:!0,encrypt:!1}),e)});var a=0;t(function(){e.addEventListener("updateend",function(){t()})})})}var r=new window.MediaSource;return function(){var e=require(161),t=document.createElement("div"),n=document.createElement("div");n.setAttribute("style","margin-bottom: 12px");var r=document.createElement("video");r.setAttribute("id","player"),r.setAttribute("controls","controls"),r.setAttribute("autoplay","autoplay"),e(n,["\n        ",r,"\n      "]);var o=document.createElement("div");o.setAttribute("style","margin-bottom: 12px");var i=document.createElement("button");i.onclick=arguments[0],e(i,["\n          Watch broadcast\n        "]),e(o,["\n        ",i,"\n      "]);var a=document.createElement("div"),u=document.createElement("input");return u.setAttribute("type","text"),u.setAttribute("id","key-input"),e(a,["\n        Key: ",u,"\n      "]),e(t,["\n      ",n,"\n\n      ",o,"\n\n      ",a,"\n    "]),t}(function(){r.addEventListener("sourceopen",n);var e=document.getElementById("player");e.src=window.URL.createObjectURL(r),e.play()})}var html=require(25),signalhub=require(114),swarm=require(155),hypercore=require(52),ram=require(93),pump=require(91),mimeType=require(5)(window.MediaSource.isTypeSupported),config=require(2);module.exports=watch;

},{"114":114,"155":155,"161":161,"2":2,"25":25,"5":5,"52":52,"91":91,"93":93}]},{},[4]);
